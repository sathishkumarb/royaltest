<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
 <div id="feedapp" ng-app="feed_app" ng-cloak> 
    <!-- Google Map Banner --->
    <div class="map_banner" ng-controller="mapController">
    	<div id="map_canvas"  ></div>
        <div class="you-location">YOUR LOCATION <i></i> <a href="javascript:void(0);">Dubai, UAE</a></div>
    </div><!-- Banner Close --->
    
    <!-- Filter Feeds --->
	<div ng-controller="feedsController">
    <div class="feed-filter_outer" >
    	<div class="home-container">
        	<div class="row">
            	<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                	<div class="feed-refresh"><a href="javascript:void(0);" ng-click="getFeeds(false)"><img src="<?php echo $this->basePath(); ?>/public/images/refresh-icon.svg" alt="" /></a></div>
                    <div class="show-sorting">
                    	Show: 
                        <span><a href="javascript:void(0);" ng-class="{'active': feedType=='All'}" ng-click="feedType='All';getFeeds(false);">All</a></span>
                        <span><a href="javascript:void(0);" ng-class="{'active': feedType=='Text'}" ng-click="feedType='Text';getFeeds(false);">Text</a></span>
                        <span><a href="javascript:void(0);" ng-class="{'active': feedType=='Media'}" ng-click="feedType='Media';getFeeds(false);">Media</a></span>
                        <span><a href="javascript:void(0);" ng-class="{'active': feedType=='Event'}" ng-click="feedType='Event';getFeeds(false);">Event</a></span>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                	<div class="feed-filters">
                    	Filter By:
                        <div class="filter_group-outer">
                            <a href="javascript:void(0);" class="filter_group" data-toggle="dropdown" id="by_group">{{groupFilter}}<span></span></a>
                            <ul class="dropdown-menu sort-group_dropdown color-trans arrow_box" role="menu" aria-labelledby="by_group">
                                <li><a href="javascript:void(0);" ng-class="{'active': groupFilterSelected=='All'}" ng-click="selectGroupFilters('All','All Groups')"><i></i>All Groups</a></li>
                                <li ng-repeat="item in feedGroups"><a href="javascript:void(0);" ng-class="{'active': groupFilterSelected==item.group_seo_title}" ng-click="selectGroupFilters(item.group_seo_title,item.group_title)"><i></i>{{item.group_title}}</a></li>
                                
                            </ul>
                        </div>
                        <div class="filter_group-outer">
                            <a href="javascript:void(0);" class="filter_group" data-toggle="dropdown" id="by_activity">{{ActivityFilter}}<span></span></a>
                            <ul class="dropdown-menu sort-group_dropdown color-trans arrow_box" role="menu" aria-labelledby="by_activity">
                                <li ng-repeat="item in activityFilterList"><a href="javascript:void(0);" ng-class="{'active': ActivityFilterSelected==item.0}" ng-click="selectActivityFilters(item.0,item.1)"><i></i>{{item.1}}</a></li>                                
                            </ul>
                        </div>
                        
                    </div>
                    <div class="clear"></div>
                </div>
                <div class="clear"></div>
            </div>
        </div>
    </div><!-- Filter Feeds Close --->
     
    <div class="home-container feeds-container" ng-init="getFeeds(false)" scroller> 
		<div class="row">
			<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12" id="feed_row1">
				<div class="item" id="statusbar">
					<div class="create_status-outer border_radius">
						<div class="create_status-header">
							<div class="header-profile_image create_status-profile">
								<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
								<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
								<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							</div> 
							<ul class="color-trans">
								<li><a href="javascript:void(0);" ng-class="{'active': status_selected=='text'}" id="status_header_text" ng-click="status_selected='text'"><i class="text"></i>Text</a></li> 
									  <li><a href="javascript:void(0);"  ng-class="{'active': status_selected=='media'}" id="status_header_media" ng-click="status_selected='media';"><i class="media"></i>Media</a></li> 
									  <li><a href="javascript:void(0);" id="event_tab" ng-class="{'active': status_selected=='event'}" id="status_header_event" ng-click="status_selected='event';"><i class="event"></i>Event</a></li> 
								 </ul> 
						 <div class="clear"></div> 
						  </div> 
						  <div id="status_text" ng-if="status_selected=='text'"> 
								<div class="create_status-textarea"> 
									<textarea name="status" placeholder="Whats on your mind?" ng-model="mypost.statusText"></textarea> 
							    </div>                      
							</div> 
						   <div id="status_media" ng-if="status_selected=='media'">
								<div class="status_media-outer">    
									<div ng-if="media_type=='image'"> 
										<div class="drag_drop-media group_drag-drop" id="uplodbtn"> 
											<div class="drag-caption"  > 
												<center><div id="ImageUploadStatus"></div></center> 
												<div id="default_img" onClick="getFile()"> 
													<img src="<?php echo $this->basePath();?>/public/images/drag_drop-img.svg" alt=""   /> 
													<br />Choose a photo to upload 
												</div> 
												<div id="uploaded_img" style="display:none"> 
													<img src="<?php echo $this->basePath();?>/public/images/drag_drop-img.svg" alt="" id="imgUserImage" /> 
													<a href="javascript:void(0)" id="removeUploaded" class="media_upload_close">Close</a> 
												</div> 
												<input type="file" name="btnUploadImage" id="btnUploadImage" style="width:0;height:0"  >                                 
											</div>						 	
										</div> 
										<div class="status_media-caption"><input name="caption" type="text" placeholder="Add caption..."  ng-model="mypost.caption" /></div> 
									 </div>			 				 
									 <div id="status-media_video"  ng-if="media_type=='video'"> 
										<span ng-if="showVideoImage==0"> 
											<div class="status-video_link"><input name="caption" type="text" placeholder="Enter youtube url"  ng-model="mypost.videourl" /></div> 
											<div class="status-video_butn"><a href="javascript:void(0);" class="default_butn_grey" ng-click="addVideo()">Add</a></div> 
											<div class="clear"></div> 
										</span> 
										<span ng-if="showVideoImage==1"> 
											<img class="youtube-image" src="http://img.youtube.com/vi/{{videoid}}/0.jpg" /> 
											<a href="javascript:void(0)" ng-click="RemoveVideo()" class="media_upload_close">Close</a> 
											<br/> 
										 </span>  
										<div class="status_media-caption"><input name="caption" type="text" placeholder="Add text..." ng-model="mypost.videoCaption" /></div> 
									 </div> 
									 
									 <div class="status_select-filetype"> 
										<a href="javascript:void(0);" class="media_photo" ng-class="{'active': media_type=='image'}" ng-click="changeMediaType('image')"></a>                                
										  <a href="javascript:void(0);" class="media_video" ng-class="{'active': media_type=='video'}" ng-click="changeMediaType('video')"></a> 
										 <div class="clear"></div> 
									 </div>
									<div id="progress">
									</div>
								  </div> 
								  
							  </div> 
							
							 <div id="status_event" ng-if="status_selected=='event'"> 
								<div class="status_events-outer"> 
									<div class="event_fields-outer"> 
										<input name="event_title" type="text" placeholder="Event Title" ng-model="mypost.event_title" /> 
									 </div> 
									 <div class="event_fields-outer"> 
										<div class="event_date-out border_radius"> 
											<div class="event_date-pick"> 
												  <i class="grey-calender"></i> 
												  <input name="event_date" id="event_date" type="text" value="" ng-model="mypost.event_date" /> 
												 <div class="clear"></div> 
											  </div> 
											  <div class="event_time-pick"> 
												 <input name="event_time" id="event_time" type="text" value="" placeholder="00:00:AM" ng-model="mypost.event_time" /> 
											 </div> 
											 <div class="clear"></div> 
										 </div> 
									 </div> 
									  <div class="event_fields-outer"> 
										<div class="event_date-out border_radius"> 
											<i class="grey-location status_event_location"></i> 
											 <input class="status_event_location-text" name="event_location" id="location" type="text" placeholder="Event Location" ng-model="mypost.event_location" /> 
											 <div class="clear"></div> 
										 </div> 
									 </div> 
									  <div class="status_event_pin-map"> 
										<div id="map-canvas"  ></div> 
										<div class="clear"></div> 
									  </div> 
									  <div class="status_event-details"> 
										<textarea name="event_description" placeholder="Event Description" class="border_radius" ng-model="mypost.event_description" ></textarea> 
									  </div> 
								 </div>                      
							 </div> 
							 <div class="create_status-footer">
								<div class="error-common" id="new_status_error" ></div>
								<div class="postin_group-outer"> 
									to: <span><a href="javascript:void(0);" class="filter_group" data-toggle="dropdown" id="post_in_group">{{selectedGroup}}<span></span></a> 
									<ul class="dropdown-menu post-group_dropdown color-trans arrow_box" role="menu" aria-labelledby="post_in_group"> 
										<li ng-repeat="item in mygroups"><a href="javascript:void(0);" ng-click="changeGroup(item.group_id,item.group_title)">{{item.group_title}}</a></li>	 							 
									</ul></span> 
									<span ng-if="status_selected=='event'"> 
									<span><a href="javascript:void(0);" class="filter_group" data-toggle="dropdown" id="post_members">{{selectedMemberType}}<span></span></a> 
									<ul class="dropdown-menu post-group_dropdown color-trans arrow_box" role="menu" aria-labelledby="post_members"> 
										<li ng-repeat="item in memberTypes"><a href="javascript:void(0);"  ng-click="changeMemberType(item.0,item.1)">{{item.1}}</a></li> 
										 
									</ul></span> 
									
									</span> 
									<div ng-show="inviteSelected" class="invite_common_container"  ng-if="status_selected=='event'&&selectedMemberType=='Invite people'"> 
									 <input name="event_invite" id="event_invite" type="text" value="" ng-model="event_search"  ng-focus="enablelist=1" ng-blur="hideList()" /> 
									 <div class="selected_members"> 
										<div ng-repeat="item in objSelectedUsers" class="invite_user_container" ng-click="RemoveFromInvitedUsers(item.user_id)"> 
											<div class="profile_imaage comn_profile_img"> 
												<img alt="" ng-if="item.user_image!=null&&item.user_image!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{item.user_id}}/{{ item.user_image }}"> 
												<img alt="" ng-if="(item.user_image==null||item.user_image=='')&&(item.user_fbid!=null&&item.user_fbid!='')" src="https://graph.facebook.com/{{item.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(item.user_image==null||item.user_image=='')&&(item.user_fbid==null||item.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</div> 
											<div class="invite_user_name">{{item.user_name}}</div> 
										</div> 
									 </div> 
									  <div class="listed_members_container"  ng-mouseover="OnListHover()" ng-mouseleave="OnListOut()"  ng-if="enablelist==1"> 
										<div ng-repeat="item in allMembers|filter:event_search" class="invite_user_container" remove-on-click ng-click="remove();AddToInvitedUsers(item.user_id,item.user_given_name,item.profile_photo,item.user_fbid);"> 
											<div class="profile_imaage comn_profile_img"> 
												<img alt="" ng-if="item.profile_photo!=null&&item.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{item.user_id}}/{{ item.profile_photo }}"> 
												<img alt="" ng-if="(item.profile_photo==null||item.profile_photo=='')&&(item.user_fbid!=null&&item.user_fbid!='')" src="https://graph.facebook.com/{{item.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(item.profile_photo==null||item.profile_photo=='')&&(item.user_fbid==null||item.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</div> 
											<div class="invite_user_name">{{item.user_given_name}}</div> 
										</div> 
									 </div> 
									 </div> 
								</div> 
								<div class="post-butns" ng-switch on="submit.switch"> 
									<div ng-switch-when="2" class="loading"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> </div> 
									<a href="javascript:void(0);" class="default_butn_violet" ng-click="submitStatus()" ng-switch-when="1"> Post</a></div> 
								<div class="clear"></div> 
							</div> 
						  </div> 
				</div>			 
				<div class="clear"></div>	
				<div class="item" ng-repeat="items in feeds_row1">
					<div ng-switch="items.type" >
						<div class="post-outer border_radius"  ng-switch-when='New Status' ng-init="selectedIndex = $index" >
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>						 
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span>posted in <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Discussion',items.content.group_discussion_id,1,$index)">Edit this post</a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Discussion',items.content.group_discussion_id,1,$index)">Delete this post</a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Discussion',items.content.group_discussion_id)" data-toggle="modal" data-target="#report_post">Report this post</a></li>
									</ul>
								</div>
							</div>
							<div class="post_status-text" >{{items.content.group_discussion_content}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Discussion_{{items.content.group_discussion_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<a href="javascript:void(0);" ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" ng-mouseover="loadToolTip('Discussion',items.content.group_discussion_id)" ng-mouseout="unloadToolTip('Discussion',items.content.group_discussion_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom"  ng-click="LoadLikedUsers('Discussion',items.content.group_discussion_id,items.content.like_count,items.content.is_liked)" >{{items.content.like_count}} likes</a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Discussion_{{items.content.group_discussion_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0">More..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1">More..</span>					 
											</div> 							 
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Discussion_{{items.content.group_discussion_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Discussion_{{items.content.group_discussion_id}}" class="post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,1,$index,1)"> {{items.content.comment_counts}} comments</a>							 
								</span>
								<div class="clear"></div>
								
								<div id="comment_Discussion_list_{{items.content.group_discussion_id}}" ng-if="items.viewComment==1">
									<div id="comment_Discussion_{{items.content.group_discussion_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Discussion_{{items.content.group_discussion_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Discussion',items.content.group_discussion_id);"></div>
											<div id="hashingUsers_Discussion_{{items.content.group_discussion_id}}"></div>
											<span id="hashed_users_Discussion_{{items.content.group_discussion_id}}" data-items=""></span>
										</div>
										<div class="clear"></div> 
										<div class="post_comment_reply-butns">										
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Discussion',items.content.group_discussion_id,1,$index)">Post</a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>															 
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-if="comments.likes_count==0" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 likes</a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);">Cancel</a>
														<a ng-click="SendEditComment(comments.comment_id,1,selectedIndex);" class="default_butn_violet" href="javascript:void(0);">Post</a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,1,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,1,$index,(items.content.comment_page*1)+1)">More comments</a></div>
								</div>								
							</div>
						</div>
						<div class="post-outer border_radius" ng-switch-when='New Media' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span>posted in <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Media',items.content.group_media_id,1,$index)">Edit this post</a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Media',items.content.group_media_id,1,$index)">Delete this post</a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Media',items.content.group_media_id)" data-toggle="modal" data-target="#report_post">Report this post</a></li>
									</ul>
								</div>
							</div>
							<div class="post_post-image">
								<a href="javascrip:void(0);" class="media_list"  data-toggle="modal" data-target="#post-img_popup" ng-click="loadMedia(items.content.group_media_id)">
									<img ng-if="items.content.media_type=='image'"  src="<?php echo $this->basePath(); ?>/public/{{image_paths.group}}{{items.content.group_id}}/media/{{items.content.media_content}}" alt=""   />
									<div class="status_youtube_video" ng-if="items.content.media_type=='video'"><span></span><img ng-if="items.content.media_type=='video'" src="http://img.youtube.com/vi/{{items.content.video_id}}/0.jpg" alt="" /></div>
								</a>
							</div>
							<div class="post_status-text" >{{items.content.media_caption}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Media_{{items.content.group_media_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<a href="javascript:void(0);"  ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" class="post_likes_count" ng-mouseover="loadToolTip('Media',items.content.group_media_id)" ng-mouseout="unloadToolTip('Media',items.content.group_media_id)" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Media',items.content.group_media_id,items.content.like_count,items.content.is_liked)"  >{{items.content.like_count}} likes</a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Media_{{items.content.group_media_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0">More..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1">More..</span>			 
											</div> 							 
										</span>	
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Media_{{items.content.group_media_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Media',items.content.group_media_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_reply post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,1,$index)" ng-if="items.content.is_commented!=1"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Media_{{items.content.group_media_id}}" class="post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,1,$index,1)"> {{items.content.comment_counts}} comments</a>
								</span>
								<div class="clear"></div>
											
								<div id="comment_Media_list_{{items.content.group_media_id}}" ng-if="items.viewComment==1">
									<div id="comment_Media_{{items.content.group_media_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Media_{{items.content.group_media_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Media',items.content.group_media_id);"></div>
											<div id="hashingUsers_Media_{{items.content.group_media_id}}"></div>
											<span id="hashed_users_Media_{{items.content.group_media_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Media',items.content.group_media_id,1,$index)">Post</a>
										</div>
									</div>
								</div>	
								<div class="clear"></div>	
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-if="comments.likes_count==0" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 likes</a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply" >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div  >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);">Cancel</a>
														<a ng-click="SendEditComment(comments.comment_id,1,selectedIndex);" class="default_butn_violet" href="javascript:void(0);">Post</a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,1,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Media',items.content.group_media_id,1,$index,(items.content.comment_page*1)+1)">More comments</a></div>
								</div>
							</div>
						</div>
						<div class="post-outer border_radius" ng-switch-when='New Activity' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
										<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span>posted in <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>	
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);"  data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Activity',items.content.group_activity_id,1,$index)">Edit this post</a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Activity',items.content.group_activity_id,1,$index)">Delete this post</a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Activity',items.content.group_activity_id)" data-toggle="modal" data-target="#report_post">Report this post</a></li>
										<li ng-if="items.content.allow_join==1&&items.content.is_going==1"><a href="javascript:void(0);" ng-click="QuitRSVP(items.content.group_activity_id,1,$index)">Quit event</a></li>
									</ul>
								</div>
							</div>
							<div class="post_event-map" id="map_Activity_{{items.content.group_activity_id}}"   >
								<div class="google-map" hello-maps="" latitude="
								{{items.content.group_activity_location_lat}}" longitude="{{items.content.group_activity_location_lng}}"  location="{{items.content.group_activity_location}}" going="{{items.content.is_going}}"></div>
							</div>
							<div class="post_event-header" >
								<i class="event-calender"></i><span>{{items.content.group_activity_start_timestamp}}</span>
								<div ng-if="items.content.allow_join==1">
									<span ng-if="items.content.is_going==1" class="event_butn" id="activityrsvp_{{items.content.group_activity_id}}">I'm Going</span>
									<span class="event_butn" ng-if="items.content.is_going!=1" id="activityrsvp_{{items.content.group_activity_id}}"><a href="javascript:void(0);" class="default_butn_blue" ng-click="JoinRSVP(items.content.group_activity_id,1,$index)" >Join</a></span>
								</div>
								<div class="clear"></div>
							</div>
							<div class="post_status-text" >
								<h5>{{items.content.group_activity_title}}</h5>
								<div class="event_joined-member">
									<div class="event_joined-left">
										<span class="event_going_members" id="activityrsvpcount_{{items.content.group_activity_id}}">{{items.content.rsvp_count}}</span>
										<a href="javascript:void(0)"  ng-click="loadRsvpList(items.content.group_activity_id,'All',1)">GOING </a>   /    <span class="event_going_members">{{items.content.rsvp_friend_count}}</span> <a href="javascript:void(0)" ng-click="loadRsvpList(items.content.group_activity_id,'friends',1)"> friends </a>
									</div>
									<div class="event_member-img">
										<a ng-repeat="attending_users_list in items.content.attending_users" href="<?php echo $this->basePath(); ?>/{{attending_users_list.user_profile_name}}"><span class="event_profile-img_joined comn_profile_img">
											<img alt="" ng-if="attending_users_list.profile_photo!=null&&attending_users_list.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{attending_users_list.user_id}}/{{ attending_users_list.profile_photo }}">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid!=null&&attending_users_list.user_fbid!='')" src="https://graph.facebook.com/{{attending_users_list.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid==null||attending_users_list.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</span></a>							
									</div>
									<div class="clear"></div>
								</div>
								{{items.content.group_activity_content}}
							</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Activity_{{items.content.group_activity_id}}">
										<a ng-if="items.content.is_liked==1" href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<a ng-if="items.content.is_liked!=1" href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<span class="tootltip_outer"><a href="javascript:void(0);" ng-mouseover="loadToolTip('Activity',items.content.group_activity_id)" ng-mouseout="unloadToolTip('Activity',items.content.group_activity_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Activity',items.content.group_activity_id,items.content.like_count,items.content.is_liked)">{{items.content.like_count}} likes</a>
										<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Activity_{{items.content.group_activity_id}}" style="display:none">
											<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>	
											<span ng-if="items.content.like_count>2&&items.content.is_liked==0">More..</span>
											<span ng-if="items.content.like_count>3&&items.content.is_liked==1">More..</span>											
										</div>
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Activity_{{items.content.group_activity_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Activity',items.content.group_activity_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Activity',items.content.group_activity_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_comments" id="ButtonComment_Activity_{{items.content.group_activity_id}}"  ng-click="LoadCommentList('Activity',items.content.group_activity_id,1,$index,1)">{{items.content.comment_counts}} comments</a>
								</span>
								
								<div class="clear"></div>
								<div id="comment_Activity_list_{{items.content.group_activity_id}}" ng-if="items.viewComment==1">
									<div class="clear"></div>
								<div id="comment_Activity_{{items.content.group_activity_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Activity_{{items.content.group_activity_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Activity',items.content.group_activity_id);"></div>
											<div id="hashingUsers_Activity_{{items.content.group_activity_id}}"></div>
											<span id="hashed_users_Activity_{{items.content.group_activity_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Activity',items.content.group_activity_id,1,$index)">Post</a>
										</div>
									</div>
								</div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>			
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" ng-if="comments.likes_count==0" class="post_likes" data-toggle="tooltip" data-placement="bottom"  ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 likes</a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply"  >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div  >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);">Cancel</a>
														<a ng-click="SendEditComment(comments.comment_id,1,selectedIndex);" class="default_butn_violet" href="javascript:void(0);">Post</a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,1,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Activity',items.content.group_activity_id,1,$index,(items.content.comment_page*1)+1)">More comments</a></div>
								</div>
							</div>
						</div>
					</div>
				</div>
				
			</div>
			<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12" id="feed_row2">            
				<div class="item" ng-repeat="items in feeds_row2">
					<div ng-switch="items.type">
						<div class="post-outer border_radius"  ng-switch-when='New Status' ng-init="selectedIndex = $index" >
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>						 
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span>posted in <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Discussion',items.content.group_discussion_id,2,$index)">Edit this post</a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Discussion',items.content.group_discussion_id,2,$index)">Delete this post</a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Discussion',items.content.group_discussion_id)" data-toggle="modal" data-target="#report_post">Report this post</a></li>
									</ul>
								</div>
							</div>
							<div class="post_status-text" >{{items.content.group_discussion_content}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Discussion_{{items.content.group_discussion_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<a href="javascript:void(0);" ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" ng-mouseover="loadToolTip('Discussion',items.content.group_discussion_id)" ng-mouseout="unloadToolTip('Discussion',items.content.group_discussion_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom"  ng-click="LoadLikedUsers('Discussion',items.content.group_discussion_id,items.content.like_count,items.content.is_liked)" >{{items.content.like_count}} likes</a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Discussion_{{items.content.group_discussion_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>	
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0">More..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1">More..</span>							 
											</div> 							 
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Discussion_{{items.content.group_discussion_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Discussion_{{items.content.group_discussion_id}}" class="post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,2,$index,1)"> {{items.content.comment_counts}} comments</a>							 
								</span>
								<div class="clear"></div>
								
								<div id="comment_Discussion_list_{{items.content.group_discussion_id}}" ng-if="items.viewComment==1">
									<div id="comment_Discussion_{{items.content.group_discussion_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Discussion_{{items.content.group_discussion_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Discussion',items.content.group_discussion_id);"></div>
											<div id="hashingUsers_Discussion_{{items.content.group_discussion_id}}"></div>
											<span id="hashed_users_Discussion_{{items.content.group_discussion_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Discussion',items.content.group_discussion_id,2,$index)">Post</a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 likes</a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div  class="post_comment_text post_comment_reply" >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);">Cancel</a>
														<a ng-click="SendEditComment(comments.comment_id,2,selectedIndex);" class="default_butn_violet" href="javascript:void(0);">Post</a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,2,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,2,$index,(items.content.comment_page*1)+1)">More comments</a></div>
								</div>								
							</div>
						</div>
						<div class="post-outer border_radius" ng-switch-when='New Media' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span>posted in <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Media',items.content.group_media_id,2,$index)">Edit this post</a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Media',items.content.group_media_id,2,$index)">Delete this post</a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Media',items.content.group_media_id)" data-toggle="modal" data-target="#report_post">Report this post</a></li>
									</ul>
								</div>
							</div>
							<div class="post_post-image">
								<a href="javascrip:void(0);" class="media_list"  data-toggle="modal" data-target="#post-img_popup" ng-click="loadMedia(items.content.group_media_id)">
									<img ng-if="items.content.media_type=='image'"  src="<?php echo $this->basePath(); ?>/public/{{image_paths.group}}{{items.content.group_id}}/media/{{items.content.media_content}}" alt=""   />
									<div class="status_youtube_video" ng-if="items.content.media_type=='video'"><span></span><img ng-if="items.content.media_type=='video'" src="http://img.youtube.com/vi/{{items.content.video_id}}/0.jpg" alt="" /></div>
								</a>
							</div>
							<div class="post_status-text" >{{items.content.media_caption}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Media_{{items.content.group_media_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<a href="javascript:void(0);"  ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" class="post_likes_count" ng-mouseover="loadToolTip('Media',items.content.group_media_id)" ng-mouseout="unloadToolTip('Media',items.content.group_media_id)" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Media',items.content.group_media_id,items.content.like_count,items.content.is_liked)"  >{{items.content.like_count}} likes</a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Media_{{items.content.group_media_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0">More..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1">More..</span>					 
											</div> 							 
										</span>	
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Media_{{items.content.group_media_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Media',items.content.group_media_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_reply post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,2,$index)" ng-if="items.content.is_commented!=1"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Media_{{items.content.group_media_id}}" class="post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,2,$index,1)"> {{items.content.comment_counts}} comments</a>
								</span>
								
								<div class="clear"></div>				
								<div id="comment_Media_list_{{items.content.group_media_id}}" ng-if="items.viewComment==1">
									<div class="clear"></div>
								<div id="comment_Media_{{items.content.group_media_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Media_{{items.content.group_media_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Media',items.content.group_media_id);"></div>
											<div id="hashingUsers_Media_{{items.content.group_media_id}}"></div>
											<span id="hashed_users_Media_{{items.content.group_media_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Media',items.content.group_media_id,2,$index)">Post</a>
										</div>
									</div>
								</div>	
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>	
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>	
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 likes</a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply" >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div  >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);">Cancel</a>
														<a ng-click="SendEditComment(comments.comment_id,2,selectedIndex);" class="default_butn_violet" href="javascript:void(0);">Post</a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,2,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Media',items.content.group_media_id,2,$index,(items.content.comment_page*1)+1)">More comments</a></div>
								</div>
							</div>
						</div>
						<div class="post-outer border_radius" ng-switch-when='New Activity' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
										<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span>posted in <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>	
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);"  data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Activity',items.content.group_activity_id,2,$index)">Edit this post</a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Activity',items.content.group_activity_id,2,$index)">Delete this post</a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Activity',items.content.group_activity_id)" data-toggle="modal" data-target="#report_post">Report this post</a></li>
										<li ng-if="items.content.allow_join==1&&items.content.is_going==1"><a href="javascript:void(0);"  ng-click="QuitRSVP(items.content.group_activity_id,2,$index)">Quit event</a></li>
									</ul>
								</div>
							</div>
							<div class="post_event-map" id="map_Activity_{{items.content.group_activity_id}}">
								<div class="google-map" hello-maps="" latitude="
								{{items.content.group_activity_location_lat}}" longitude="{{items.content.group_activity_location_lng}}"  location="{{items.content.group_activity_location}}" going="{{items.content.is_going}}"></div> 
							</div>
							<div class="post_event-header" >
								<i class="event-calender"></i><span>{{items.content.group_activity_start_timestamp}}</span>
								<div ng-if="items.content.allow_join==1">
									<span ng-if="items.content.is_going==1" class="event_butn" id="activityrsvp_{{items.content.group_activity_id}}">I'm Going</span>
									<span class="event_butn" ng-if="items.content.is_going!=1" id="activityrsvp_{{items.content.group_activity_id}}"><a href="javascript:void(0);" class="default_butn_blue" ng-click="JoinRSVP(items.content.group_activity_id,2,$index)" >Join</a></span>
								</div>
								<div class="clear"></div>
							</div>
							<div class="post_status-text" >
								<h5>{{items.content.group_activity_title}}</h5>
								<div class="event_joined-member">
									<div class="event_joined-left">
										<span class="event_going_members" id="activityrsvpcount_{{items.content.group_activity_id}}">{{items.content.rsvp_count}}</span>
										<a href="javascript:void(0)"  ng-click="loadRsvpList(items.content.group_activity_id,'All',1)">GOING </a>   /    <span class="event_going_members">{{items.content.rsvp_friend_count}}</span> <a href="javascript:void(0)" ng-click="loadRsvpList(items.content.group_activity_id,'friends',1)"> friends </a>
									</div>
									<div class="event_member-img">
										<a ng-repeat="attending_users_list in items.content.attending_users" href="<?php echo $this->basePath(); ?>/{{attending_users_list.user_profile_name}}"><span class="event_profile-img_joined comn_profile_img">
											<img alt="" ng-if="attending_users_list.profile_photo!=null&&attending_users_list.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{attending_users_list.user_id}}/{{ attending_users_list.profile_photo }}">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid!=null&&attending_users_list.user_fbid!='')" src="https://graph.facebook.com/{{attending_users_list.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid==null||attending_users_list.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</span></a>							
									</div>
									<div class="clear"></div>
								</div>
								{{items.content.group_activity_content}}
							</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Activity_{{items.content.group_activity_id}}">
										<a ng-if="items.content.is_liked==1" href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<a ng-if="items.content.is_liked!=1" href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<span class="tootltip_outer"><a href="javascript:void(0);" ng-mouseover="loadToolTip('Activity',items.content.group_activity_id)" ng-mouseout="unloadToolTip('Activity',items.content.group_activity_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Activity',items.content.group_activity_id,items.content.like_count,items.content.is_liked)">{{items.content.like_count}} likes</a>
										<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Activity_{{items.content.group_activity_id}}" style="display:none">
											<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
											<span ng-if="items.content.like_count>2&&items.content.is_liked==0">More..</span>
											<span ng-if="items.content.like_count>3&&items.content.is_liked==1">More..</span>													
										</div>
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Activity_{{items.content.group_activity_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Activity',items.content.group_activity_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Activity',items.content.group_activity_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Activity_{{items.content.group_activity_id}}" class="post_comments" ng-click="LoadCommentList('Activity',items.content.group_activity_id,2,$index,1)">{{items.content.comment_counts}} comments</a>
								</span>
								<div class="clear"></div>
								
								<div id="comment_Activity_list_{{items.content.group_activity_id}}" ng-if="items.viewComment==1">
									<div id="comment_Activity_{{items.content.group_activity_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Activity_{{items.content.group_activity_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Activity',items.content.group_activity_id);"></div>
											<div id="hashingUsers_Activity_{{items.content.group_activity_id}}"></div>
											<span id="hashed_users_Activity_{{items.content.group_activity_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Activity',items.content.group_activity_id,2,$index)">Post</a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)"ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>	
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 likes</a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply" >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div  >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);">Cancel</a>
														<a ng-click="SendEditComment(comments.comment_id,2,selectedIndex);" class="default_butn_violet" href="javascript:void(0);">Post</a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,2,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Activity',items.content.group_activity_id,2,$index,(items.content.comment_page*1)+1)">More comments</a></div>
								</div>
							</div>
						</div>
					</div>
				</div>
            </div>
			<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12" id="feed_row3">            
				<div class="item" ng-repeat="items in feeds_row3">
					<div ng-switch="items.type">
						<div class="post-outer border_radius"  ng-switch-when='New Status' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>						 
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span>posted in <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Discussion',items.content.group_discussion_id,3,$index)">Edit this post</a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Discussion',items.content.group_discussion_id,3,$index)">Delete this post</a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Discussion',items.content.group_discussion_id)" data-toggle="modal" data-target="#report_post">Report this post</a></li>
									</ul>
								</div>
							</div>
							<div class="post_status-text" >{{items.content.group_discussion_content}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Discussion_{{items.content.group_discussion_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<a href="javascript:void(0);" ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" ng-mouseover="loadToolTip('Discussion',items.content.group_discussion_id)" ng-mouseout="unloadToolTip('Discussion',items.content.group_discussion_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom"  ng-click="LoadLikedUsers('Discussion',items.content.group_discussion_id,items.content.like_count,items.content.is_liked)" >{{items.content.like_count}} likes</a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Discussion_{{items.content.group_discussion_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>	
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0">More..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1">More..</span>					 
											</div> 							 
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Discussion_{{items.content.group_discussion_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_comments" id="ButtonComment_Discussion_{{items.content.group_discussion_id}}" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,3,$index,1)"> {{items.content.comment_counts}} comments</a>							 
								</span>
								<div class="clear"></div>
								
								<div id="comment_Discussion_list_{{items.content.group_discussion_id}}" ng-if="items.viewComment==1">
									<div id="comment_Discussion_{{items.content.group_discussion_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Discussion_{{items.content.group_discussion_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Discussion',items.content.group_discussion_id);"></div>
											<div id="hashingUsers_Discussion_{{items.content.group_discussion_id}}"></div>
											<span id="hashed_users_Discussion_{{items.content.group_discussion_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Discussion',items.content.group_discussion_id,3,$index)">Post</a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 likes</a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div  class="post_comment_text post_comment_reply" >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);">Cancel</a>
														<a ng-click="SendEditComment(comments.comment_id,3,selectedIndex);" class="default_butn_violet" href="javascript:void(0);">Post</a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,3,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,3,$index,(items.content.comment_page*1)+1)">More comments</a></div>
								</div>								
							</div>
						</div>
						<div class="post-outer border_radius" ng-switch-when='New Media' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span>posted in <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Media',items.content.group_media_id,3,$index)">Edit this post</a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Media',items.content.group_media_id,3,$index)">Delete this post</a></li>
										<li><a href="javascript:void(0); " ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Media',items.content.group_media_id)" data-toggle="modal" data-target="#report_post">Report this post</a></li>
									</ul>
								</div>
							</div>
							<div class="post_post-image">
								<a href="javascrip:void(0);" class="media_list"  data-toggle="modal" data-target="#post-img_popup" ng-click="loadMedia(items.content.group_media_id)">
									<img ng-if="items.content.media_type=='image'"  src="<?php echo $this->basePath(); ?>/public/{{image_paths.group}}{{items.content.group_id}}/media/{{items.content.media_content}}" alt=""   />
									<div class="status_youtube_video" ng-if="items.content.media_type=='video'"><span></span><img ng-if="items.content.media_type=='video'" src="http://img.youtube.com/vi/{{items.content.video_id}}/0.jpg" alt="" /></div>
								</a>
							</div>
							<div class="post_status-text" >{{items.content.media_caption}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Media_{{items.content.group_media_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<a href="javascript:void(0);"  ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" class="post_likes_count" ng-mouseover="loadToolTip('Media',items.content.group_media_id)" ng-mouseout="unloadToolTip('Media',items.content.group_media_id)" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Media',items.content.group_media_id,items.content.like_count,items.content.is_liked)"  >{{items.content.like_count}} likes</a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Media_{{items.content.group_media_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0">More..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1">More..</span>				 
											</div> 							 
										</span>	
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Media_{{items.content.group_media_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Media',items.content.group_media_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_reply post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,3,$index)" ng-if="items.content.is_commented!=1"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Media_{{items.content.group_media_id}}" class="post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,3,$index,1)"> {{items.content.comment_counts}} comments</a>
								</span>
								<div class="clear"></div>
								 				
								<div id="comment_Media_list_{{items.content.group_media_id}}" ng-if="items.viewComment==1">
									<div id="comment_Media_{{items.content.group_media_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Media_{{items.content.group_media_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Media',items.content.group_media_id);"></div>
											<div id="hashingUsers_Media_{{items.content.group_media_id}}"></div>
											<span id="hashed_users_Media_{{items.content.group_media_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Media',items.content.group_media_id,3,$index)">Post</a>
										</div>
									</div>
								</div>	
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>	

														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 likes</a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply" >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);">Cancel</a>
														<a ng-click="SendEditComment(comments.comment_id,3,selectedIndex);" class="default_butn_violet" href="javascript:void(0);">Post</a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,3,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Media',items.content.group_media_id,3,$index,(items.content.comment_page*1)+1)">More comments</a></div>
								</div>
							</div>
						</div>
						<div class="post-outer border_radius" ng-switch-when='New Activity' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
										<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span>posted in <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>	
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);"  data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Activity',items.content.group_activity_id,3,$index)">Edit this post</a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Activity',items.content.group_activity_id,3,$index)">Delete this post</a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Activity',items.content.group_activity_id)" data-toggle="modal" data-target="#report_post">Report this post</a></li>
										<li ng-if="items.content.allow_join==1&&items.content.is_going==1"><a href="javascript:void(0);"  ng-click="QuitRSVP(items.content.group_activity_id,3,$index)">Quit event</a></li>
									</ul>
								</div>
							</div>
							<div class="post_event-map" id="map_Activity_{{items.content.group_activity_id}}">
								<div class="google-map" hello-maps="" latitude="
								{{items.content.group_activity_location_lat}}" longitude="{{items.content.group_activity_location_lng}}"  location="{{items.content.group_activity_location}}" going="{{items.content.is_going}}"></div> 
							</div>
							<div class="post_event-header" >
								<i class="event-calender"></i><span>{{items.content.group_activity_start_timestamp}}</span>
								<div ng-if="items.content.allow_join==1">
									<span ng-if="items.content.is_going==1" class="event_butn" id="activityrsvp_{{items.content.group_activity_id}}">I'm Going</span> 
									<span class="event_butn" ng-if="items.content.is_going!=1" id="activityrsvp_{{items.content.group_activity_id}}"><a href="javascript:void(0);" class="default_butn_blue" ng-click="JoinRSVP(items.content.group_activity_id,3,$index)" >Join</a></span>
								</div>
								<div class="clear"></div>
							</div>
							<div class="post_status-text" >
								<h5>{{items.content.group_activity_title}}</h5>
								<div class="event_joined-member">
									<div class="event_joined-left">
										<span class="event_going_members" id="activityrsvpcount_{{items.content.group_activity_id}}">{{items.content.rsvp_count}}</span>
										<a href="javascript:void(0)"  ng-click="loadRsvpList(items.content.group_activity_id,'All',1)">GOING </a>   /    <span class="event_going_members">{{items.content.rsvp_friend_count}}</span> <a href="javascript:void(0)" ng-click="loadRsvpList(items.content.group_activity_id,'friends',1)"> friends </a>
									</div>
									<div class="event_member-img">
										<a ng-repeat="attending_users_list in items.content.attending_users" href="<?php echo $this->basePath(); ?>/{{attending_users_list.user_profile_name}}"><span class="event_profile-img_joined comn_profile_img">
											<img alt="" ng-if="attending_users_list.profile_photo!=null&&attending_users_list.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{attending_users_list.user_id}}/{{ attending_users_list.profile_photo }}">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid!=null&&attending_users_list.user_fbid!='')" src="https://graph.facebook.com/{{attending_users_list.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid==null||attending_users_list.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</span></a>							
									</div>
									<div class="clear"></div>
								</div>
								{{items.content.group_activity_content}}
							</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Activity_{{items.content.group_activity_id}}">
										<a ng-if="items.content.is_liked==1" href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<a ng-if="items.content.is_liked!=1" href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<span class="tootltip_outer"><a href="javascript:void(0);" ng-mouseover="loadToolTip('Activity',items.content.group_activity_id)" ng-mouseout="unloadToolTip('Activity',items.content.group_activity_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Activity',items.content.group_activity_id,items.content.like_count,items.content.is_liked)">{{items.content.like_count}} likes</a>
										<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Activity_{{items.content.group_activity_id}}" style="display:none">
											<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>		
											<span ng-if="items.content.like_count>2&&items.content.is_liked==0">More..</span>
											<span ng-if="items.content.like_count>3&&items.content.is_liked==1">More..</span>
										</div>
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Activity_{{items.content.group_activity_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Activity',items.content.group_activity_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Activity',items.content.group_activity_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_comments" id="ButtonComment_Activity_{{items.content.group_activity_id}}" ng-click="LoadCommentList('Activity',items.content.group_activity_id,3,$index,1)">{{items.content.comment_counts}} comments</a>
								</span>
								<div class="clear"></div>
								 
								<div id="comment_Activity_list_{{items.content.group_activity_id}}" ng-if="items.viewComment==1">
									<div id="comment_Activity_{{items.content.group_activity_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Activity_{{items.content.group_activity_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Activity',items.content.group_activity_id);"></div>
											<div id="hashingUsers_Activity_{{items.content.group_activity_id}}"></div>
											<span id="hashed_users_Activity_{{items.content.group_activity_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Activity',items.content.group_activity_id,3,$index)">Post</a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div  class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img" >
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} likes</a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>	
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 likes</a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply"  >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div  >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);">Cancel</a>
														<a ng-click="SendEditComment(comments.comment_id,3,selectedIndex);" class="default_butn_violet" href="javascript:void(0);">Post</a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,3,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Activity',items.content.group_activity_id,3,$index,(items.content.comment_page*1)+1)">More comments</a></div>
								</div>
							</div>
						</div>
					</div>
				</div>
            </div>
		</div>
<!-- Post Images Pop Up -->
<div class="pop_bg modal fade" id="post-img_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog postimg_popup" ng-class="{medialalbum_list:medialist==1}">
    <div class="modal-content postimg_content" >
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <div class="clear"></div>
      </div>
      <div class="modal-body postimg_body">
		<span ng-if="mediaLoader ==1"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"></span>
		<span ng-if="mediaLoader ==0">
			<div class="post-img_preview-outer" ng-if="medialist==1">
				<div id="media_list" style="height:350px;overflow:hidden" ng-init="enableScrollbarMedia()">
				<div class="post-img_preview_nav">					 
					<div class="image_show-old">
						<a href="javascript:void(0);" ng-click="loadMedia(open_id)"><i></i></a>
					</div>					 
					<div class="clear"></div>
				</div>
				<h3>All Media of {{media.group_title}}</h3>
				<ul>
					<li ng-repeat="items in groupAllMediaContent"><a href="javascript:void(0)" ng-click="loadMedia(items.group_media_id)" >
					<img  ng-if="items.media_type=='image'" src="<?php echo $this->basePath(); ?>/public/datagd/group/{{items.media_added_group_id}}/media/{{items.media_content}}">
					<img ng-if="items.media_type=='video'" src="http://img.youtube.com/vi/{{items.video_id}}/0.jpg" />
					</a></li>
					<a href="javascript:void(0)" ng-click="LoadmoreMedia(media.group_id);" ng-if="showLoadmore==1">Loadmore</a>
				</ul>
				</div>
			</div>
			<div class="post-img_preview-outer" ng-if="medialist==0">
				<div class="post-img_preview">
					<div class="post-img_preview_nav">
						<div class="image_preview-previous" ng-if="media.prev_id!=''">
							<a href="javascript:void(0);" ng-click="loadMedia(media.prev_id)"><i></i></a>
						</div>
						<div class="image_show-all">
							<a href="javascript:void(0);" ng-click="loadAllMedia(media.group_id)"><i></i></a>
						</div>
						<div class="image_preview-next" ng-if="media.next_id!=''">
							<a href="javascript:void(0);" ng-click="loadMedia(media.next_id)"><i></i></a>
						</div>
						<div class="clear"></div>
					</div>
					
					<div class="pop_image-preview" ng-if="media.media_type=='image'">
					<img ng-if="media.media_type=='image'" src="<?php echo $this->basePath(); ?>/public/datagd/group/{{media.group_id}}/media/{{media.media_content}}" alt="{{media.media_content}}" />				 
					</div>
					<div id="video_content">
					 
					 </div>
					
					<div class="pop_img-footer">in group: <a href="<?php echo $this->basePath(); ?>/groups/{{media.group_seo_title}}">{{media.group_title}}</a></div>
					
				</div>
			</div>
			
			<!-- Popup Right Side -->
			<div class="image_postdetails" ng-if="medialist==0">
				<div class="post_header">
					<span class="vertical_align"></span>
					<div class="header-profile_image">
						<img alt="" ng-if="media.profile_photo!=null&&media.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{media.user_id}}/{{ media.profile_photo }}">
						<img alt="" ng-if="(media.profile_photo==null||media.profile_photo=='')&&(media.user_fbid!=null&&media.user_fbid!='')" src="https://graph.facebook.com/{{media.user_fbid}}/picture?width=66&&height=66">
						<img alt="" ng-if="(media.profile_photo==null||media.profile_photo=='')&&(media.user_fbid==null||media.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
						<span class="owner-badge" ng-if="media.is_admin==1"></span>
					</div>
					<div class="post_profile-name">
						<a href="<?php echo $this->basePath(); ?>/{{media.user_profile_name}}">{{media.user_given_name}}</a>
						<span>posted in <a href="<?php echo $this->basePath(); ?>/groups/{{media.group_seo_title}}">{{media.group_title}}</a></span>
					</div>
					<div class="post_time noti_time"><i></i>{{media.added_time}}</div>
					<div class="clear"></div>
				</div>
				<div class="post_status-text">
					{{media.media_caption}}
				</div>
				<div class="post_status-footer">
					<span class="like_comment_outer">
						<span id="Media_modelwindow">
							<span ng-if="medialike_ajaxloader == 1">
								<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif">
							</span>
							<span class="tootltip_outer" ng-if="medialike_ajaxloader == 0">
								<a class="post_likes" ng-class="{'liked': media.is_liked==1}" ng-if="media.is_liked ==1" href="javascript:void(0);" ng-click="funUnLikeAction('Media',media.group_media_id)"  ><i></i></a>
								<a class="post_likes" ng-if="media.is_liked ==0" href="javascript:void(0);" ng-click="funLikeAction('Media',media.group_media_id)" ><i></i></a>
								<a href="javascript:void(0)"   ng-click="LoadLikedUsers('Media',media.group_media_id,media.likes_counts,media.is_liked)" ng-mouseover="loadPopupToolTip('Media',media.group_media_id)"  ng-mouseleave="unloadPopupToolTip('Media',media.group_media_id)"  >{{media.likes_counts}} likes</a>							
								 
								<div class="like_tooltip"  ng-if="media.likes_counts>0" id="tooltip_popup_Media_{{media.group_media_id}}" style="display:none">	
									<span ng-repeat="items in media.likedUsers">{{items}}</span> 
									<span ng-if="media.likes_counts>2&&media.is_liked ==0">More..</span>
									<span ng-if="media.likes_counts>3&&media.is_liked ==1">More..</span>									
								</div>
							</span>						
						</span>
					</span>
					<span  class="post_comment-right">
						<a class="post_comments" ng-class="{'comented': media.is_commented==1}" href="javascript:void(0);" ng-click="enableCommentReplyMedia()"><i></i></a>
						<a class="post_comments" href="javascript:void(0);" ng-click="enableCommentReplyMedia()"><span >{{media.comment_count}} comments</span></a>
					</span>					
					<div class="clear"></div>
					<div class="post_comment-outer" id="post_reply-media" ng-show="showReply==1">
						<div class="header-profile_image comment_profile-img">
							 <img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
							 <img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							 
						</div>
						<div class="post_comment_text post_comment_reply">
                             <div class="commentTextArea" contenteditable="true" ng-keydown="keyPressMedia($event,'Media',media.group_media_id);" data-text="Start typing your comment here.." id="txtMediaComment"></div>
							<div id="txtMediaCommenthashed"></div>
							<span id="media_hashed_users_Media_{{media.group_media_id}}" data-items=""></span>
						</div>
						<div class="clear"></div>
						<div class="post_comment_reply-butns">
							<!-- <a href="javascript:void(0);" class="default_butn_grey" id="cancel_reply" ng-click="showReply=0;removeCommentBox()">Cancel</a> -->
							<a href="javascript:void(0);" class="default_butn_violet" ng-click="postComment(media.group_media_id)">Post</a>
						</div>
					</div>
				</div>
				 
				<div id="comment_container_outer" ng-init="enableScrollbar()">
					<div class="post_comment-outer" ng-repeat="comments in media_comments">
						<div class="header-profile_image comment_profile-img">
							<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
							<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
							<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							 </a>
						</div>
						<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
							<span class="profile_name-comment"><a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name }}</a></span><span id="comment_text_{{$index}}">{{loadCommmentText($index,comments.comment_content)}}</span>
							<div class="comment_likes">								 
								<span class="Comment_{{comments.comment_id}}">
								<span class="tootltip_outer">
								<a href="javascript:void(0);" class="post_likes liked" ng-if="comments.islike==1" ng-click="funUnLikeAction('Comment',comments.comment_id)"><i></i></a>
								<a href="javascript:void(0)" ng-if="comments.islike == 1" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadPopupToolTip('Comment',comments.comment_id)" ng-mouseleave="unloadPopupToolTip('Comment',comments.comment_id)">{{comments.likes_count}} likes</a>
								<a href="javascript:void(0);" class="post_likes" ng-if="comments.islike==0" ng-click="funLikeAction('Comment',comments.comment_id)"><i></i></a>
								<a href="javascript:void(0)" ng-if="comments.islike==0"  ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadPopupToolTip('Comment',comments.comment_id)" ng-mouseleave="unloadPopupToolTip('Comment',comments.comment_id)">{{comments.likes_count}} likes</a>
								
								<div class="like_tooltip" ng-if="comments.likes_count>0" id="tooltip_popup_Comment_{{comments.comment_id}}" style="display:none">	
									<span ng-repeat="items in comments.likedUsers">{{items}}</span> 
									<span ng-if="comments.like_count>2&&comments.islike==0">More..</span>
									<span ng-if="comments.like_count>3&&comments.islike==1">More..</span>
								</div>
								</span>
								</span>
								<div class="post_time noti_time comment_time "><i></i>{{comments.comment_time}}</div>
								<div class="clear"></div>
							</div>
						</div>
						<div class="post_comment_text post_comment_reply">
									<div class="comment-edit"  style="display:none" id="edit-mediacomment-outer-{{comments.comment_id}}">
										 
										 
										<div >
											<div class="commentTextArea" id="editmediacomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPressMedia($event,'Comment',comments.comment_id);">
														 
											</div>
											<div id="txtMediaEditCommenthashed_{{comments.comment_id}}"></div>
											<span id="media_hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">											 
											<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);">Cancel</a>
											<a ng-click="SendMediaEditComment(comments.comment_id,media.group_media_id)" class="default_butn_violet" href="javascript:void(0);">Post</a>											 
										</div>
									</div>
								</div>
								<div class="clear"></div>
								<div >
									<div class="comment_actions">
										<a class="comment_edit" href="javascript:void(0);" ng-if="comments.user_id==profile.user_id" title="Edit" ng-click="MediaenableCommentEdit(comments.comment_id,comments.comment_content)"></a>
										<a ng-if="comments.allowedit==1" class="comment_delete" href="javascript:void(0);" title="Delete" ng-click="DeleteCommentMedia(comments.comment_id,media.group_media_id)"></a>
										<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
									</div>
								</div>
						<div class="clear"></div>
					</div>
					<div ng-if= "media.comment_count>10&&hideloadmore==0" ng-click="loadmoreCommentFromPopup(media.group_media_id)"> <a href="javascript:void(0)" class="loadmore-comments">More comments</a></div>  	  
				</div>
			</div>
			<div class="clear"></div>
		</span>
      </div>
      
    </div>
  </div>
</div>
<div class="pop_bg modal fade" id="likes_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
				<div ng-if="loadpeople==1"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"></div>
          		<div class="likes_pop-outer" ng-if="loadpeople==0">
                	<div class="like_profile-outer" ng-repeat="items in likedpeoples">
                    	<div class="like_profile-img comn_profile_img">
							<img alt="" ng-if="items.profile_photo!=null&&items.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.user_id}}/{{ items.profile_photo }}">
							<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid!=null&&items.user_fbid!='')" src="https://graph.facebook.com/{{items.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid==null||items.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
						 
						</div>
                        <div class="like_profile-name"><a href="javascript:void(0);">{{items.user_given_name}}</a></div>
                        <a href="javascript:void(0);" class="button_small_blue like_add-friend" ng-if="items.is_friend">Friends</a>
						<div class="like_add-friend"><a href="javascript:void(0);" class="friend_accept" ng-if="items.get_request" ng-click="acceptFriendRequest(items.user_profile_name);remove()" title="Accept request"></a>
						<a href="javascript:void(0);" remove-on-click ng-if="items.get_request" class="friend_ignore" ng-click="rejectFriendRequest(items.user_profile_name);remove()" title="Ignore Request"></a>
						</div>
						<a ng-if="items.is_requested" href="javascript:void(0);" class="button_small_grey like_add-friend">Pending</a>
						<a href="javascript:void(0);" remove-on-click ng-if="items.is_requested!= 1 && items.get_request!= 1 && items.is_friend!= 1" class="button_small_blue like_add-friend" ng-click="sentFriendRequest(items.user_profile_name);remove()">Add Friend</a>		 
                    </div>                  
                </div>
          </div>
          
        </div>
      </div>
    </div>
	<div class="pop_bg modal fade" id="rsvp_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
				 
          		<div class="likes_pop-outer" id="rsvplist_outer" >
                	<div class="like_profile-outer" ng-repeat="items in rsvplist">
                    	<div class="like_profile-img comn_profile_img">
							<img alt="" ng-if="items.profile_photo!=null&&items.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.user_id}}/{{ items.profile_photo }}">
							<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid!=null&&items.user_fbid!='')" src="https://graph.facebook.com/{{items.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid==null||items.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
						 
						</div>
                        <div class="like_profile-name"><a href="javascript:void(0);">{{items.user_given_name}}</a></div>
                        <a href="javascript:void(0);" class="button_small_blue like_add-friend" ng-if="items.is_friend">Friends</a>
						<a href="javascript:void(0);" class="button_small_blue friend_accept" ng-if="items.get_request" ng-click="acceptFriendRequest(items.user_profile_name);remove()" title="Accept request"></a>
						<a href="javascript:void(0);" remove-on-click ng-if="items.get_request" class="friend_ignore" ng-click="rejectFriendRequest(items.user_profile_name);remove()" title="Ignore Request"></a>
						<a ng-if="items.is_requested" href="javascript:void(0);" class="default_butn_grey">Pending</a>
						<a href="javascript:void(0);" remove-on-click ng-if="items.is_requested!= 1 && items.get_request!= 1 && items.is_friend!= 1 &&profile.user_id!=items.user_id" class="default_butn_blue" ng-click="sentFriendRequest(items.user_profile_name);remove()">Add Friend</a>		
                    </div> 
					<div><a href="javascript:void(0)"  class="loadmore-comments" ng-if="rsvplist.length<=0" >No members joined</a></div>
					<div><a href="javascript:void(0)" class="loadmore-comments" ng-click="loadRsvpList(selectedActivity,filter_by,'')" ng-if="loadmore==1">load more</a>
					 
					</div>
                </div>
          </div>
          
        </div>
      </div>
    </div>
	<div class="pop_bg modal fade" id="feed_edit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
			<div id="signup_step1" ng-if="ajax_loader_feededit==1">
				<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
			</div>
			<div id="signup_step1" ng-if="ajax_loader_feededit==0">
				<div class="step1_outer">
					<div id="feed_edit_error" class="error-common"></div>
					<div id="feed_edit_success" class="success-common"></div>
					<div ng-if="feedEditSystemType == 'Discussion'">
						<div class="create_status-textarea"><textarea id="editDiscussion">{{EditFeedDiscussionContent.group_discussion_content}}</textarea></div>
						<div  class="post-butns"> 
							 <a ng-click="UpdateStatus('Discussion',EditFeedDiscussionContent.group_discussion_id,EditFeedrow_count,EditFeedrow_index)" class="default_butn_violet ng-scope" href="javascript:void(0);">Update Post</a>
						</div>
						<div class="clear"></div>
					</div>
					<div ng-if="feedEditSystemType == 'Media'">
						<div>
							<img ng-if="EditFeedMediaContent.media_type=='image'"  src="<?php echo $this->basePath(); ?>/public/{{image_paths.group}}{{EditFeedMediaContent.media_added_group_id}}/media/{{EditFeedMediaContent.media_content}}" alt=""   />
							<img ng-if="EditFeedMediaContent.media_type=='video'" src="http://img.youtube.com/vi/{{getYouTubeIdFromURL(EditFeedMediaContent.media_content)}}/0.jpg" alt="" />
						</div>
						<div class="create_status-textarea edit_media_textarea">
						<input type="text"  placeholder="Add caption..." name="feed_edit_caption" id="feed_edit_caption" value="{{EditFeedMediaContent.media_caption}}" />
						</div>
						<div  class="post-butns"> 
							 <a ng-click="UpdateStatus('Media',EditFeedMediaContent.group_media_id,EditFeedrow_count,EditFeedrow_index)" class="default_butn_violet ng-scope" href="javascript:void(0);">Update Post</a>
						</div>
						<div class="clear"></div>
					</div>
					<div ng-if="feedEditSystemType == 'Activity'">
						<div class="edit_event_outer"> 
							<a href="javascript:void(0)" id="enableDatepiker" style="display:block;height:0;width:0">&nbsp</a>
							<div class="event_fields-outer"> 
								<input   id="event_title_edit" type="text" placeholder="Event Title" value="{{EditFeedActivityContent.group_activity_title}}" /> 
							 </div> 
							 <div class="event_fields-outer"> 
								<div class="event_date-out border_radius"> 
									<div class="event_date-pick"> 
										  <i class="grey-calender"></i> 
										  <input name="event_date_edit" id="event_date_edit" type="text" value="{{EditFeedActivityContent.group_activity_start_date}}" ng-init="loadDatePicker()"  /> 
										 <div class="clear"></div> 
									  </div> 
									  <div class="event_time-pick"> 
										 <input name="event_time" id="event_time_edit" type="text" value="{{EditFeedActivityContent.group_activity_start_time}}" placeholder="00:00:AM" ng-model="mypost.event_time" /> 
									 </div> 
									 <div class="clear"></div> 
								 </div> 
							 </div> 
							  <div class="event_fields-outer"> 
								<div class="event_date-out border_radius"> 
									<i class="grey-location status_event_location"></i> 
									 <input class="status_event_location-text edit_location" name="event_location" id="edit_location" type="text" placeholder="Event Location" value="{{EditFeedActivityContent.group_activity_location}}"  /> 
									 <div class="clear"></div> 
								 </div> 
							 </div> 
							  <div class="status_event_pin-map"> 
								<div id="map-canvasedit"  ></div> 
								<div class="clear"></div> 
							  </div> 
							  <div class="status_event-details"> 
								<textarea name="event_description_edit" id="event_description_edit" placeholder="Event Description" class="border_radius" >{{EditFeedActivityContent.group_activity_content}}</textarea> 
							  </div> 
						 </div>  
						 <div  class="post-butns"> 
							 <a ng-click="UpdateStatus('Activity',EditFeedActivityContent.group_activity_id,EditFeedrow_count,EditFeedrow_index)" class="default_butn_violet ng-scope" href="javascript:void(0);">Update Post</a>
						</div>
						<div class="clear"></div>
					</div>
				</div>
			</div>
          </div>
          
        </div>
      </div>
    </div>
</div>
<div class="pop_bg modal fade" id="feed_delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
			<div id="signup_step1" ng-if="ajax_loader_feeddelte==1">
				<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
			</div>
			<div id="signup_step1" ng-if="ajax_loader_feeddelte==0" >
				<div class="step1_outer">
					<div class="error-common" id="errordeletePost"></div>
					<div ng-if="feedDeleteSystemType == 'Discussion'">
						Are you sure you want to remove this status?
					</div>
					<div ng-if="feedDeleteSystemType == 'Media'">
						Are you sure you want to remove this media?
					</div>
					<div ng-if="feedDeleteSystemType == 'Activity'">
						Are you sure you want to remove this activity?
					</div>
					<div  class="post-butns"> 
					<a ng-click="RemovePost(feedDeleteSystemType,DeleteFeedrow_content_id,DeleteFeedrow_count,DeleteFeedrow_index)" class="default_butn_blue" href="javascript:void(0);">Yes</a>
					<a ng-click="CancelRemovePost()" class="default_butn_red" href="javascript:void(0);">No</a>
					</div>
					<div class="clear"></div>
				</div> 
			</div>
			 
          </div>
          
        </div>
      </div>
    </div>
	<div class="pop_bg modal fade" id="report_post" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
			<div id="signup_step1" ng-if="ajax_loader_reportpost==1">
				<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
			</div>
			<div id="signup_step1" ng-if="ajax_loader_reportpost==0">
				<div class="step1_outer">
					<div class="error-common" id="report_error"></div>
					<div class="success-common" id="report_success"></div>
					<div class="select_group-type" ng-repeat="items in reasons">			 
                    	<input type="radio" name="spam_type" id="{{items.reason_id}}" value="{{items.reason_id}}" ng-click="selectReason(items.reason_id,items.reason)" ng-model="spam.reason_id">
                        <label for="{{items.reason_id}}"><i class="radio-styled"></i> <i class="group-public_black"></i>{{items.reason}}</label>                       
                        <div class="clear"></div>
                    </div>
					<div class="login-field" ng-if="enableReportReason==1">
					<textarea placeholder="Please type your reason" ng-model="spam.otherReason"></textarea>
					</div>
					<div class="clear"></div>
					<div class="signup_button" ng-if="reportAjaxLoader==0">                        
                         <a ng-click="sendReport(spam)" id="go_step-2" class="default_butn_blue" href="javascript:void(0);">Submit</a>
					</div>
					<div class="signup_button" ng-if="reportAjaxLoader==1">                        
                       <img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
					</div>
                        <div class="clear"></div>
                    </div>
					<div class="clear"></div>
				</div> 
			</div>
          </div>
          
        </div>
      </div>
    </div>

</div>
</div>
 <div id="feed_dialog" title="" style="display:none" class="common_error"></div>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/public/js/salvattore.min.js"></script>
<script src="<?php echo $this->basePath(); ?>/public/js/jquery.plugin.js"></script>
<script src="<?php echo $this->basePath(); ?>/public/js/jquery.timeentry.js"></script>
<link href="<?php echo $this->basePath(); ?>/public/css/prettify.css" type="text/css" rel="stylesheet" />
<link href="<?php echo $this->basePath(); ?>/public/css/jquery.timepicker.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/public/js/prettify.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/public/js/jquery.slimscroll.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/public/js/maptooltip.js"></script>
<script src="<?php echo $this->basePath(); ?>/public/js/jquery.timepicker.js"></script>
<script>
var places = [];
<?php foreach($upcoming_activity as $list) {
		if($list['is_going']==1){
	?>	
	places.push({ infowin_html: '<div class="map_info-inner"><div class="map_info-group-name"><?php echo $list["group_title"]; ?></div><div class="map_info-event-name"><a href="<?php echo $this->basePath(); ?>/groups/<?php echo $list['group_seo_title'] ?>/events/<?php echo $list['group_activity_id']; ?>"><?php echo $list["group_activity_title"]; ?></a></div></span>I\'m Going</div><div class="map_info-event-location"><?php echo $list["group_activity_location"];?></div><div class="map_info-event-footer"><span><i class="event-calender"></i><?php echo date("M d,Y H:s a",strtotime( $list["group_activity_start_timestamp"])); ?></div>', tooltip_html: "<h3><?php echo $list['group_activity_title']; ?></h3>", position: { lat: <?php echo !empty($list['group_activity_location_lat'])?$list['group_activity_location_lat']:25.271139000000000000; ?>, lng: <?php echo !empty($list['group_activity_location_lng'])?$list['group_activity_location_lng']:55.307485000000040000; ?> },is_going:<?php echo $list['is_going']; ?> });
		<?php }else{ ?>
	places.push({ infowin_html: '<div class="map_info-inner"><div class="map_info-group-name"><?php echo $list["group_title"]; ?></div><div class="map_info-event-name"><a href="<?php echo $this->basePath(); ?>/groups/<?php echo $list['group_seo_title'] ?>/events/<?php echo $list['group_activity_id']; ?>"><?php echo $list["group_activity_title"]; ?></a></div><a onclick="joinEvent(<?php echo $list['group_activity_id']; ?>)" class="default_butn_blue" href="javascript:void(0);">Join</a><div class="map_info-event-location"><?php echo $list["group_activity_location"];?></div><div class="map_info-event-footer"><span><i class="event-calender"></i><?php echo date("M d,Y H:s a",strtotime( $list["group_activity_start_timestamp"])); ?></span></div></div>', tooltip_html: "<h3><?php echo $list['group_activity_title']; ?></h3>", position: { lat: <?php echo !empty($list['group_activity_location_lat'])?$list['group_activity_location_lat']:25.271139000000000000; ?>, lng: <?php echo !empty($list['group_activity_location_lng'])?$list['group_activity_location_lng']:55.307485000000040000; ?> },is_going:<?php echo $list['is_going']; ?> });	
		<?php } ?>
<?php } ?> 
var mainMap;
var enableHashing = 0;
var str_search = '';
var markers=[];
var hashedUser = [];
var rsvppage=1;
var current_lat = 25.271139000000000000;
var current_lng =55.307485000000040000;
jQuery(document).ready(function () {
var mapOptions = {
                zoom: 7,              
                panControl: false,
                zoomControl: false,
                scaleControl: false,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            }
    mainMap = new google.maps.Map(document.getElementById("map_canvas"),mapOptions);
    var center = mainMap.getCenter(); 
    google.maps.event.trigger(mainMap, 'resize'); 
    mainMap.setCenter(center); 
});
$( document ).ready(function() {
    $('#map_canvas').addClass('scrollof');
    $('.map_banner').on('click', function() {
    	$('#map_canvas').removeClass('scrollof');
    });
    $( "#map_canvas" ).mouseleave(function() {
    	 $('#map_canvas').addClass('scrollof');
    });

});
function createInfoWindow(marker, key) {
	//create an infowindow for this marker
	var infowindow = new google.maps.InfoWindow({
		content: places[key].infowin_html,
		maxWidth: 250
	});
	//open infowindo on click event on marker.
	google.maps.event.addListener(marker, 'click', function () {
	  if (lastOpenInfoWin) lastOpenInfoWin.close();
	  lastOpenInfoWin = infowindow;
	  infowindow.open(marker.get('map'), marker);
	});
}
// Here is where we create a tooltip for each marker,
// with content set to plcaes[placeindex].tooltip_html
/*
function createTooltip(marker, key) {
  //create a tooltip
  var tooltipOptions = {
	  marker: marker,
	  content: places[key].tooltip_html,
	  cssClass: 'tooltip' // name of a css class to apply to tooltip
  };
  var tooltip = new Tooltip(tooltipOptions);

}*/
// Used to keep track of the open InfoWindow, so when
// a new one is about to be open, we close the old one.
var lastOpenInfoWin = null;
// Create map on DOM load
// I'm using an array of places(places.js) to populate the markers
function createMap() {
	var mapDiv = document.getElementById("map_canvas");
	var map;
	// Set center to point to chicago
	var latlng = new google.maps.LatLng(25.271139000000000000, 55.307485000000040000);
	var myOptions = {
		zoom: 10,
		center: latlng,
		mapTypeId: google.maps.MapTypeId.ROADMAP
	}
	mainMap = new google.maps.Map(mapDiv, myOptions);
	for (var key in places) {
		var myPlace = places[key];
		if (myPlace.position) {
			if(places[key].is_going){
			  var marker = new google.maps.Marker({
				  map: mainMap,
				  position: new google.maps.LatLng(myPlace.position.lat, myPlace.position.lng),
				  icon: baseurl+"/public/images/google-pin-blue.svg",
			  });
			  createInfoWindow(marker, key);
			 // createTooltip(marker, key);
			}else{
				var marker = new google.maps.Marker({
				  map: mainMap,
				  position: new google.maps.LatLng(myPlace.position.lat, myPlace.position.lng),
				  icon: baseurl+"/public/images/google-pin-red.svg",
				});
				createInfoWindow(marker, key);
				//createTooltip(marker, key);
			}
			 markers.push(marker);
		}
	}           
}
 function setAllMap(map) {
  for (var i = 0; i < markers.length; i++) {
    markers[i].setMap(map);
  }
}
function clearMarkers() { 
  setAllMap(null);
  markers = [];
}
 
function addMarker() {
    for (var key in places) {
		var myPlace = places[key];
		if (myPlace.position) {
			if(places[key].is_going){
			  var marker = new google.maps.Marker({
				  map: mainMap,
				  position: new google.maps.LatLng(myPlace.position.lat, myPlace.position.lng),
				  icon: baseurl+"/public/images/google-pin-blue.svg",
			  });
			  createInfoWindow(marker, key);
			 // createTooltip(marker, key);
			}else{
				var marker = new google.maps.Marker({
				  map: mainMap,
				  position: new google.maps.LatLng(myPlace.position.lat, myPlace.position.lng),
				  icon: baseurl+"/public/images/google-pin-red.svg",
				});
				createInfoWindow(marker, key);
				//createTooltip(marker, key);
			}
			 markers.push(marker);
		}
	}
}
function joinEvent(activitiy_id){ 
	$("#activityrsvp_"+activitiy_id+" a").trigger( "click" );
}
function quitEvent(activitiy_id){ 
	$("#activityrsvp_"+activitiy_id+" a").trigger( "click" );
}
	var upladedFile = [];
	var geo_latitude = ''; 
	var geo_longitude ='';
	var media_page =1;
	var feed_page =1;
	var row_count = 2;
	var feedapp = angular.module('feed_app',[]);
	feedapp.config(function ($httpProvider) {
		$httpProvider.defaults.transformRequest = function(data){
			if (data === undefined) {return data;}
			return $.param(data);
		}
	});
	feedapp.directive('scroller', function ($window) {
    return {
        restrict: 'A',
        link: function(scope, element, attrs) {
		  var windowEl = angular.element($window); 		  
		  var handler = function() { scope.handler();  }
		  windowEl.on('scroll', scope.$apply.bind(scope, handler));
		 
		}
		};
	});
	feedapp.directive('testChange', function() {
    return function(scope, element, attrs) {        
        element.bind('change', function() {
            console.log('value changed');
        })
    }
	});
	feedapp.directive( 'elemReady', function( $parse ) {
	   return {
		   restrict: 'A',
		   link: function( $scope, elem, attrs ) {    
			 var readyFunc = $parse( attrs.onReady );

			 elem.ready( $scope.$apply( readyFunc( $scope )));
		   }
		}
	});
	feedapp.directive('helloMaps', function ($timeout) {  
      return function (scope, elem, attrs) {
		   $timeout(function(){
             var mapOptions,
          latitude = attrs.latitude,
          longitude = attrs.longitude,
		  location = attrs.location,
		  going = attrs.going,
          map;	
		 
        latitude = latitude && parseFloat(latitude, 10) || 43.074688;
        longitude = longitude && parseFloat(longitude, 10) || -89.384294;
        mapOptions = {
          zoom: 8,
          center: new google.maps.LatLng(latitude, longitude)
        };
		
        map = new google.maps.Map(elem[0], mapOptions);
		if(going==1){
			var marker = new google.maps.Marker({
				position: new google.maps.LatLng(latitude, longitude),
				icon: baseurl+"/public/images/map_pin-blue.svg",
				title:location
			});
		}else{
			var marker = new google.maps.Marker({
				position: new google.maps.LatLng(latitude, longitude),
				icon: baseurl+"/public/images/map_pin.svg",
				title:location
			});
		}
		// To add the marker to the map, call setMap();
		marker.setMap(map);
		google.maps.event.trigger(map, 'resize'); 
         }, 3000);
        
      };
    }); 
	
feedapp.directive('youtube', function($sce) {
  return {
    restrict: 'EA',
    scope: { code:'@code' },
    template: '<div style="height:400px;"><iframe style="overflow:hidden;height:400px;width:400px" width="400px" height="400px" src="{{code}}" frameborder="0" allowfullscreen></iframe></div>'
  };
});
 
	feedapp.controller('mapController',function($scope, $http,$compile){
		 
	});
	feedapp.controller('feedsController',function($scope, $http,$compile){
	     
		$scope.profile = {};
		$scope.profile.profile_name = '<?php echo $userinfo->user_profile_name; ?>';
		$scope.profile.user_given_name = '<?php echo $userinfo->user_given_name; ?>';
		$scope.profile.profile_photo = '<?php echo $userinfo->profile_photo; ?>';
		$scope.profile.user_id = '<?php echo $userinfo->user_id; ?>';
		$scope.profile.user_fbid = '<?php echo $userinfo->user_fbid; ?>';
		$scope.image_paths = <?php echo json_encode($image_folders); ?>;
		$scope.status_selected = 'text';
		$scope.mygroups = <?php echo json_encode($userGroups); ?>;
		$scope.mypost = {};
		$scope.mypost.statusText = '';
		$scope.mypost.group_id = '';
		$scope.selectedGroup = 'Choose Group';
		$scope.submit = {};
		$scope.submit.switch = 1;
		$scope.media_type = 'image';
		$scope.showVideoImage = 0;
		$scope.mypost.videourl = '';
		$scope.mypost.videoCaption = '';		 
		$scope.mypost.event_date = '<?php echo date("d-m-Y"); ?>';
		$scope.selectedMemberType = "All members";
		$scope.memberTypes = [];
		$scope.memberTypes =[["all","All members"],["friends","Friends"],["invite","Invite people"]];
		$scope.inviteSelected = 0;
		$scope.allMembers = [];
		$scope.event_search = '';
		$scope.objSelectedUsers = [];
		$scope.enablelist = 0;
		$scope.onlist = 0;
		$scope.medialike_ajaxloader = 0;
		$scope.selectedIndex= 0;
		$scope.changeGroup = function(group_id,groupTitle){
			$scope.selectedGroup = groupTitle;
			$scope.mypost.group_id =group_id;
			if($scope.selectedMemberType=='Invite people'){
				$scope.objSelectedUsers = [];
				$scope.listMembers();	
			}
		}
		$scope.changeMediaType = function(status){
			$scope.media_type = status;
		}
		$scope.video = [];
		$scope.addVideo = function(){  
			 $scope.videoid = $scope.getYouTubeIdFromURL($scope.mypost.videourl);
			 if($scope.videoid!=false){$scope.showVideoImage = 1;}else{$("#new_status_error").html("Invalid video url");$("#new_status_error").fadeIn("slow");}
        }
		$scope.RemoveVideo = function(){
			$scope.mypost.videourl = '';
			$scope.showVideoImage = 0;
			$scope.videoid = '';
		}
		$scope.getYouTubeIdFromURL = function(url){ 
			var regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]{11,11}).*/;
			var match = url.match(regExp);
			if (match) if (match.length >= 2) return match[2];
			return false;
		}
		$scope.submitStatus = function(){
			switch($scope.status_selected){
				case 'text':
					$scope.SubmitText();
				break;
				case 'media':
					$scope.SubmitMedia();
				break;
				case 'event':
					$scope.SubmitEvent(); 
				break;
			}
		}
		$scope.SubmitText = function(){ 
			if($scope.mypost.statusText==''||$scope.mypost.statusText==undefined){
				$("#new_status_error").html("Status is empty.. Please add something before you submit");
				$("#new_status_error").fadeIn("slow");				 
				return false;
			}
			if($scope.mypost.group_id==''||$scope.mypost.group_id==undefined){
				 
				$("#new_status_error").html("Select group");
				$("#new_status_error").fadeIn("slow");
				return false;
			}
			url  = baseurl+'/discussion/ajaxNewDiscussion';
			$scope.submit.switch =2;
			$("#new_status_error").html("");
			$("#new_status_error").fadeOut("slow");
			$http.post(url,
			{	
				group_id:$scope.mypost.group_id,
				statusText:$scope.mypost.statusText
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.submit.switch =1;
					$scope.mypost.statusText= ''; 
					$scope.mypost.group_id= '';
					$scope.selectedGroup = 'Choose Group';
					$("#new_status_error").html("");
					$("#new_status_error").fadeOut("slow");
					$scope.getFeeds(false);
				}else{
					$("#new_status_error").html(data.return_array.process_info);
					$("#new_status_error").fadeIn("slow");					 
					$scope.submit.switch = 1;
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.SubmitMedia = function(){  
			switch($scope.media_type){
				case 'image':
										 
					if(upladedFile.length<=0){
						$("#new_status_error").html("Select one file to upload");
						$("#new_status_error").fadeIn("slow");						 
						return false;
					}
					if($scope.mypost.group_id==''||$scope.mypost.group_id==undefined){
						 
						$("#new_status_error").html("Select group");
						$("#new_status_error").fadeIn("slow");
						return false;
					}
					$scope.addMedia();
					
				break;
				case 'video':
					if($scope.mypost.group_id==''||$scope.mypost.group_id==undefined){
						$("#new_status_error").html("Select group");
						$("#new_status_error").fadeIn("slow");
						return false;
					} 
					if($scope.mypost.videourl==''||$scope.mypost.group_id==undefined){						 
						$("#new_status_error").html("Select one video to upload");
						$("#new_status_error").fadeIn("slow");
						return false;
					}
					$scope.addMedia(); 
				break;
			}
		}
		 $scope.addMedia =function(){
			$("#new_status_error").fadeOut();
			url  = baseurl+'/groups/ajaxAddMedia';
			$scope.submit.switch =2;
			var formData = new FormData();	
			if($scope.media_type == 'image'){
				formData.append("mediaImage",upladedFile);
				formData.append("imageCaption",$scope.mypost.caption);
			}
			if($scope.media_type == 'video'){
				formData.append("mediaVideo",$scope.mypost.videourl);
				formData.append("videoCaption",$scope.mypost.videoCaption);
			}
			 
			formData.append("group_id",$scope.mypost.group_id);
			formData.append("media_type",$scope.media_type);
			$("#progress").html('<div class="progress_status"></div>');
			var progress_old=25;
			
			$.ajax({
				type: 'POST',
				url: url,
				data: formData,
				cache: false,
				// Force this to be read from FormData
				contentType: false,
				processData: false,
				 
				xhr: function() {
				  var xhr = new window.XMLHttpRequest();
					//Download progress
					xhr.addEventListener("progress", function (evt) {
						if (evt.lengthComputable) {
							var percentComplete = evt.loaded / evt.total;							 
							for(i=progress_old;i<=Math.round(percentComplete * 100);i++){
								//$("#progress").width(i+"%");
							}
							if(i>=99){
								//$("#progress").width("0%");
							}
						}
					}, false);
					return xhr;
				},
				success: function(response) {
					if(response.return_array.process_status == 'success'){
						$scope.submit.switch =1;
						$scope.mypost.videoCaption= ''; 
						$scope.mypost.caption= ''; 
						$scope.mypost.group_id= '';
						$scope.showVideoImage = 0;
						$scope.mypost.videourl = ''; 
						upladedFile = [];
						$scope.selectedGroup = 'Choose Group';
						$("#uploaded_img").hide();
						$("#default_img").show();
						$scope.getFeeds(false);
						progress_old = 0;
						$("#progress").html('');
					}else{
						alert(response.return_array.process_info);
						$scope.submit.switch = 1;
						progress_old = 0;
					}	
				},
				error: function(xhr, ajaxOptions, thrownError) {
				 // deferred.reject(errorThrown);
				 progress_old = 0;
				},
				
			  });
			 
			/*$http.post(url,formData,{withCredentials: true, headers: {'Content-Type': undefined }, transformRequest: angular.identity})
			.success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.submit.switch =1;
					$scope.mypost.videoCaption= ''; 
					$scope.mypost.caption= ''; 
					$scope.mypost.group_id= '';
					$scope.showVideoImage = 0;
					$scope.mypost.videourl = ''; 
					upladedFile = [];
					$scope.selectedGroup = 'Choose Group';
					$("#uploaded_img").hide();
					$("#default_img").show();
					$scope.getFeeds(false);
				}else{
					alert(data.return_array.process_info);
					$scope.submit.switch = 1;
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});*/
		}
		$scope.changeMemberType =  function(id,type){
			$scope.selectedMemberType = type;
			if(id == 'invite'){
				if($scope.mypost.group_id!=''){
					$scope.listMembers();	
				}else{
					 
					$("#new_status_error").html("Choose one group");
					$("#new_status_error").fadeIn("slow");
				}				
			}
		}
		$scope.listMembers =  function(){
			$scope.inviteSelected = 1;
			url  = baseurl+'/groups/getAllActiveMembersExceptMe';				 
			$http.post(url,
			{	
				group_id:$scope.mypost.group_id					 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.allMembers =data.return_array.members
				}else{
					$("#new_status_error").html(data.return_array.process_info);
					$("#new_status_error").fadeIn("slow");				 					  
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.AddToInvitedUsers = function(user_id,user_name,user_image,user_fbid){
			var incexist = 0;
			angular.forEach($scope.objSelectedUsers, function(dataset){ 
				if(dataset.user_id == user_id){incexist++;}
			});				
			if(incexist == 0){
				$scope.objSelectedUsers.push({
					user_id:user_id,user_name:user_name,user_image:user_image,user_fbid:user_fbid
				});
			}				
		}
		 window.onclick = function() {
				if($scope.onlist==0){
					$scope.enablelist = 0;				 					
				}
				 
			 }
		$scope.RemoveFromInvitedUsers = function(user_id){
			var array_index = $scope.getArrayIndex($scope.objSelectedUsers,'user_id',user_id);
			$scope.objSelectedUsers.splice( array_index, 1 );			 
		}
		$scope.getArrayIndex = function(arr_elemnt,key,item){ 
			var incexist = -1;
			for(i=0;i<arr_elemnt.length;i++) {
				if(arr_elemnt[i][key] == item){incexist = i;}
			}
			return incexist;
		}
		$scope.hideList = function(){  
			if(!$scope.onlist)$scope.enablelist = 0;
		}
		$scope.OnListHover = function(){ 
			$scope.onlist = 1;
		}
		$scope.OnListOut =  function(){  
			$scope.onlist = 0;
			$scope.enablelist = 0;
		}
		$scope.SubmitEvent = function(){	 
			if($scope.mypost.event_title==''||$scope.mypost.event_title==undefined){			 
				$("#new_status_error").html("Event title required");
				$("#new_status_error").fadeIn("slow");
				return false;
			}
			if($scope.mypost.event_date==''||$scope.mypost.event_date==undefined){
				 
				$("#new_status_error").html("Event date required");
				$("#new_status_error").fadeIn("slow");
				return false;
			}
			if($scope.mypost.event_location==''||$scope.mypost.event_location==undefined){
				 
				$("#new_status_error").html("Event location required");
				$("#new_status_error").fadeIn("slow");
				return false;
			}
			if($scope.mypost.event_description==''||$scope.mypost.event_description==undefined){			 
				$("#new_status_error").html("Event description required");
				$("#new_status_error").fadeIn("slow");
				return false;
			}
			if($scope.mypost.group_id==''||$scope.mypost.group_id==undefined){
				 
				$("#new_status_error").html("Select group");
				$("#new_status_error").fadeIn("slow");
				return false;
			}
			$scope.submit.switch = 2;
			url  = baseurl+'/activity/ajaxAddActivity';	
			var invite_members = [];
			$("#new_status_error").html("");
			$("#new_status_error").fadeOut("slow");
			angular.forEach($scope.objSelectedUsers, function(dataset){ 
				 invite_members.push(dataset.user_id);
			});
			$http.post(url,
			{	
				group_id:$scope.mypost.group_id,
				event_title:$scope.mypost.event_title,
				event_date:$scope.mypost.event_date,
				event_location:$scope.mypost.event_location,
				event_description:$scope.mypost.event_description,
				event_time:$scope.mypost.event_time,
				selectedMemberType:$scope.selectedMemberType,
				invite_members:invite_members,
				event_location_lat:geo_latitude,
				event_location_lng:geo_longitude
				
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.submit.switch =1;
					$scope.mypost.event_title=''
					$scope.mypost.event_date = '<?php echo date("d-m-Y"); ?>';
					$scope.mypost.event_location ='';
					$scope.mypost.group_id= '';
					$scope.mypost.event_description = '';
					$scope.mypost.event_time = '';
					$scope.selectedMemberType = "All members";
					$scope.objSelectedUsers = [];
					$scope.inviteSelected = 0;					 
					$scope.event_search = '';					 
					$scope.enablelist = 0;
					$scope.onlist = 0;
					$scope.selectedGroup = 'Choose Group';
					$scope.updateMainMap();
					$scope.getFeeds(false);
				}else{
					$("#new_status_error").html(data.return_array.process_info);
					$("#new_status_error").fadeIn("slow");					 
					$scope.submit.switch = 1;
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		/*feeds*/
		$scope.feedType = "All";
		$scope.groupFilter = "All Groups";
		$scope.groupFilterSelected = "All";
		$scope.feedGroups = <?php echo json_encode($userGroups); ?>;
		$scope.activityFilterList = [];
		$scope.ActivityFilter = "All Activity";
		$scope.ActivityFilterSelected = "all";
		$scope.activityFilterList =[["all","All Activity"],["Interactions","Interactions"],["friends_post","Posts By Friends"],["goingto","Events Im Going To"]];
		$scope.feeds = [];
		$scope.feeds_row1 = [];
		$scope.feeds_row2 = [];
		$scope.feeds_row3 = [];
		$scope.selectGroupFilters = function(identity,name){ 
			$scope.groupFilter = name;
			$scope.groupFilterSelected = identity;
			$scope.getFeeds(false);
		}
		$scope.selectActivityFilters = function(identity,name){
			$scope.ActivityFilter = name;
			$scope.ActivityFilterSelected = identity;
			$scope.getFeeds(false);
		}
		$scope.feedAjax = 0;
		$scope.getFeeds = function(scrolling){
			
			if($scope.feedAjax ==0){
				$scope.feedAjax =1;
				if(scrolling){feed_page = feed_page+1;}else{
					feed_page = 1;
					row_count = 2;
					$scope.feeds_row1 = [];
					$scope.feeds_row2 = [];
					$scope.feeds_row3 = [];
					//$("#feed_row1").find(('.item')).not("#statusbar").remove();  
					//$("#feed_row2").find(('.item')).remove(); 
					//$("#feed_row3").find(('.item')).remove(); 					
				}
				url  = baseurl+'/user/getFeeds';
				$http.post(url,
				{	
					page:feed_page,
					type:$scope.feedType,
					group:$scope.groupFilterSelected,
					activity:$scope.ActivityFilterSelected,
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {	
					$("#progress").html('');
					if(data.return_array.process_status == 'success'){		
						if(data.return_array.feeds.length>0){
							$scope.feedsAppend(data.return_array.feeds);						 
						}
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();
						//alert(data.return_array.process_info);						 
					}	
					$scope.feedAjax =0;					
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
					 $scope.feedAjax =0;
				});
			}
		}
		$scope.feedsAppend = function(feeds){
			var testINcrement = 0;
			var screenwidth = screen.width;
			var availablerows = 1;
			if(screenwidth<=450){
				availablerows = 1;
			}else if(screenwidth<=768){
				availablerows = 2;
			}else{
				availablerows = 3;
			}
			angular.forEach(feeds, function(dataset){ 
				dataset.viewComment = 0;
				if(availablerows==1){
					$scope.feeds_row1.push(dataset);
					row_count=1;
				}else if(availablerows==2){
					if(row_count==1){
						$scope.feeds_row1.push(dataset);
					}
					if(row_count==2){
						$scope.feeds_row2.push(dataset);
					}					 
					row_count++;
					if(row_count>2){row_count=1;}
				}else{
					if(row_count==1){
						$scope.feeds_row1.push(dataset);
					}
					if(row_count==2){
						$scope.feeds_row2.push(dataset);
					}
					if(row_count==3){
						$scope.feeds_row3.push(dataset);
					}
					row_count++;
					if(row_count>3){row_count=1;}
				}
			}); 
		}
		
		$scope.funUnLikeAction = function(system_type,content_id){
			var holder_content = $("#"+system_type+"_"+content_id).html();
			$("."+system_type+"_"+content_id).html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
			if(system_type == 'Media'){
				$scope.medialike_ajaxloader = 1;
			}
			url  = baseurl+'/like/unlikes';				 
			$http.post(url,
			{	
				system_type:system_type,content_id:content_id,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.like_count>0){
						var likecontent = '';
						likecontent += '<span class="tootltip_outer">';
						likecontent += '<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction(\''+system_type+'\','+content_id+')" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers(\''+system_type+'\','+content_id+','+data.return_array.like_count+',1)" ng-mouseover="loadToolTip(\''+system_type+'\','+content_id+')" ng-mouseout="unloadToolTip(\''+system_type+'\','+content_id+')">'+data.return_array.like_count+' likes</a>';
						likecontent += '<div class="like_tooltip" id="tooltip_'+system_type+'_'+content_id+'" style="display:none">'
							for(i=0;i<data.return_array.liked_users.length;i++){
								likecontent += '<span>'+data.return_array.liked_users[i]+'</span>';
							}
							if(data.return_array.like_count>2){
								likecontent += '<span>More..</span>';
							}
						likecontent += '</div></span>';
						$("."+system_type+"_"+content_id).html($compile(likecontent)($scope)) ;
					}else{
						$("."+system_type+"_"+content_id).html($compile('<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction(\''+system_type+'\','+content_id+')" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers(\''+system_type+'\','+content_id+','+data.return_array.like_count+',1)" title="'+data.return_array.liked_users+'">0 likes</a>')($scope)) ;
					}
					if(system_type == 'Media'){
						$scope.medialike_ajaxloader = 0;
						$scope.media.likes_counts = data.return_array.like_count;
						$scope.media.is_liked =0;
						$scope.media.likedUsers = data.return_array.liked_users;		 
					}
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();
				$("."+system_type+"_"+content_id).html($compile(holder_content)($scope));					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
			 
		}
		$scope.loadpeople = 0;
		$scope.likedpeoples = [];
		$scope.LoadLikedUsers = function(system_type,content_id,like_count,is_liked){
			 $scope.likedpeoples = [];
			 if(like_count ==1&&is_liked==1){
				return true;
			 }
			 if(like_count > 0){
				$scope.loadpeople = 1;
				$('#likes_popup').modal();
				 
				url  = baseurl+'/like/userslist';				 
				$http.post(url,
				{	
					system_type:system_type,content_id:content_id,		 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$scope.loadpeople = 0;
						$scope.likedpeoples = data.return_array.liked_users;
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();
					$("#"+system_type+"_"+content_id).html($compile(holder_content)($scope));					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			 }
		}
		 	
		$scope.sentFriendRequest  = function(user){
				 
			url  = baseurl+'/user/sentFriendRequest/'+user;
			$http({
			  method: 'POST',
			  url: url
			}).success(function(data, status, headers, config) {
			 
				if(data.return_array.process_info==''){
				 ;
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.rejectFriendRequest  = function(user){
			 
			url  = baseurl+'/user/rejectFriendRequest/'+user;
			$http({
			  method: 'POST',
			  url: url
			}).success(function(data, status, headers, config) {
				 
				if(data.return_array.process_info==''){
					;
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.acceptFriendRequest  = function(user){
			 
			url  = baseurl+'/user/acceptFriendRequest/'+user;
			$http({
			  method: 'POST',
			  url: url
			}).success(function(data, status, headers, config) {
				 
				if(data.return_array.process_info==''){
					 ;
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.commentText='';
		$scope.commentTextArray = [];
		$scope.LoadCommentWindow = function(system_type,content_id,row_id,row_index){
			hashedUser=[];
			
			var commentForm = '';
			commentForm += '<div class="post_comment-outer" id="post_reply">';
            commentForm += '<div class="header-profile_image comment_profile-img">';
			if($scope.profile.profile_photo!=''&&$scope.profile.profile_photo!=null){
               commentForm += '<img  src="<?php echo $this->basePath(); ?>/public/datagd/profile/'+$scope.profile.user_id+'/'+$scope.profile.profile_photo+'">';
			}else if(($scope.profile.profile_photo==''||$scope.profile.profile_photo==null)&&($scope.profile.user_fbid!=''&&$scope.profile.user_fbid!=null)){
				 commentForm += '<img alt="" src="https://graph.facebook.com/'+$scope.profile.user_fbid+'/picture?width=66&&height=66">';
			}else{ commentForm += '<img  src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">';}
            commentForm += '</div>';
            commentForm += '<div class="post_comment_text post_comment_reply">';
            commentForm += '<div class="commentTextArea" id="commentText_'+system_type+'_'+content_id+'"  contenteditable="true" data-text="Start typing your comment here.." ng-keydown="keyPress($event,\''+system_type+'\','+content_id+');"></div><div id="hashingUsers_'+system_type+'_'+content_id+'"></div>';
            commentForm += '</div>';
            commentForm += '<div class="clear"></div>';
            commentForm += '<div class="post_comment_reply-butns">';
            commentForm += '<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment(\''+system_type+'\','+content_id+','+row_id+','+row_index+')">Post</a>';
            commentForm += '</div>';
            commentForm += '</div>';
			$("#comment_"+system_type+'_'+content_id).html($compile(commentForm)($scope));
		}
		$scope.keyPress = function(event,system_type,content_id){			
			if(event.which == 50){
				if(event.shiftKey) {
					
					enableHashing = 1;
					str_search ='';
				}
			}
			if(enableHashing){ 
				if(event.which != 50){
					str_search = str_search+String.fromCharCode(event.keyCode);
				}
				$scope.getFriends(str_search,system_type,content_id);
			}
		}
		$scope.getFriends =function(str_search,system_type,content_id){
			url  = baseurl+'/user/getFriends';
			$http.post(url,
				{	
					str_search:str_search,		 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						if(data.return_array.arrFriends.length>0){
							var hasusers = '<ul class="hashUserList">';
							angular.forEach(data.return_array.arrFriends, function(dataset){				
								hasusers+= '<li><a href="javascript:void(0)" ng-click="addTOhashed(\''+system_type+'\','+content_id+',\''+dataset.user_profile_name+'\','+dataset.user_id+',\''+dataset.user_given_name+'\')">';
								if(dataset.profile_photo!=''&&dataset.profile_photo!=null){
								   hasusers += '<img  src="<?php echo $this->basePath(); ?>/public/datagd/profile/'+dataset.user_id+'/'+dataset.profile_photo+'">';
								 }else if((dataset.profile_photo==''||dataset.profile_photo==null)&&(dataset.user_fbid!=''&&dataset.user_fbid!=null)){
										hasusers += '<img alt="" src="https://graph.facebook.com/'+dataset.user_fbid+'/picture?width=66&&height=66">';
								 }else{ hasusers += '<img  src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">';}
								hasusers += dataset.user_given_name;
								hasusers+= '</a>';
								hasusers+= '</li>';
							});
							hasusers+= '</ul>';
							$("#hashingUsers_"+system_type+"_"+content_id).html($compile(hasusers)($scope));
						}else{
							$("#hashingUsers_"+system_type+"_"+content_id).html('');
							str_search = '';
							enableHashing=0;
						}						
					}
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
		}
		$scope.addTOhashed = function(system_type,content_id,profilename,user_id,user_given_name){ 
			if(system_type=='Comment'){
				commentText=$("#editcomment_text_"+content_id).html();
				str_search = str_search.toLowerCase();
				text = commentText.replace('@'+str_search,'<a class="hashed_user" id="hashed_user_'+user_id+'" contentEditable="false"  href="<?php echo $this->basePath(); ?>/'+profilename+'">'+user_given_name+'</a>&nbsp;'); 
				$("#editcomment_text_"+content_id).html(text);
				$("#hashingUsers_"+system_type+"_"+content_id).html('');
				$("#hashingUsers_"+system_type+"_"+content_id).focus();
				var selectedhashusers = $("#hashed_users_"+system_type+"_"+content_id).attr("data-items");
				if(selectedhashusers!=''){
					selectedhashusers=selectedhashusers+'.'+user_id;
				}else{selectedhashusers=user_id;}
				$("#hashed_users_"+system_type+"_"+content_id).attr("data-items",selectedhashusers);			 
				//hashedUser.push(user_id);
				str_search = '';
				enableHashing=0;

			}else{
				commentText=$("#commentText_"+system_type+'_'+content_id).html();
				str_search = str_search.toLowerCase();
				text = commentText.replace('@'+str_search,'<a class="hashed_user" id="hashed_user_'+user_id+'" contentEditable="false"  href="<?php echo $this->basePath(); ?>/'+profilename+'">'+user_given_name+'</a>&nbsp;'); 
				$("#commentText_"+system_type+'_'+content_id).html(text);
				$("#hashingUsers_"+system_type+"_"+content_id).html('');
				$("#hashingUsers_"+system_type+"_"+content_id).focus();
				var selectedhashusers = $("#hashed_users_"+system_type+"_"+content_id).attr("data-items");
				if(selectedhashusers!=''){
					selectedhashusers=selectedhashusers+'.'+user_id;
				}else{selectedhashusers=user_id;}
				$("#hashed_users_"+system_type+"_"+content_id).attr("data-items",selectedhashusers);			 
				//hashedUser.push(user_id);
				str_search = '';
				enableHashing=0;
			}
		}
		$scope.RemoveCommentWindow = function(system_type,content_id){
			$("#comment_"+system_type+'_'+content_id).html('');
			hashedUser=[];
			str_search = '';
			enableHashing=0;
		}
		 
		$scope.SendComment = function(system_type,content_id,row_id,row_index){  
			var buttn_content =  $("#comment_"+system_type+'_'+content_id+" .post_comment_reply-butns").html();
			$("#comment_"+system_type+'_'+content_id+" .post_comment_reply-butns").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif">');			 
			$scope.commentText=$("#commentText_"+system_type+'_'+content_id).html();
			 
			if($scope.commentText!=''){
				var selectedhashusers = $("#hashed_users_"+system_type+"_"+content_id).attr("data-items");
				hashedUser = selectedhashusers.split('.');
				for(i=0;i<hashedUser.length;i++){
				 var term = 'hashed_user_'+hashedUser[i];
				 var index = $scope.commentText.indexOf(term);
				 if(index == -1){
					hashedUser.splice( i, 1 );		
				 }
				}
				url  = baseurl+'/comment/comments';
				$http.post(url,
				{	
					system_type:system_type,content_id:content_id,txt_comment:$scope.commentText,hashedUser:hashedUser		 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$("#commentText_"+system_type+'_'+content_id).html('');
						//$("#comment_"+system_type+'_'+content_id).html('');		
						var bt_content = '<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment(\''+system_type+'\','+content_id+','+row_id+','+row_index+')">Post</a>';
						$("#comment_"+system_type+'_'+content_id+" .post_comment_reply-butns").html($compile(bt_content)($scope));
						//$scope.LoadCommentList(system_type,content_id,row_id,row_index,1);

						var newcomment = [];
						newcomment['comment_content'] = $scope.commentText;
						newcomment['comment_id'] = data.return_array.comment_id;
						newcomment['comment_time'] = '0m';
						newcomment['user_given_name'] = $scope.profile.user_given_name;
						newcomment['user_id'] = $scope.profile.user_id;
						newcomment['user_register_type'] = '';
						newcomment['user_fbid'] = $scope.profile.user_fbid;
						newcomment['profile_photo'] = $scope.profile.profile_photo;
						newcomment['liked_users'] = 0;
						newcomment['likes_count'] = 0;
						newcomment['islike'] = 0;						
						newcomment['user_profile_name'] = $scope.profile.user_profile_name;
						newcomment['allowedit'] = 1;
						
						if(row_id==1){
							$scope.feeds_row1[row_index].content.is_commented = 1;							
							$scope.feeds_row1[row_index].content.comment_counts = data.return_array.comment_count;						
							$scope.feeds_row1[row_index].content.comments.unshift(newcomment);
						}
						if(row_id==2){
							$scope.feeds_row2[row_index].content.is_commented = 1;
							$scope.feeds_row2[row_index].content.comment_counts = data.return_array.comment_count;
							$scope.feeds_row2[row_index].content.comments.unshift(newcomment);							 
						}
						if(row_id==3){
							$scope.feeds_row3[row_index].content.is_commented = 1;
							$scope.feeds_row3[row_index].content.comment_counts = data.return_array.comment_count;
							$scope.feeds_row3[row_index].content.comments.unshift(newcomment);							 
						}
						hashedUser=[];
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();
					}	 			     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}else{
				$("#feed_dialog").html("Please add some content before submitting");
				$("#feed_dialog").dialog();
				var bt_content = '<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment(\''+system_type+'\','+content_id+','+row_id+','+row_index+')">Post</a>';
				$("#comment_"+system_type+'_'+content_id+" .post_comment_reply-butns").html($compile(bt_content)($scope));
			}
		}
		
		$scope.LoadCommentList = function(system_type,content_id,rowid,rowindex,page){ 
			 hashedUser=[];
			 if(page=1){
				 if(rowid==1){
					 if($scope.feeds_row1[rowindex].viewComment==1){
						 $scope.feeds_row1[rowindex].viewComment = 0;
					 }else{
						 $scope.feeds_row1[rowindex].viewComment = 1;
					 }					 
				 }
				 if(rowid==2){
					 if($scope.feeds_row2[rowindex].viewComment==1){
						 $scope.feeds_row2[rowindex].viewComment = 0;
					 }else{
						 $scope.feeds_row2[rowindex].viewComment = 1;
					 }					 
				 }
				 if(rowid==3){
					 if($scope.feeds_row3[rowindex].viewComment==1){
						 $scope.feeds_row3[rowindex].viewComment = 0;
					 }else{
						 $scope.feeds_row3[rowindex].viewComment = 1;
					 }					 
				 }
			 }
			 newcomment=0;
			 url  = baseurl+'/comment/getComments';
			 $http.post(url,
			 {	
				system_type:system_type,content_id:content_id,page:page,		 
			 },
			 {headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			 ).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$("#comment_"+system_type+"_list"+content_id).addClass("open");
					if(rowid==1){
						if(page==1){
							$scope.feeds_row1[rowindex].content.comments = data.return_array.comments;
							$scope.feeds_row1[rowindex].content.comment_page= page;
						}else{
							 
							angular.forEach(data.return_array.comments, function(dataset){	
								$scope.feeds_row1[rowindex].content.comments.push(dataset);
							});
							 
							$scope.feeds_row1[rowindex].content.comment_page= page;
						}					
					}
					if(rowid==2){
						if(page==1){
							$scope.feeds_row2[rowindex].content.comments = data.return_array.comments;
							$scope.feeds_row2[rowindex].content.comment_page= page;
						}else{
							angular.forEach(data.return_array.comments, function(dataset){	
								$scope.feeds_row2[rowindex].content.comments.push(dataset);
							});
							$scope.feeds_row2[rowindex].content.comment_page= page;
						}					
					}
					if(rowid==3){
						if(page==1){
							$scope.feeds_row3[rowindex].content.comments = data.return_array.comments;
							$scope.feeds_row3[rowindex].content.comment_page= page;
						}else{
							angular.forEach(data.return_array.comments, function(dataset){	
								$scope.feeds_row3[rowindex].content.comments.push(dataset);
							});
							$scope.feeds_row3[rowindex].content.comment_page= page;
						}					
					}
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();				 			 				
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
			
		}
		$scope.showCommentText = function(content,id){
			$("#comment_content_text_"+id).html(content);
			
		}
		$scope.mediaLoader = 0;
		$scope.media = '';
		$scope.media_comments = [];	
		$scope.open_id = '';
		$scope.loadMedia = function(media_id){
			$scope.open_id = media_id;
			hashedUser=[];
			$scope.commenteditEnableList =[];
			$(".comment-edit").hide();
			str_search = '';
			enableHashing=0;
			$("#txtMediaComment").html('');
			$scope.medialist = 0;
			url  = baseurl+'/groups/getMedia';
			 $http.post(url,
			 {	
				media_id:media_id,		 
			 },
			 {headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			 ).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.mediaLoader = 0;
					$scope.media_comments = data.return_array.comments;
					$scope.media =  data.return_array.group_media;
					if($scope.media.media_type=='video'){	 
						$scope.loadVideoContent($scope.media.media_content);	
						$("#video_content").show();
					}else{
						$("#video_content").html('');
						$("#video_content").hide();
					}
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();							 				
				}				     
			 }).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			 });
			 
		}
		$scope.funLikeAction = function(system_type,content_id){
			var holder_content = $("."+system_type+"_"+content_id).html();
			var mediaholder_content = $("#"+system_type+"_modelwindow").html();
			$("."+system_type+"_"+content_id).html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
			if(system_type == 'Media'){
				//$("#"+system_type+"_modelwindow").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
				$scope.medialike_ajaxloader = 1;
			}
			url  = baseurl+'/like/likes';				 
			$http.post(url,
			{	
				system_type:system_type,content_id:content_id,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.like_count>0){
						var likecontent = '';
						likecontent += '<span class="tootltip_outer">';
						likecontent += '<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction(\''+system_type+'\','+content_id+')" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers(\''+system_type+'\','+content_id+','+data.return_array.like_count+',1)" ng-mouseover="loadToolTip(\''+system_type+'\','+content_id+')" ng-mouseout="unloadToolTip(\''+system_type+'\','+content_id+')">'+data.return_array.like_count+' likes</a>';
						likecontent += '<div class="like_tooltip" id="tooltip_'+system_type+'_'+content_id+'" style="display:none">'
							for(i=0;i<data.return_array.liked_users.length;i++){
								likecontent += '<span>'+data.return_array.liked_users[i]+'</span>';
							}
							if(data.return_array.like_count>3){
								likecontent += '<span>More..</span>';
							}
							
						likecontent += '</div></span>';
						$("."+system_type+"_"+content_id).html($compile(likecontent)($scope)) ;
						
					}else{
						$("."+system_type+"_"+content_id).html($compile('<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction(\''+system_type+'\','+content_id+')" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers(\''+system_type+'\','+content_id+','+data.return_array.like_count+',1)" title="'+data.return_array.liked_users+'">0 likes</a>')($scope)) ;
					}
					if(system_type == 'Media'){			
						$scope.medialike_ajaxloader = 0;
						$scope.media.likes_counts = data.return_array.like_count;
						$scope.media.is_liked = 1;
						$scope.media.likedUsers = data.return_array.liked_users;						
					}
					
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();			
				$("."+system_type+"_"+content_id).html($compile(holder_content)($scope));					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
			 
		}
		$scope.loadYoutubeVideo = function(video_id){
			 $("#video_content").html('<iframe style="overflow:hidden;height:100%;width:100%" width="100%" height="100%" src="http://www.youtube.com/embed/'+video_id+'" frameborder="0" allowfullscreen></iframe>');
		}
		$scope.loadVideoContent = function(videoContent){ 
			var video_id = $scope.getYouTubeIdFromURL(videoContent);
			if(video_id!=''){ 
				$scope.loadYoutubeVideo(video_id);
			}
		}
		$scope.enableScrollbar = function(){
			 $('#comment_container_outer').slimScroll({
				  color: '#00f'
			  });
		}
		$scope.loadCommmentText = function(arrayIndex,commenttext){
			 $('#comment_text_'+arrayIndex).html(commenttext);
		}
		$scope.commentPage =2;
		$scope.hideloadmore =0;
		$scope.showReply = 1;
		$scope.txtMediaComment = '';
		$scope.enableCommentReplyMedia= function(){
			if($scope.showReply ==1){
				$scope.showReply = 0;
			}else{
				$scope.showReply = 1;
			}
		}
		$scope.loadmoreCommentFromPopup = function(media_id){
			url  = baseurl+'/comment/getComments';
			$http.post(url,
			 {	
					system_type:'Media',content_id:media_id,page:$scope.commentPage,		 
				 },
				 {headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				 ).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$scope.media_comments = $scope.media_comments.concat(data.return_array.comments);
						$scope.commentPage = $scope.commentPage+1;
						if(data.return_array.comments.length<=0){
							$scope.hideloadmore =1;
						} 
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();							 				
					}				     
				 }).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				 });
		}
		$scope.removeCommentBox = function(){  
			$scope.showReply = 0;
				$("#txtMediaCommenthashed").html('');
			hashedUser=[];
			str_search = '';
			enableHashing=0;
			$("#txtMediaComment").html('');
			//$("#post_reply-media").hide();
		}
		$scope.keyPressMedia = function(event,system_type,content_id){
			
			if(event.which == 50){
				if(event.shiftKey) {
					
					enableHashing = 1;
					str_search ='';
				}
			}
			if(enableHashing){ 
				if(event.which != 50){
					str_search = str_search+String.fromCharCode(event.keyCode);
				}
				$scope.getFriendsMedia(str_search,system_type,content_id);
			}
		}
		$scope.getFriendsMedia =function(str_search,system_type,content_id){
			url  = baseurl+'/user/getFriends';
			$http.post(url,
				{	
					str_search:str_search,		 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						if(data.return_array.arrFriends.length>0){
							var hasusers = '<ul class="hashUserList">';
							angular.forEach(data.return_array.arrFriends, function(dataset){				
								hasusers+= '<li><a href="javascript:void(0)" ng-click="addTOhashedMedia(\''+system_type+'\','+content_id+',\''+dataset.user_profile_name+'\','+dataset.user_id+',\''+dataset.user_given_name+'\')">';
								if(dataset.profile_photo!=''&&dataset.profile_photo!=null){
								   hasusers += '<img  src="<?php echo $this->basePath(); ?>/public/datagd/profile/'+dataset.user_id+'/'+dataset.profile_photo+'">';
								 }else if((dataset.profile_photo==''||dataset.profile_photo==null)&&(dataset.user_fbid!=''&&dataset.user_fbid!=null)){
										hasusers += '<img alt="" src="https://graph.facebook.com/'+dataset.user_fbid+'/picture?width=66&&height=66">';
								 }else{ hasusers += '<img  src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">';}
								hasusers += dataset.user_given_name;
								hasusers+= '</a>';
								hasusers+= '</li>';
							});
							hasusers+= '</ul>';
							if(system_type=='Comment'){
								$("#txtMediaEditCommenthashed_"+content_id).html($compile(hasusers)($scope));
							}else{$("#txtMediaCommenthashed").html($compile(hasusers)($scope));}
							
						}else{
							$("#txtMediaCommenthashed").html('');
							str_search = '';
							enableHashing=0;
						}						
					}
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
		}
		$scope.addTOhashedMedia = function(system_type,content_id,profilename,user_id,user_given_name){ 
			if(system_type=='Comment'){
				commentText=$("#editmediacomment_text_"+content_id).html();
				str_search = str_search.toLowerCase();
				text = commentText.replace('@'+str_search,'<a class="hashed_user" id="hashed_user_'+user_id+'" contentEditable="false"  href="<?php echo $this->basePath(); ?>/'+profilename+'">'+user_given_name+'</a>&nbsp;'); 
				$("#editmediacomment_text_"+content_id).html(text);
				$("#txtMediaEditCommenthashed_"+content_id).html('');
				var selectedhashusers = $("#media_hashed_users_"+system_type+"_"+content_id).attr("data-items");
				if(selectedhashusers!=''){
					selectedhashusers=selectedhashusers+'.'+user_id;
				}else{selectedhashusers=user_id;}
				$("#media_hashed_users_"+system_type+"_"+content_id).attr("data-items",selectedhashusers);			 
				//hashedUser.push(user_id);
				str_search = '';
				enableHashing=0;
			}else{
				commentText=$("#txtMediaComment").html();
				str_search = str_search.toLowerCase();
				text = commentText.replace('@'+str_search,'<a class="hashed_user" id="hashed_user_'+user_id+'" contentEditable="false"  href="<?php echo $this->basePath(); ?>/'+profilename+'">'+user_given_name+'</a>&nbsp;'); 
				$("#txtMediaComment").html(text);
				$("#txtMediaCommenthashed").html('');
				var selectedhashusers = $("#media_hashed_users_"+system_type+"_"+content_id).attr("data-items");
				if(selectedhashusers!=''){
					selectedhashusers=selectedhashusers+'.'+user_id;
				}else{selectedhashusers=user_id;}
				$("#media_hashed_users_"+system_type+"_"+content_id).attr("data-items",selectedhashusers);			 
				//hashedUser.push(user_id);
				str_search = '';
				enableHashing=0;
			}
		}
		$scope.showCommentsForEdit = function(comment,comment_id){
			 //loadcommentEdit(comment,comment_id);
		}
		$scope.postComment = function(media_id){
			$scope.txtMediaComment = $("#txtMediaComment").html();
			if($scope.txtMediaComment!=''){
			url  = baseurl+'/comment/comments';
				$http.post(url,
				{	
					system_type:"Media",content_id:media_id,txt_comment:$scope.txtMediaComment,hashedUser:hashedUser,	 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						hashedUser=[];
						$scope.media.is_commented = 1;
						$scope.media.comment_count = $scope.media.comment_count;
						var newcomment = [];
						newcomment['likes_count'] = 0;
						newcomment['islike'] = 0;
						newcomment['comment_content'] = $scope.txtMediaComment;						
						newcomment['comment_id'] = data.return_array.comment_id;
						newcomment['comment_time'] = 'just now';
						newcomment['user_given_name'] = $scope.profile.user_given_name;
						newcomment['user_id'] = $scope.profile.user_id;
						newcomment['user_register_type'] = '';
						newcomment['user_fbid'] = $scope.profile.user_fbid;
						newcomment['profile_photo'] = $scope.profile.profile_photo;
						newcomment['likedUsers'] = [];
						newcomment['user_profile_name'] = $scope.profile.profile_name;
						newcomment['allowedit'] = 1;						 
						$scope.media_comments.unshift(newcomment);
						  	var row_index = 0;	
						angular.forEach($scope.feeds_row1, function(dataset){
							if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
								$scope.feeds_row1[row_index].content.comment_counts = ($scope.feeds_row1[row_index].content.comment_counts*1)+1;
								$scope.feeds_row1[row_index].content.is_commented = 1;
								$scope.feeds_row1[row_index].content.viewComment =0;
							}
							row_index++;
						});
						var row_index = 0;	
						angular.forEach($scope.feeds_row2, function(dataset){
							if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
								$scope.feeds_row2[row_index].content.comment_counts = ($scope.feeds_row2[row_index].content.comment_counts*1)+1;
								$scope.feeds_row2[row_index].content.is_commented = 1;
								$scope.feeds_row2[row_index].content.viewComment =0;
								 
							}
							row_index++;
						});
						var row_index = 0;	
						angular.forEach($scope.feeds_row3, function(dataset){
							if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
								$scope.feeds_row3[row_index].content.comment_counts = ($scope.feeds_row3[row_index].content.comment_counts*1)+1;
								$scope.feeds_row3[row_index].content.is_commented = 1;
								$scope.feeds_row3[row_index].content.viewComment =0;
							}
							row_index++;
						});
						 $scope.txtMediaComment = '';	
						 $scope.showReply = 0;	
						 $("#txtMediaComment").val('');
						  $("#txtMediaComment").html('');
						 $scope.showReply=0; 
						$scope.removeCommentBox()
						 $scope.media.comment_count = ($scope.media.comment_count)*1+1;
						
						
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();					
						 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}else{
				$("#feed_dialog").html("Please add some content before submitting");
						$("#feed_dialog").dialog();
				}
		}
		$scope.groupAllMediaContent = [];
		$scope.medialist = 0;
		$scope.showLoadmore = 1;
		$scope.loadAllMedia = function(group_id){
			url  = baseurl+'/groups/getAllMedia';
			$http.post(url,
				{	
					page:media_page,
					group_id:group_id 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){		
						if(data.return_array.group_media.length>0){
							if(data.return_array.group_media.length<10)$scope.showLoadmore = 0;
							if(media_page>1){
								$scope.groupAllMediaContent= $scope.groupAllMediaContent.concat(data.return_array.group_media);
							}else{							
								$scope.groupAllMediaContent=data.return_array.group_media;
							}
							$scope.medialist = 1;
							  
						}							
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();				
						 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
		}
		$scope.enableScrollbarMedia = function(){
			 $('#media_list').slimScroll({
								  color: '#00f'
			});
		}
		$scope.LoadmoreMedia = function(group_id){
			media_page = media_page+1;
			$scope.loadAllMedia(group_id);
		}
		$scope.QuitRSVP = function(activity_id,row_id,row_count){
			url  = baseurl+'/activity/quitactivity';
			$http.post(url,
				{	
					activity_id:activity_id,					 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {  
					if(data.return_array.process_status == 'success'){		
						if(row_id == 1){
							$scope.feeds_row1[row_count].content.is_going = 0;
						}
						if(row_id == 2){
							$scope.feeds_row2[row_count].content.is_going = 0;
						}
						if(row_id == 3){
							$scope.feeds_row3[row_count].content.is_going = 0;
						} 
						var count_rsvp = $("#activityrsvpcount_"+activity_id).text();
						count_rsvp = (count_rsvp*1)-1;
						$("#map_Activity_"+activity_id).html($compile('<div class="google-map" hello-maps="" latitude="'+data.return_array.activity.group_activity_location_lat+'" longitude="'+data.return_array.activity.group_activity_location_lng+'"  location="'+data.return_array.activity.group_activity_location+'" going="'+data.return_array.activity.is_going+'"></div>')($scope));
						$("#activityrsvpcount_"+activity_id).text(count_rsvp);
						$scope.updateMainMap();
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();									 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
		}
		$scope.showEventMap = function(activity_id,group_activity_location_lat,group_activity_location_lng,group_activity_location,is_going){
			 alert(jQuery("#map_Activity_"+activity_id).html());
			jQuery("#map_Activity_"+activity_id).html($compile('<div class="google-map" hello-maps="" latitude="'+group_activity_location_lat+'" longitude="'+group_activity_location_lng+'"  location="'+group_activity_location+'" going="'+is_going+'"></div>')($scope));
			
		}
		$scope.JoinRSVP = function(activity_id,row_id,row_count){  
			url  = baseurl+'/activity/joinactivity';
			$http.post(url,
				{	
					activity_id:activity_id,					 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						if(row_id == 1){
							$scope.feeds_row1[row_count].content.is_going = 1;
						}
						if(row_id == 2){
							$scope.feeds_row2[row_count].content.is_going = 1;
						}
						if(row_id == 3){
							$scope.feeds_row3[row_count].content.is_going = 1;
						}
						 	
						var count_rsvp = $("#activityrsvpcount_"+activity_id).text();
						$("#map_Activity_"+activity_id).html($compile('<div class="google-map" hello-maps="" latitude="'+data.return_array.activity.group_activity_location_lat+'" longitude="'+data.return_array.activity.group_activity_location_lng+'"  location="'+data.return_array.activity.group_activity_location+'" going="'+data.return_array.activity.is_going+'"></div>')($scope));
						count_rsvp = (count_rsvp*1)+1;
						$("#activityrsvpcount_"+activity_id).text(count_rsvp);	
						$scope.updateMainMap();
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();								 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
		}
		$scope.updateMainMap = function() {
			url  = baseurl+'/activity/getupcoming';
			clearMarkers(); 			
			$http.post(url,
				{	
					 			 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){		
						if(data.return_array.activity.length>0){
							places = []; 
							angular.forEach(data.return_array.activity, function(dataset){ 
								if(dataset.is_going*1==1){
									places.push({ infowin_html: '<div class="map_info-inner"><div class="map_info-group-name">'+dataset.group_title+'</div><div class="map_info-event-name">'+dataset.group_activity_title+'</div><span> I\'m Going</span><div class="map_info-event-location">'+dataset.group_activity_location+'</div><div class="map_info-event-footer"><span><i class="event-calender"></i>'+dataset.group_activity_start_timestamp+'</span></div></div>', tooltip_html: "<h3>"+dataset.group_activity_title+"</h3>", position: { lat:dataset.group_activity_location_lat, lng: dataset.group_activity_location_lng },is_going:dataset.is_going*1 });
								}else{
									places.push({ infowin_html: '<div class="map_info-inner"><div class="map_info-group-name">'+dataset.group_title+'</div><div class="map_info-event-name">'+dataset.group_activity_title+'</div><a onclick="joinEvent('+dataset.group_activity_id+')" class="default_butn_blue" href="javascript:void(0);">Join</a><div class="map_info-event-location">'+dataset.group_activity_location+'</div><div class="map_info-event-footer"><span><i class="event-calender"></i>'+dataset.group_activity_start_timestamp+'</span></div></div>', tooltip_html: "<h3>"+dataset.group_activity_title+"</h3>", position: { lat:dataset.group_activity_location_lat, lng: dataset.group_activity_location_lng },is_going:dataset.is_going*1 });
								}
							});
						}
						
						addMarker();
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();								 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
		}
		var lastScrollPosition = 0;
		$scope.handler = function() {		 
			if($(window).scrollTop()>lastScrollPosition+50){	
				lastScrollPosition = $(window).scrollTop()
				$scope.getFeeds(true);
			}
		}
		$scope.loadPopupToolTip = function(type,id){
			$("#tooltip_popup_"+type+"_"+id).show();
		}
		$scope.unloadPopupToolTip = function(type,id){
			$("#tooltip_popup_"+type+"_"+id).hide();
		}
		$scope.rsvplist = [];
		$scope.rsvppage =1;
		$scope.selectedActivity = '';
		$scope.loadmore = 1;
		$scope.commenteditEnableList = [];
		$scope.loadRsvpList = function(activity_id,filter_by,pageselected){
			$scope.selectedActivity = activity_id;
			$('#rsvplist_outer').slimScroll({
				height: '350px',color: '#00f'
			});
			
			if(pageselected==1){
				rsvppage = 1;
			}
			$scope.filter_by = filter_by;
			url  = baseurl+'/activity/rsvplist';
			var system_type = 'Activity';
			var content_id = activity_id;
			$http.post(url,
			{	
				content_id:content_id,page:rsvppage,filter_by:filter_by
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.activityrsvp_info.length>0){
						$('#rsvp_popup').modal();
						$scope.loadmore = 1;
					}else{$scope.loadmore = 0;}
					if(rsvppage==1){
						$scope.rsvplist =  data.return_array.activityrsvp_info;
					}else{						 
						$scope.rsvplist = $.merge($scope.rsvplist, data.return_array.activityrsvp_info);						 			 
					}
					rsvppage++;	
					$scope.rsvppage =rsvppage;		 
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();							 				
				}				     
			}).error(function(data, status, headers, config) {
				//alert("Error occured. Please try again");
			});
		}
		$scope.enableCommentEdit = function(comment_index,comment){
			var array_index = $scope.getArrayIndexEdit($scope.commenteditEnableList,comment_index);
			if(array_index==-1){
				$scope.commenteditEnableList.push(comment_index);
				loadcommentEdit(comment_index,comment);
			}		
		}
		$scope.MediaenableCommentEdit = function(comment_index,comment){
			var array_index = $scope.getArrayIndexEdit($scope.commenteditEnableList,comment_index);
			if(array_index==-1){
				$scope.commenteditEnableList.push(comment_index);
				loadcommentEdit(comment_index,comment);
			}			 
			loadcommentEditMedia(comment_index,comment);
		}
		
		$scope.ifexistinEditList = function(comment_index){
			var exist_flag= 0;
			angular.forEach($scope.commenteditEnableList, function(dataset){
				if(dataset == comment_index){exist_flag++;}
			});
			if(exist_flag == 0){return false;}else{return true;}
		}
		$scope.RemoveCommentEditWindow = function(comment_index){
			var array_index = $scope.getArrayIndexEdit($scope.commenteditEnableList,comment_index); 
			$scope.commenteditEnableList.splice( array_index, 1 );	
			$("#edit-comment-outer-"+comment_index).hide();
			$("#hashed_users_Comment_"+comment_index).attr("data-items",'');
			$("#edit-mediacomment-outer-"+comment_index).hide();
			$("#media_hashed_users_Comment_"+comment_index).attr("data-items",'');
			hashedUser=[];
		}		 
		$scope.getArrayIndexEdit = function(arr_elemnt,item){ 
			var incexist = -1;
			for(i=0;i<arr_elemnt.length;i++) {
				if(arr_elemnt[i] == item){incexist = i;}
			}
			return incexist;
		}
		$scope.SendEditComment = function(comment_id,row_count,row_index){  
			var  system_type = 'Comment';
			var edited_comment = $("#editcomment_text_"+comment_id).html();
			var selectedhashusers = $("#hashed_users_"+system_type+"_"+comment_id).attr("data-items");
			hashedUser = selectedhashusers.split('.');
			for(i=0;i<hashedUser.length;i++){
			 var term = 'hashed_user_'+hashedUser[i];
			 var index = edited_comment.indexOf(term);
			 if(index == -1){
				hashedUser.splice( i, 1 );		
			 }
			}
			if(edited_comment==''){
				$("#feed_dialog").html("Please add some content before submitting");
				$("#feed_dialog").dialog();			
				 
			}else{
				url  = baseurl+'/comment/editComment';
				$http.post(url,
				{	
					edited_comment:edited_comment,comment_id:comment_id,hashedUser:hashedUser,	 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					
					if(data.return_array.process_status == 'success'){
					$("#edit-comment-outer-"+comment_id).hide();
					$("#hashed_users_Comment_"+comment_id).attr("data-items",'');							
						$scope.commentText[comment_id] = edited_comment;						 
						$scope.RemoveCommentEditWindow(comment_id);
						if(row_count==1){
							var array_index = $scope.getArrayIndex($scope.feeds_row1[row_index].content.comments,'comment_id',comment_id);
							$scope.feeds_row1[row_index].content.comments[array_index].comment_content = edited_comment;	
						 
						}
						if(row_count==2){
							var array_index = $scope.getArrayIndex($scope.feeds_row2[row_index].content.comments,'comment_id',comment_id);
							$scope.feeds_row2[row_index].content.comments[array_index].comment_content = edited_comment;	
						}
						if(row_count==3){
							var array_index = $scope.getArrayIndex($scope.feeds_row3[row_index].content.comments,'comment_id',comment_id);
							$scope.feeds_row3[row_index].content.comments[array_index].comment_content = edited_comment;	
						}
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();						 	 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
				
			}
		}
		$scope.SendMediaEditComment = function(comment_id,media_id){  
			var edited_comment = $("#editmediacomment_text_"+comment_id).html();
			if(edited_comment==''){
				$("#feed_dialog").html("Please add some content before submitting");
				$("#feed_dialog").dialog();	
				 
			}else{
				var selectedhashusers = $("#media_hashed_users_Comment_"+comment_id).attr("data-items");
				var hashedUser = selectedhashusers.split('.');
				for(i=0;i<hashedUser.length;i++){
				 var term = 'hashed_user_'+hashedUser[i];
				 var index = edited_comment.indexOf(term);
				 if(index == -1){
					hashedUser.splice( i, 1 );		
				 }
				}
				url  = baseurl+'/comment/editComment';
				$http.post(url,
				{	
					edited_comment:edited_comment,comment_id:comment_id,hashedUser:hashedUser,	 		 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$("#edit-mediacomment-outer-"+comment_id).hide();
						$("#media_hashed_users_Comment_"+comment_id).attr("data-items",'');
						$scope.commentText[comment_id] = edited_comment;	
						var array_index = $scope.getArrayIndex($scope.media_comments,'comment_id',comment_id);
						$scope.media_comments[array_index].comment_content = edited_comment;						 
						$scope.RemoveCommentEditWindow(comment_id);
						$scope.showCommentText(edited_comment,comment_id);
						var row_index = 0;	
						angular.forEach($scope.feeds_row1, function(dataset){
							if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
								i=0;
								angular.forEach($scope.feeds_row1[row_index].content.comments, function(commentdataset){
									if(commentdataset.comment_id == comment_id) {
										$scope.feeds_row1[row_index].content.comments[i].comment_content = edited_comment;
									}
									i++;
								});
							}
							row_index++;
						});
						var row_index = 0;	
						angular.forEach($scope.feeds_row2, function(dataset){
							if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
								i=0;
								angular.forEach($scope.feeds_row2[row_index].content.comments, function(commentdataset){
									if(commentdataset.comment_id == comment_id) {
										$scope.feeds_row2[row_index].content.comments[i].comment_content = edited_comment;
									}
									i++;
								});
							}
							row_index++;
						});
						var row_index = 0;	
						angular.forEach($scope.feeds_row3, function(dataset){
							if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
								i=0;
								angular.forEach($scope.feeds_row3[row_index].content.comments, function(commentdataset){
									if(commentdataset.comment_id == comment_id) {
										$scope.feeds_row3[row_index].content.comments[i].comment_content = edited_comment;
									}
									i++;
								});
							}
							row_index++;
						});
						 
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();			 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
				
			}
		}
		
		$scope.DeleteComment = function(comment_id,row_count,row_index){
			 
			url  = baseurl+'/comment/deleteComment';
			$http.post(url,
			{	
				comment_id:comment_id,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					
					$scope.RemoveCommentEditWindow(comment_id);
					$("#comment_list_"+comment_id).remove();
					if(row_count==1){
						var array_index = $scope.getArrayIndex($scope.feeds_row1[row_index].content.comments,'comment_id',comment_id);
						$scope.feeds_row1[row_index].content.comments.splice( array_index, 1 );	
						$scope.feeds_row1[row_index].content.comment_counts = ($scope.feeds_row1[row_index].content.comment_counts*1)-1;
					 
					}
					if(row_count==2){
						var array_index = $scope.getArrayIndex($scope.feeds_row2[row_index].content.comments,'comment_id',comment_id);
						$scope.feeds_row2[row_index].content.comments.splice( array_index, 1 );	
						$scope.feeds_row2[row_index].content.comment_counts = ($scope.feeds_row2[row_index].content.comment_counts*1)-1;
					}
					if(row_count==3){
						var array_index = $scope.getArrayIndex($scope.feeds_row3[row_index].content.comments,'comment_id',comment_id);
						$scope.feeds_row3[row_index].content.comments.splice( array_index, 1 );	
						$scope.feeds_row3[row_index].content.comment_counts = ($scope.feeds_row3[row_index].content.comment_counts*1)-1;
					} 
					 
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();				 					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
				
			 
		}
		$scope.DeleteCommentMedia = function(comment_id,media_id){
			 
			url  = baseurl+'/comment/deleteComment';
			$http.post(url,
			{	
				comment_id:comment_id,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					
					//$scope.RemoveCommentEditWindow(comment_id);
					//$("#comment_list_"+comment_id).remove();
					var row_index = 0;	
					var array_index = $scope.getArrayIndex($scope.media_comments,'comment_id',comment_id);
					$scope.media_comments.splice( array_index, 1 );
					$scope.media.comment_count = ($scope.media.comment_count*1)-1;
					 	var row_index = 0;	
						angular.forEach($scope.feeds_row1, function(dataset){
							if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
								$scope.feeds_row1[row_index].content.comment_counts = ($scope.feeds_row1[row_index].content.comment_counts*1)-1;
								 
								$scope.feeds_row1[row_index].content.viewComment =0;
							}
							row_index++;
						});
						var row_index = 0;	
						angular.forEach($scope.feeds_row2, function(dataset){
							if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
								$scope.feeds_row2[row_index].content.comment_counts = ($scope.feeds_row2[row_index].content.comment_counts*1)-1;
								 
								$scope.feeds_row2[row_index].content.viewComment =0;
								 
							}
							row_index++;
						});
						var row_index = 0;	
						angular.forEach($scope.feeds_row3, function(dataset){
							if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
								$scope.feeds_row3[row_index].content.comment_counts = ($scope.feeds_row3[row_index].content.comment_counts*1)-1;								 
								$scope.feeds_row3[row_index].content.viewComment =0;
							}
							row_index++;
						});	
						 
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();		 					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
				
			 
		}
		$scope.EditFeedActivityContent = [];
		$scope.EditFeedDiscussionContent = [];
		$scope.EditFeedMediaContent = [];
		$scope.feedEditSystemType='';
		$scope.ajax_loader_feededit = 1;
		$scope.EditFeedrow_count = '';
		$scope.EditFeedrow_index = '';
		$scope.editLocation ='';
		$scope.editFeed =function(system_type,content_id,row_count,row_index){
			$scope.ajax_loader_feededit = 1
			url  = baseurl+'/groups/getoneFeed';
			$scope.feedEditSystemType=system_type;
			$scope.EditFeedrow_count = row_count;
			$scope.EditFeedrow_index = row_index;
			$http.post(url,
			{	
				system_type:system_type,content_id:content_id
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.ajax_loader_feededit =0;
					if(system_type == 'Activity'){
						$scope.EditFeedActivityContent = data.return_array.feed_details;
						current_lat =$scope.EditFeedActivityContent.group_activity_location_lat;
						current_lng =$scope.EditFeedActivityContent.group_activity_location_lng;
						$scope.editLocation = $scope.EditFeedActivityContent.group_activity_location;
						geo_latitude = current_lat;
						geo_longitude = current_lng;
					}
					if(system_type == 'Discussion'){
						$scope.EditFeedDiscussionContent = data.return_array.feed_details;
					}
					if(system_type == 'Media'){
						$scope.EditFeedMediaContent = data.return_array.feed_details;
					}
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();				 					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.UpdateStatus = function(system_type,content_id,row_count,row_index){
			if(system_type == 'Discussion'){
				var Discussion_data = $("#editDiscussion").val();
				if(Discussion_data==''){
					 
					$("#feed_edit_error").html("Enter status to update");
					$("#feed_edit_error").fadeIn("Slow");
				}else{
					$("#feed_edit_error").html("");
					$("#feed_edit_error").fadeOut("Slow");
					url  = baseurl+'/discussion/edit';
					 
					$http.post(url,
					{	
						system_type:system_type,content_id:content_id,content:Discussion_data
					},
					{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
					).success(function(data, status, headers, config) {
						if(data.return_array.process_status == 'success'){							 
							$("#feed_edit_success").html("Sucessfully Updated your post");
							$("#feed_edit_success").fadeIn("Slow");
							if(row_count == 1){
								$scope.feeds_row1[row_index].content.group_discussion_content = Discussion_data;
							}
							if(row_count == 2){
								$scope.feeds_row2[row_index].content.group_discussion_content = Discussion_data;
							}
							if(row_count == 3){
								$scope.feeds_row3[row_index].content.group_discussion_content = Discussion_data;
							}
							//$("#feed_edit").modal("hide");
						}else{
							$("#feed_edit_error").html(data.return_array.process_info);
							$("#feed_edit_error").fadeIn("Slow");
							//alert(data.return_array.process_info);				 					
						}				     
					}).error(function(data, status, headers, config) {
						// alert("Error occured. Please try again");
					});			
				}
			}else if(system_type == 'Media'){
				var caption = $("#feed_edit_caption").val();
				url  = baseurl+'/groups/editMedia';					 
				$http.post(url,
				{	
					system_type:system_type,content_id:content_id,content:caption
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$("#feed_edit_success").html("Sucessfully Updated your post");
						$("#feed_edit_success").fadeIn("Slow");
						if(row_count == 1){
							$scope.feeds_row1[row_index].content.media_caption = caption;
						}
						if(row_count == 2){
							$scope.feeds_row2[row_index].content.media_caption = caption;
						}
						if(row_count == 3){
							$scope.feeds_row3[row_index].content.media_caption = caption;
						}
						//$("#feed_edit").modal("hide");
					}else{
						$("#feed_edit_error").html(data.return_array.process_info);
						$("#feed_edit_error").fadeIn("Slow");			 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});		
			}else if(system_type == 'Activity'){
				var title = $("#event_title_edit").val();
				var event_date = $("#event_date_edit").val();
				var event_time = $("#event_time_edit").val();
				var event_location = $(".edit_location").val();
				var event_description = $("#event_description_edit").val();
				var event_location_lat= geo_latitude;
				var event_location_lng= geo_longitude;
				var edit_error = 0;
				if(title==''){
					
					$("#feed_edit_error").html("Enter event title");
					$("#feed_edit_error").fadeIn("Slow");
					edit_error++;
				}
				if(event_date==''){				 
					$("#feed_edit_error").html("Enter event date");
					$("#feed_edit_error").fadeIn("Slow");
					edit_error++;
				}
				if(event_location==''){
					$("#feed_edit_error").html("Enter event location");
					$("#feed_edit_error").fadeIn("Slow");
				 
					edit_error++;
				}
				if(edit_error==0){
					$("#feed_edit_error").html("");
				$("#feed_edit_error").fadeOut("Slow");
				url  = baseurl+'/activity/editActivity';					 
				$http.post(url,
				{	
					system_type:system_type,
					content_id:content_id,
					title:title,
					event_date:event_date,
					event_time:event_time,
					event_location:event_location,
					event_description:event_description,
					event_location_lat:event_location_lat,
					event_location_lng:event_location_lng,
					 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$("#feed_edit_success").html("Sucessfully Updated your post");
						$("#feed_edit_success").fadeIn("Slow");
						if(row_count == 1){
							$scope.feeds_row1[row_index].content.group_activity_title = title;
							$scope.feeds_row1[row_index].content.group_activity_location = event_location;
							$scope.feeds_row1[row_index].content.group_activity_location_lat = event_location_lat;
							$scope.feeds_row1[row_index].content.group_activity_location_lng = event_location_lng;
							$scope.feeds_row1[row_index].content.group_activity_content = event_description;
							$scope.feeds_row1[row_index].content.group_activity_start_timestamp = data.return_array.group_activity_start_timestamp;
						}
						if(row_count == 2){
							$scope.feeds_row2[row_index].content.group_activity_title = title;
							$scope.feeds_row2[row_index].content.group_activity_location = event_location;
							$scope.feeds_row2[row_index].content.group_activity_location_lat = event_location_lat;
							$scope.feeds_row2[row_index].content.group_activity_location_lng = event_location_lng;
							$scope.feeds_row2[row_index].content.group_activity_content = event_description;
							$scope.feeds_row2[row_index].content.group_activity_start_timestamp = data.return_array.group_activity_start_timestamp;
						}
						if(row_count == 3){
							$scope.feeds_row3[row_index].content.group_activity_title = title;
							$scope.feeds_row3[row_index].content.group_activity_location = event_location;
							$scope.feeds_row3[row_index].content.group_activity_location_lat = event_location_lat;
							$scope.feeds_row3[row_index].content.group_activity_location_lng = event_location_lng;
							$scope.feeds_row3[row_index].content.group_activity_content = event_description;
							$scope.feeds_row3[row_index].content.group_activity_start_timestamp = data.return_array.group_activity_start_timestamp;
						}
						//$("#feed_edit").modal("hide");
					}else{
						$("#feed_edit_error").html(data.return_array.process_info);
						$("#feed_edit_error").fadeIn("Slow");			 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
				}				
			}
		}
		$scope.loadDatePicker = function(){
			enableDatepicker();
			addLocationValue($scope.editLocation);
		}		 
		$scope.feedDeleteSystemType='';
		$scope.ajax_loader_feeddelte = 1;
		$scope.DeleteFeedrow_count = '';
		$scope.DeleteFeedrow_index = '';	
		 
		$scope.deleteFeed =function(system_type,content_id,row_count,row_index){
			$scope.ajax_loader_feeddelte = 0;			 
			$scope.feedDeleteSystemType=system_type;
			$scope.DeleteFeedrow_count = row_count;
			$scope.DeleteFeedrow_index = row_index;
			$scope.DeleteFeedrow_content_id = content_id;
			  
			$("#errordeletePost").fadeOut("slow");
			 
		}
		$scope.CancelRemovePost = function(){
			$scope.feedDeleteSystemType='';
			$scope.ajax_loader_feeddelte = 1;
			$scope.DeleteFeedrow_count = '';
			$scope.DeleteFeedrow_index = '';
			$("#feed_delete").modal("hide");
			 
			$("#errordeletePost").fadeOut("slow");
			 
		}
		$scope.RemovePost = function(system_type,content_id,row_count,row_index){
			url  = '';
			if(system_type == 'Discussion'){
				url  = baseurl+'/discussion/delete';	
			}
			if(system_type == 'Media'){
				url  = baseurl+'/groups/deleteMedia';		
			}
			if(system_type == 'Activity'){
				url  = baseurl+'/activity/deleteActivity';	
			}
			if(url != ''){				 				 
				$http.post(url,
				{	
					system_type:system_type,content_id:content_id
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						 
						if(system_type == 'Discussion'){
							$("#feed_dialog").html("The post is removed successfully");							 
							$("#feed_dialog").dialog();
						}
						if(system_type == 'Media'){
							$("#feed_dialog").html("The media is removed successfully");
							$("#feed_dialog").dialog();
						}
						if(system_type == 'Activity'){
							$("#feed_dialog").html("The activity is removed successfully");
							$("#feed_dialog").dialog();
						}
						if(row_count == 1){
							$scope.feeds_row1.splice( row_index, 1 );;
						}
						if(row_count == 2){
							$scope.feeds_row2.splice( row_index, 1 );
						}
						if(row_count == 3){
							$scope.feeds_row3.splice( row_index, 1 );
						}
						$("#feed_delete").modal("hide");
					}else{
						$("#errordeletePost").html(data.return_array.process_info);
						$("#errordeletePost").fadeIn("slow");										 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});	
			}
		}
		$scope.reasons= [];
		$scope.ajax_loader_reportpost = 1;
		$scope.reportSelectedContentId = '';
		$scope.reportSelectedContentType = '';
		$scope.selectedReasonId='';
		$scope.selectedReasonType='';
		$scope.enableReportReason=0;;
		$scope.spam={};
		$scope.reportAjaxLoader =0;
		$scope.ReportPost = function(type,content_id){
			$("#report_error").html('');
			$("#report_success").html('');
			$("#report_error").fadeOut();
			$("#report_success").fadeOut();
			$scope.ajax_loader_reportpost = 1;
			$scope.reasons= [];
			$scope.reportSelectedContentId = content_id;
			$scope.reportSelectedContentType = type;
			url  = baseurl+'/spam/getreasons';
			$http.post(url,
			{	
				type:type,content_id:content_id
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.reasons=data.return_array.reasons;
					$scope.ajax_loader_reportpost = 0;
				}else{
					$scope.ajax_loader_reportpost = 0;
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();
					$("#report_post").modal("hide");
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});	
		}
		$scope.selectReason = function(reason_id,reasontype){
			$scope.selectedReasonId=reason_id;
			$scope.selectedReasonType=reasontype;
			if(reasontype == 'Other'){
				$scope.enableReportReason=1;
			}else{
				$scope.enableReportReason=0;
			}
		}
		$scope.sendReport = function(frmspam){
			$("#report_success").html("");
			$("#report_success").fadeOut();	
			if($scope.selectedReasonType == ''){
				$("#report_error").html("Select one reason");
				$("#report_error").fadeIn("slow");
			}else if($scope.selectedReasonType == 'Other'&&frmspam.otherReason=='' ){
				$("#report_error").html("Add reason");
				$("#report_error").fadeIn("slow");
			}else{
				$("#report_error").html('');
				$("#report_error").fadeOut('slow');
				url  = baseurl+'/spam/sentreport';
				$scope.reportAjaxLoader = 1;
				$http.post(url,
				{	
					type:$scope.reportSelectedContentType,content_id:$scope.reportSelectedContentId,reason_id:frmspam.reason_id,otherReason:frmspam.otherReason
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					$scope.reportAjaxLoader =0;
					if(data.return_array.process_status == 'success'){
						$("#report_success").html("The  report is successfully submited");
						$("#report_success").fadeIn('slow');	
						$scope.spam={};
						//$("#report_post").modal("hide");
					}else{						
						$("#report_error").html(data.return_array.process_info);
						$("#report_error").fadeIn("slow");
						//$("#report_post").modal("hide");
					}				     
				}).error(function(data, status, headers, config) {
					$scope.reportAjaxLoader =0;
					// alert("Error occured. Please try again");
				});	
			}
		}
		$scope.loadToolTip =function(type,id){
			$("#tooltip_"+type+"_"+id).show();
		}
		$scope.unloadToolTip =function(type,id){
			$("#tooltip_"+type+"_"+id).hide();
		}
		
	});
	feedapp.directive('removeOnClick', function() {
		return {
			link: function(scope, elt, attrs) {
				scope.remove = function() {
					elt.remove();
				};
			}
		}
	});
	feedapp.directive('ngFocus', ['$parse', function($parse) {
  return function(scope, element, attr) {
    var fn = $parse(attr['ngFocus']);
    element.bind('focus', function(event) {
      scope.$apply(function() {
        fn(scope, {$event:event});
      });
    });
  }
}]);
 
feedapp.directive('ngBlur', ['$parse', function($parse) {
  return function(scope, element, attr) {
    var fn = $parse(attr['ngBlur']);
    element.bind('blur', function(event) {
      scope.$apply(function() {
        fn(scope, {$event:event});
      });
    });
  }
}]);
	angular.element(document).ready(function() {	
		angular.bootstrap(document.getElementById("feedapp"), ["feed_app"]);
	});
	
 </script>
 <script type="text/javascript">
function getFile(){ 
		// $("#btnUploadImage").trigger("click");
		
        document.getElementById("btnUploadImage").click();
    }
	$(document).on("click","#status_header_media",function(){
	var dropbox = document.getElementById("uplodbtn")

	// init event handlers
	dropbox.addEventListener("dragenter", dragEnter, false);
	dropbox.addEventListener("dragexit", dragExit, false);
	dropbox.addEventListener("dragover", dragOver, false);
	dropbox.addEventListener("drop", drop, false);
 
});

function dragEnter(evt) {
	evt.stopPropagation();
	evt.preventDefault();
}

function dragExit(evt) {
	evt.stopPropagation();
	evt.preventDefault();
}

function dragOver(evt) {
	evt.stopPropagation();
	evt.preventDefault();
}

function drop(evt) {  
	evt.stopPropagation();
	evt.preventDefault();
	var files = evt.dataTransfer.files;
	
	//if (navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1) {alert(1);alert(evt.target.files[0].name);$("#imgUserImage").html(files.name);}
	
	var count = files.length;

	// Only call the handler if 1 or more files was dropped.
	if (count > 0)
		handleFiles(files);
}


function handleFiles(files) {
	var file = files[0];
	
	 
	upladedFile = files[0];
	 moveFiletoTemp(); 
	//var reader = new FileReader();	 
	//reader.onloadend = handleReaderLoadEnd; 
	//reader.readAsDataURL(file);
}
function handleReaderProgress(evt) {
	if (evt.lengthComputable) {
		var loaded = (evt.loaded / evt.total);
		$("#progressbar").progressbar({ value: loaded * 100 });
	}
}
function handleReaderLoadEnd(evt) {
	var img = document.getElementById("imgUserImage");
	img.src = evt.target.result;
	$("#default_img").hide();
	$("#uploaded_img").show();	 
}
$(document).on("click","#removeUploaded",function(){
	$("#uploaded_img").hide();
	$("#default_img").show();
	upladedFile = [];
});
$(document).on('change','#btnUploadImage',function(e){	 
	fileInput = e.target.files;	
	upladedFile = fileInput[0];
	moveFiletoTemp();  
});
 function enableDatepicker(){
	 
	 $("#enableDatepiker").trigger("click");
 }
 function addLocationValue(location){
	 $('.edit_location').val(location);
 }
 
$(document).on("click","#event_tab",function(){	
	$( "#event_date" ).datepicker({ changeYear: true , dateFormat: "dd-mm-yy",minDate: new Date(<?php echo date("Y");?>, <?php echo date("m");?> - 1, <?php echo date("d");?>) });
	//$('#event_time').timeEntry();
	$('#event_time').timepicker();
	//initialize();
	autocomplete_init();
	gmaps_init();
}); 
 $(document).on("click","#enableDatepiker",function(){	
	$( "#event_date_edit" ).datepicker({ changeYear: true , dateFormat: "dd-mm-yy",minDate: new Date(<?php echo date("Y");?>, <?php echo date("m");?> - 1, <?php echo date("d");?>) });
	//$('#event_time_edit').timeEntry();
	$('#event_time_edit').timepicker();
	mapselected = 'map2';
	gmaps_init();
	autocomplete_init();					
});
function moveFiletoTemp(){
	var formData = new FormData();	
	var url = baseurl+'/user/uploadhandler';
	formData.append("mediaImage",upladedFile);
	$("#ImageUploadStatus").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif" />');	
	//document.getElementById("imgUserImage").src='<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif';
	$("#progress").html('<div class="progress_status"></div>');
	$.ajax({
		type: 'POST',
		url: url,
		data: formData,
		cache: false,		 
		contentType: false,
		processData: false,	 
		success: function(response) {
			$("#progress").html('');
			$("#ImageUploadStatus").html('');
			if(response.return_array.process_status == 'success'){				
				$("#default_img").hide();
				$("#uploaded_img").show();				
				document.getElementById("imgUserImage").src=response.return_array.image_url;
			}else{	
				$("#new_status_error").html(response.return_array.process_info);
				$("#new_status_error").fadeIn("slow");
				$("#default_img").show();
				$("#uploaded_img").hide();	
				 
			}	
		},
		error: function(xhr, ajaxOptions, thrownError) {		 			
			$("#new_status_error").html("upload failed.Please try again");
			$("#new_status_error").fadeIn("slow");			 
		}		
	});
}
</script>
  

					 <style>
 [contentEditable=true]:empty:not(:focus):before{
        content:attr(data-text)
    }
	#map-canvasedit, #map-canvas, #activity_map{
  height: 344px;
 width:340px;
  border: 1px solid #999;
  -moz-box-shadow:    0px 0px 5px #ccc;
  -webkit-box-shadow: 0px 0px 5px #ccc;
  box-shadow:         0px 0px 5px #ccc;
}
 .google-map{width:100%; height:100%;}
 </style>
<script type="text/javascript">	 
var geocoder;
var map;
var marker;
var mapselected = 'map1'; 
function gmaps_init(){ 
	var latlng = new google.maps.LatLng(current_lat,current_lng);
	var options = {
		zoom:5,
		scrollwheel: false,
		navigationControl: false,
		mapTypeControl: false,
		scaleControl: false,
		draggable: false,
		mapTypeId: google.maps.MapTypeId.ROADMAP,
	};
	if(mapselected=='map2'){
	   map = new google.maps.Map(document.getElementById("map-canvasedit"), options);  
	}else{
	   map = new google.maps.Map(document.getElementById("map-canvas"), options);  
	}
	geocoder = new google.maps.Geocoder();	
	marker = new google.maps.Marker({
		map: map,
		icon: baseurl+"/public/images/map_pin.svg",
		draggable: true
	});
	marker.setPosition(latlng);   
	google.maps.event.addListener(marker, 'dragend', function() {
		geocode_lookup( 'latLng', marker.getPosition() );
	}); 
	google.maps.event.addListener(map, 'click', function(event) {
		marker.setPosition(event.latLng)
		geocode_lookup( 'latLng', event.latLng  );
	});
	$('#gmaps-error').hide();
	$('#map-canvas').addClass('scrollof');
}
function update_map( geometry ) {
  map.fitBounds( geometry.viewport )
  marker.setPosition( geometry.location )
}
function update_ui( address, latLng ) { 
	if(mapselected=='map2'){
		$('#edit_location').autocomplete("close");
		$('#edit_location').val(address);
		$('#edit_location').trigger('input');
	}else{
		$('#location').autocomplete("close");
		$('#location').val(address);
		$('#location').trigger('input');
	}
    geo_latitude = latLng.lat(); 
    geo_longitude = latLng.lng(); 
    //$('#gmaps-output-latitude').html(latLng.lat());
    //$('#gmaps-output-longitude').html(latLng.lng());
}
function geocode_lookup( type, value, update ) { 
	update = typeof update !== 'undefined' ? update : false;
	request = {};
	request[type] = value;
	geocoder.geocode(request, function(results, status) {
		$('#gmaps-error').html('');
		$('#gmaps-error').hide();
		if (status == google.maps.GeocoderStatus.OK) {       
			if (results[0]) {		
				update_ui( results[0].formatted_address,results[0].geometry.location )        
				if( update ) { update_map( results[0].geometry ) }
			} else {			
				$('#gmaps-error').html("Sorry, something went wrong. Try again!");
				$('#gmaps-error').show();
		    }
		} else {
			if( type == 'address' ) {        
				$('#gmaps-error').html("Sorry! We couldn't find " + value + ". Try a different search term, or click the map." );
				$('#gmaps-error').show();
			} else {        
				$('#gmaps-error').html("Woah... that's pretty remote! You're going to have to manually enter a place name." );
				$('#gmaps-error').show();
				update_ui('', value)
			}
		}
	});
}
function autocomplete_init() {	 
	$("#location").autocomplete({ 
		source: function(request,response) {      
			geocoder.geocode( {'address': request.term }, function(results, status) {
			response($.map(results, function(item) {
			  return {
				label: item.formatted_address, // appears in dropdown box
				value: item.formatted_address, // inserted into input element when selected
				geocode: item                  // all geocode data: used in select callback event
			  }
			}));
		  })
		},	
		select: function(event,ui){
		  update_ui(  ui.item.value, ui.item.geocode.geometry.location )
		  update_map( ui.item.geocode.geometry )
		}
	});  
	$("#edit_location").autocomplete({	 
		source: function(request,response) {		
			geocoder.geocode( {'address': request.term }, function(results, status) {
				response($.map(results, function(item) {
				  return {
					label: item.formatted_address, // appears in dropdown box
					value: item.formatted_address, // inserted into input element when selected
					geocode: item                  // all geocode data: used in select callback event
				  }
				}));
			})
		},
		select: function(event,ui){
		  update_ui(  ui.item.value, ui.item.geocode.geometry.location )
		  update_map( ui.item.geocode.geometry )
		}
	});   
	$("#location").bind('keydown', function(event) {
		if(event.keyCode == 13) {
			geocode_lookup( 'address', $('#location').val(), true ); 
			$('#location').autocomplete("disable");
		} else {       
			$('#location').autocomplete("enable");
		}
	});
    $("#edit_location").bind('keydown', function(event) {
		if(event.keyCode == 13) {
			geocode_lookup( 'address', $('#edit_location').val(), true );		  
			$('#edit_location').autocomplete("disable");
		} else {		   
			$('#edit_location').autocomplete("enable");
		}
	});
}
$( document ).ready(function() {
    
    $('.status_event_pin-map').on('click', function() {
    	$('#map-canvas').removeClass('scrollof');
		$('#map-canvasedit').removeClass('scrollof');
    });
    $( "#map-canvas" ).mouseleave(function() {
    	 $('#map-canvas').addClass('scrollof');
    });
	$('#map-canvasedit').addClass('scrollof');
     
    $( "#map-canvasedit" ).mouseleave(function() {
    	 $('#map-canvasedit').addClass('scrollof');
    });
});	
</script>
 						
<script type="text/javascript">

 
mapselected = 'map1';
gmaps_init();					
autocomplete_init();
					 
	function loadToolTip(type,id){
		$("#tooltip_"+type+"_"+id).show();
	}
	function unloadToolTip(type,id){
		$("#tooltip_"+type+"_"+id).hide();
	}
	function loadcommentEdit(comment_id,comment){ 
			$("#edit-comment-outer-"+comment_id).show();
		 	$("#editcomment_text_"+comment_id).html(comment);
			$("#editcomment_text_"+comment_id).attr('contenteditable','true');
	 }
	 function loadcommentEditMedia(comment_id,comment){ 
			$("#edit-mediacomment-outer-"+comment_id).show();
		 	$("#editmediacomment_text_"+comment_id).html(comment);
			$("#editmediacomment_text_"+comment_id).attr('contenteditable','true');
	 }
	 function getProgressListener(e){
		 console.log(e.loaded);
		 console.log(e.total);
	 }
</script>
 <style>
 .scrollof{
    pointer-events: none;
}
	#progressbox {
border: 1px solid #0099CC;
padding: 1px; 
position:relative;
width:400px;
border-radius: 3px;
margin: 10px;
display:none;
text-align:left;
}
.bar {
 
border-radius: 3px;
background-color: #003333;
width:1%;
}
#statustxt {
top:3px;
left:50%;
position:absolute;
display:inline-block;
color: #000000;
}
[draggable=true] {
  -khtml-user-drag: element;
}
 </style>