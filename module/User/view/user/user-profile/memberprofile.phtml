	<?php 
	if($locales_selected=='ar_AE'){
		$language_class="ar";
	}else{
		$language_class="en";
	}	 
?>
<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
<?php //print_r($profile_data); ?>
     <!-- Left Fixed part -->
   <?php echo $this->profileWidget; ?>  
    <!-- Left Fixed part Close -->
    
    <div class="right_container <?php echo $language_class; ?>" id="post_right_container" ng-app="post_app" ng-controller="mypostController" ng-cloak>
    	<div class="right-profile_links">
        	<div class="right-profile_links_inner" >
            	<ul class="color-trans">
                	<li><a href="<?php echo $this->basePath()."/".$current_Profile ?>" class="active"><?php echo $this->translate('Posts','default'); ?></a></li>
                    <li><a href="<?php echo $this->basePath()."/".$current_Profile ?>/groups"><?php echo $this->translate('Groups','default'); ?> ({{group_count}})</a></li>
                    <li><a href="<?php echo $this->basePath()."/".$current_Profile ?>/friends"><?php echo $this->translate('Friends','default'); ?> ({{ frineds_count }})</a></li>
					<?php if($myprofile==1){?>
                    <li><a href="<?php echo $this->basePath()."/".$current_Profile ?>/activities"><?php echo $this->translate('My Activity','default'); ?></a></li>
					<?php } ?>
                </ul>
            </div>
        </div>
        <div class="right-content_outer" >
        	<div class="friends_sort color-trans">
               <?php echo $this->translate('Show','default'); ?> :
                <a href="javascript:void(0);" ng-class="{active : selectedTab === 'All'}"  ng-click="SelectAll()"><?php echo $this->translate('All','default'); ?></a>
                <a href="javascript:void(0);" ng-class="{active : selectedTab === 'Text'}" ng-click="SelectAllText()"><?php echo $this->translate('Text','default'); ?></a>
                <a href="javascript:void(0);" ng-class="{active : selectedTab === 'Media'}" ng-click="SelectAllMedia()"><?php echo $this->translate('Media','default'); ?></a>
                <a href="javascript:void(0);" ng-class="{active : selectedTab === 'Event'}" ng-click="SelectAllEvent()"><?php echo $this->translate('Event','default'); ?></a>
                <div class="clear"></div>
            </div>            
            <div  id="timeline" ng-init="getFeeds(false)" scroller>
                <div class="row">
					<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12" id="feed_row1">
						<div class="item" ng-repeat="items in feeds_row1">
					<div ng-switch="items.type" >
						<div class="post-outer border_radius <?php echo $language_class; ?>"  ng-switch-when='New Status' ng-init="selectedIndex = $index" >
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>						 
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span><?php echo $this->translate('posted in','default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Discussion',items.content.group_discussion_id,1,$index)"><?php echo $this->translate('Edit this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Discussion',items.content.group_discussion_id,1,$index)"><?php echo $this->translate('Delete this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Discussion',items.content.group_discussion_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate('Report this post','default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_status-text" >{{items.content.group_discussion_content}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Discussion_{{items.content.group_discussion_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<a href="javascript:void(0);" ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" ng-mouseover="loadToolTip('Discussion',items.content.group_discussion_id)" ng-mouseout="unloadToolTip('Discussion',items.content.group_discussion_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom"  ng-click="LoadLikedUsers('Discussion',items.content.group_discussion_id,items.content.like_count,items.content.is_liked)" >{{items.content.like_count}} <?php echo $this->translate('likes','default'); ?></a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Discussion_{{items.content.group_discussion_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate('More','default'); ?>..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate('More','default'); ?>..</span>						 
											</div> 							 
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Discussion_{{items.content.group_discussion_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Discussion_{{items.content.group_discussion_id}}" class="post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,1,$index,1)"> {{items.content.comment_counts}} <?php echo $this->translate('comments','default'); ?></a>							 
								</span>
								<div class="clear"></div>
								
								<div id="comment_Discussion_list_{{items.content.group_discussion_id}}" ng-if="items.viewComment==1">
									<div id="comment_Discussion_{{items.content.group_discussion_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Discussion_{{items.content.group_discussion_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Discussion',items.content.group_discussion_id);"></div>
											<div id="hashingUsers_Discussion_{{items.content.group_discussion_id}}"></div>
											<span id="hashed_users_Discussion_{{items.content.group_discussion_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Discussion',items.content.group_discussion_id,1,$index)"><?php echo $this->translate('Post','default'); ?></a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-if="comments.likes_count==0" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate('likes','default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,1,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,1,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,1,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate('More comments','default'); ?></a></div>
								</div>								
							</div>
						</div>
						<div class="post-outer border_radius <?php echo $language_class; ?>" ng-switch-when='New Media' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span ><?php echo $this->translate('posted','default'); ?> {{items.content.media_files.length}} <?php echo $this->translate('media to the album in','default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>									 
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
								<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
								<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
									<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Media',items.content.group_media_id,1,$index)"><?php echo $this->translate('Edit this post','default'); ?></a></li>
									<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Media',items.content.group_media_id,1,$index)"><?php echo $this->translate('Delete this post','default'); ?></a></li>
									<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Media',items.content.group_media_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate('Report this post','default'); ?></a></li>
								</ul>
							</div>
							</div>
							<div class="post_post-image">
								<div ng-class="{'singleGrid' :items.content.media_files.length==1, 'doubleGrid' : items.content.media_files.length==2,'trilpleGrid' : items.content.media_files.length==3,'multiGrid' : items.content.media_files.length>3}">										
									<ul class="media_image_list"   >
										<li ng-repeat="media_file in items.content.media_files| limitTo:4">
											<a href="javascrip:void(0);" class="media_list"  data-toggle="modal" data-target="#post-img_popup" ng-click="loadMedia(media_file.id)">
												<img ng-if="media_file.media_type=='image'"  src="<?php echo $this->basePath(); ?>/public/{{image_paths.group}}{{items.content.group_id}}/media/{{media_file.files}}" alt=""   />
												<img ng-if="media_file.media_type=='youtube'"  src="http://img.youtube.com/vi/{{media_file.video_id}}/0.jpg" alt="" /><span></span>
											</a>
										</li>
									</ul>									 	
									<span ng-if="items.content.media_files.length>4" class="feed_more_media">+{{items.content.media_files.length-4}}</span> 
								</div>
							</div>
							<div class="post_status-text" >{{items.content.media_caption}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Media_{{items.content.group_media_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<a href="javascript:void(0);"  ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" class="post_likes_count" ng-mouseover="loadToolTip('Media',items.content.group_media_id)" ng-mouseout="unloadToolTip('Media',items.content.group_media_id)" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Media',items.content.group_media_id,items.content.like_count,items.content.is_liked)"  >{{items.content.like_count}} <?php echo $this->translate('likes','default'); ?></a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Media_{{items.content.group_media_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate('More','default'); ?>..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate('More','default'); ?>..</span>
											</div> 							 
										</span>	
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Media_{{items.content.group_media_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Media',items.content.group_media_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_reply post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,1,$index)" ng-if="items.content.is_commented!=1"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Media_{{items.content.group_media_id}}" class="post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,1,$index,1)"> {{items.content.comment_counts}} <?php echo $this->translate('comments','default'); ?></a>
								</span>
								<div class="clear"></div>
											
								<div id="comment_Media_list_{{items.content.group_media_id}}" ng-if="items.viewComment==1">
									<div id="comment_Media_{{items.content.group_media_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Media_{{items.content.group_media_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Media',items.content.group_media_id);"></div>
											<div id="hashingUsers_Media_{{items.content.group_media_id}}"></div>
											<span id="hashed_users_Media_{{items.content.group_media_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Media',items.content.group_media_id,1,$index)"><?php echo $this->translate('Post','default'); ?></a>
										</div>
									</div>
								</div>	
								<div class="clear"></div>	
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-if="comments.likes_count==0" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate('likes','default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,1,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,1,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Media',items.content.group_media_id,1,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate('More comments','default'); ?></a></div>
								</div>
							</div>
						</div>
						<div class="post-outer border_radius <?php echo $language_class; ?>" ng-switch-when='New Activity' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
										<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span><?php echo $this->translate('posted in','default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>	
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);"  data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Activity',items.content.group_activity_id,1,$index)"><?php echo $this->translate('Edit this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Activity',items.content.group_activity_id,1,$index)"><?php echo $this->translate('Delete this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Activity',items.content.group_activity_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate('Report this post','default'); ?></a></li>
										<li ng-if="items.content.allow_join==1&&items.content.is_going==1"><a href="javascript:void(0);" ng-click="QuitRSVP(items.content.group_activity_id,1,$index)"><?php echo $this->translate('Quit event','default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_event-map" id="map_Activity_{{items.content.group_activity_id}}">
								<div class="google-map" hello-maps="" latitude="
								{{items.content.group_activity_location_lat}}" longitude="{{items.content.group_activity_location_lng}}"  location="{{items.content.group_activity_location}}" going="{{items.content.is_going}}"></div>
							</div>
							<div class="post_event-header" >
								<i class="event-calender"></i><span>{{items.content.group_activity_start_timestamp}}</span>
								<div ng-if="items.content.allow_join==1">
									<span ng-if="items.content.is_going==1" class="event_butn" id="activityrsvp_{{items.content.group_activity_id}}"><?php echo $this->translate("I'm Going",'default'); ?></span>
									<span class="event_butn" ng-if="items.content.is_going!=1" id="activityrsvp_{{items.content.group_activity_id}}"><a href="javascript:void(0);" class="default_butn_blue" ng-click="JoinRSVP(items.content.group_activity_id,1,$index)" ><?php echo $this->translate("Join",'default'); ?></a></span>
								</div>
								<div class="clear"></div>
							</div>
							<div class="post_status-text" >
								<h5>{{items.content.group_activity_title}}</h5>
								<div class="event_joined-member">
									<div class="event_joined-left">
										<span class="event_going_members" id="activityrsvpcount_{{items.content.group_activity_id}}">{{items.content.rsvp_count}}</span>
										<a href="javascript:void(0)"  ng-click="loadRsvpList(items.content.group_activity_id,'All',1)"><?php echo $this->translate("GOING",'default'); ?> </a>   /    <span class="event_going_members">{{items.content.rsvp_friend_count}}</span> <a href="javascript:void(0)" ng-click="loadRsvpList(items.content.group_activity_id,'friends',1)"> <?php echo $this->translate("friends",'default'); ?> </a>
									</div>
									<div class="event_member-img">
										<a ng-repeat="attending_users_list in items.content.attending_users" href="<?php echo $this->basePath(); ?>/{{attending_users_list.user_profile_name}}"><span class="event_profile-img_joined comn_profile_img">
											<img alt="" ng-if="attending_users_list.profile_photo!=null&&attending_users_list.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{attending_users_list.user_id}}/{{ attending_users_list.profile_photo }}">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid!=null&&attending_users_list.user_fbid!='')" src="https://graph.facebook.com/{{attending_users_list.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid==null||attending_users_list.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</span></a>							
									</div>
									<div class="clear"></div>
								</div>
								{{items.content.group_activity_content}}
							</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Activity_{{items.content.group_activity_id}}">
										<a ng-if="items.content.is_liked==1" href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<a ng-if="items.content.is_liked!=1" href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<span class="tootltip_outer"><a href="javascript:void(0);" ng-mouseover="loadToolTip('Activity',items.content.group_activity_id)" ng-mouseout="unloadToolTip('Activity',items.content.group_activity_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Activity',items.content.group_activity_id,items.content.like_count,items.content.is_liked)">{{items.content.like_count}} <?php echo $this->translate("likes",'default'); ?></a>
										<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Activity_{{items.content.group_activity_id}}" style="display:none">
											<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>		
											<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate("More",'default'); ?>..</span>
											<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate("More",'default'); ?>..</span>
										</div>
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Activity_{{items.content.group_activity_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Activity',items.content.group_activity_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Activity',items.content.group_activity_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_comments" id="ButtonComment_Activity_{{items.content.group_activity_id}}"  ng-click="LoadCommentList('Activity',items.content.group_activity_id,1,$index,1)">{{items.content.comment_counts}} <?php echo $this->translate("comments",'default'); ?></a>
								</span>
								
								<div class="clear"></div>
								<div id="comment_Activity_list_{{items.content.group_activity_id}}" ng-if="items.viewComment==1">
									<div class="clear"></div>
								<div id="comment_Activity_{{items.content.group_activity_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Activity_{{items.content.group_activity_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Activity',items.content.group_activity_id);"></div>
											<div id="hashingUsers_Activity_{{items.content.group_activity_id}}"></div>
											<span id="hashed_users_Activity_{{items.content.group_activity_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Activity',items.content.group_activity_id,1,$index)"><?php echo $this->translate("Post",'default'); ?></a>
										</div>
									</div>
								</div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>

														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" ng-if="comments.likes_count==0" class="post_likes" data-toggle="tooltip" data-placement="bottom"  ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate("likes",'default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate("Cancel",'default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,1,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate("Post",'default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,1,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Activity',items.content.group_activity_id,1,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate("More comments",'default'); ?></a></div>
								</div>
							</div>
						</div>
					</div>
				</div>
					</div>
					<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12" id="feed_row2">
						<div class="item" ng-repeat="items in feeds_row2">
					<div ng-switch="items.type">
						<div class="post-outer border_radius <?php echo $language_class; ?>"  ng-switch-when='New Status' ng-init="selectedIndex = $index" >
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>						 
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span><?php echo $this->translate("posted in",'default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Discussion',items.content.group_discussion_id,2,$index)"><?php echo $this->translate("Edit this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Discussion',items.content.group_discussion_id,2,$index)"><?php echo $this->translate("Delete this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Discussion',items.content.group_discussion_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate("Report this post",'default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_status-text" >{{items.content.group_discussion_content}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Discussion_{{items.content.group_discussion_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<a href="javascript:void(0);" ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" ng-mouseover="loadToolTip('Discussion',items.content.group_discussion_id)" ng-mouseout="unloadToolTip('Discussion',items.content.group_discussion_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom"  ng-click="LoadLikedUsers('Discussion',items.content.group_discussion_id,items.content.like_count,items.content.is_liked)" >{{items.content.like_count}} <?php echo $this->translate("likes",'default'); ?></a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Discussion_{{items.content.group_discussion_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate("More",'default'); ?>..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate("More",'default'); ?>..</span>
											</div> 							 
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Discussion_{{items.content.group_discussion_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Discussion_{{items.content.group_discussion_id}}" class="post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,2,$index,1)"> {{items.content.comment_counts}} <?php echo $this->translate("comments",'default'); ?></a>							 
								</span>
								<div class="clear"></div>
								
								<div id="comment_Discussion_list_{{items.content.group_discussion_id}}" ng-if="items.viewComment==1">
									<div id="comment_Discussion_{{items.content.group_discussion_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Discussion_{{items.content.group_discussion_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Discussion',items.content.group_discussion_id);"></div>
											<div id="hashingUsers_Discussion_{{items.content.group_discussion_id}}"></div>
											<span id="hashed_users_Discussion_{{items.content.group_discussion_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Discussion',items.content.group_discussion_id,2,$index)"><?php echo $this->translate("Post",'default'); ?></a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>

														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate("likes",'default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply" >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div  >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate("Cancel",'default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,2,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate("Post",'default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,2,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,2,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate("More comments",'default'); ?></a></div>
								</div>								
							</div>
						</div>
						<div class="post-outer border_radius <?php echo $language_class; ?>" ng-switch-when='New Media' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span ><?php echo $this->translate('posted','default'); ?>{{items.content.media_files.length}} <?php echo $this->translate("media to the album in",'default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
									 
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Media',items.content.group_media_id,2,$index)"><?php echo $this->translate("Edit this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Media',items.content.group_media_id,2,$index)"><?php echo $this->translate("Delete this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Media',items.content.group_media_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate("Report this post",'default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_post-image">
								<div ng-class="{'singleGrid' :items.content.media_files.length==1, 'doubleGrid' : items.content.media_files.length==2,'trilpleGrid' : items.content.media_files.length==3,'multiGrid' : items.content.media_files.length>3}">
									
									<ul class="media_image_list">
										<li ng-repeat="media_file in items.content.media_files| limitTo:4">
											<a href="javascrip:void(0);" class="media_list"  data-toggle="modal" data-target="#post-img_popup" ng-click="loadMedia(media_file.id)">
												<img ng-if="media_file.media_type=='image'" src="<?php echo $this->basePath(); ?>/public/{{image_paths.group}}{{items.content.group_id}}/media/{{media_file.files}}" alt=""   />
												<img ng-if="media_file.media_type=='youtube'" src="http://img.youtube.com/vi/{{media_file.video_id}}/0.jpg" alt="" /><span></span>
											</a>
										</li>
									</ul>
									 
									<span ng-if="items.content.media_files.length>4" class="feed_more_media">+{{items.content.media_files.length-4}}</span>  
									 
								</div>
							</div>
							<div class="post_status-text" >{{items.content.media_caption}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Media_{{items.content.group_media_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<a href="javascript:void(0);"  ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" class="post_likes_count" ng-mouseover="loadToolTip('Media',items.content.group_media_id)" ng-mouseout="unloadToolTip('Media',items.content.group_media_id)" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Media',items.content.group_media_id,items.content.like_count,items.content.is_liked)"  >{{items.content.like_count}} <?php echo $this->translate("likes",'default'); ?></a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Media_{{items.content.group_media_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate("More",'default'); ?>..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate("More",'default'); ?>..</span>
											</div> 							 
										</span>	
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Media_{{items.content.group_media_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Media',items.content.group_media_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_reply post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,2,$index)" ng-if="items.content.is_commented!=1"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Media_{{items.content.group_media_id}}" class="post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,2,$index,1)"> {{items.content.comment_counts}} <?php echo $this->translate("comments",'default'); ?></a>
								</span>
								
								<div class="clear"></div>				
								<div id="comment_Media_list_{{items.content.group_media_id}}" ng-if="items.viewComment==1">
									<div class="clear"></div>
								<div id="comment_Media_{{items.content.group_media_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Media_{{items.content.group_media_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Media',items.content.group_media_id);"></div>
											<div id="hashingUsers_Media_{{items.content.group_media_id}}"></div>
											<span id="hashed_users_Media_{{items.content.group_media_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Media',items.content.group_media_id,2,$index)"><?php echo $this->translate("Post",'default'); ?></a>
										</div>
									</div>
								</div>	
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate("likes",'default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply" >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div  >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate("Cancel",'default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,2,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate("Post",'default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,2,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Media',items.content.group_media_id,2,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate("More comments",'default'); ?></a></div>
								</div>
							</div>
						</div>
						<div class="post-outer border_radius <?php echo $language_class; ?>" ng-switch-when='New Activity' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
										<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span><?php echo $this->translate("posted in",'default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>	
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);"  data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Activity',items.content.group_activity_id,2,$index)"><?php echo $this->translate("Edit this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Activity',items.content.group_activity_id,2,$index)"><?php echo $this->translate("Delete this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Activity',items.content.group_activity_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate("Report this post",'default'); ?></a></li>
										<li ng-if="items.content.allow_join==1&&items.content.is_going==1"><a href="javascript:void(0);"  ng-click="QuitRSVP(items.content.group_activity_id,2,$index)"><?php echo $this->translate("Quit event",'default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_event-map" id="map_Activity_{{items.content.group_activity_id}}">
								<div class="google-map" hello-maps="" latitude="
								{{items.content.group_activity_location_lat}}" longitude="{{items.content.group_activity_location_lng}}"  location="{{items.content.group_activity_location}}" going="{{items.content.is_going}}"></div>
							</div>
							<div class="post_event-header" >
								<i class="event-calender"></i><span>{{items.content.group_activity_start_timestamp}}</span>
								<div ng-if="items.content.allow_join==1">
									<span ng-if="items.content.is_going==1" class="event_butn" id="activityrsvp_{{items.content.group_activity_id}}"><?php echo $this->translate("I'm Going",'default'); ?></span>
									<span class="event_butn" ng-if="items.content.is_going!=1" id="activityrsvp_{{items.content.group_activity_id}}"><a href="javascript:void(0);" class="default_butn_blue" ng-click="JoinRSVP(items.content.group_activity_id,2,$index)" ><?php echo $this->translate("Join",'default'); ?></a></span>
								</div>
								<div class="clear"></div>
							</div>
							<div class="post_status-text" >
								<h5>{{items.content.group_activity_title}}</h5>
								<div class="event_joined-member">
									<div class="event_joined-left">
										<span class="event_going_members" id="activityrsvpcount_{{items.content.group_activity_id}}">{{items.content.rsvp_count}}</span>
										<a href="javascript:void(0)"  ng-click="loadRsvpList(items.content.group_activity_id,'All',1)"><?php echo $this->translate("GOING",'default'); ?> </a>   /    <span class="event_going_members">{{items.content.rsvp_friend_count}}</span> <a href="javascript:void(0)" ng-click="loadRsvpList(items.content.group_activity_id,'friends',1)"> <?php echo $this->translate("friends",'default'); ?> </a>
									</div>
									<div class="event_member-img">
										<a ng-repeat="attending_users_list in items.content.attending_users" href="<?php echo $this->basePath(); ?>/{{attending_users_list.user_profile_name}}"><span class="event_profile-img_joined comn_profile_img">
											<img alt="" ng-if="attending_users_list.profile_photo!=null&&attending_users_list.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{attending_users_list.user_id}}/{{ attending_users_list.profile_photo }}">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid!=null&&attending_users_list.user_fbid!='')" src="https://graph.facebook.com/{{attending_users_list.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid==null||attending_users_list.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</span></a>							
									</div>
									<div class="clear"></div>
								</div>
								{{items.content.group_activity_content}}
							</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Activity_{{items.content.group_activity_id}}">
										<a ng-if="items.content.is_liked==1" href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<a ng-if="items.content.is_liked!=1" href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<span class="tootltip_outer"><a href="javascript:void(0);" ng-mouseover="loadToolTip('Activity',items.content.group_activity_id)" ng-mouseout="unloadToolTip('Activity',items.content.group_activity_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Activity',items.content.group_activity_id,items.content.like_count,items.content.is_liked)">{{items.content.like_count}} <?php echo $this->translate("likes",'default'); ?></a>
										<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Activity_{{items.content.group_activity_id}}" style="display:none">
											<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>	
											<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate("More",'default'); ?>..</span>
											<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate("More",'default'); ?>..</span>
										</div>
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Activity_{{items.content.group_activity_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Activity',items.content.group_activity_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Activity',items.content.group_activity_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Activity_{{items.content.group_activity_id}}" class="post_comments" ng-click="LoadCommentList('Activity',items.content.group_activity_id,2,$index,1)">{{items.content.comment_counts}} <?php echo $this->translate("comments",'default'); ?></a>
								</span>
								<div class="clear"></div>
								
								<div id="comment_Activity_list_{{items.content.group_activity_id}}" ng-if="items.viewComment==1">
									<div id="comment_Activity_{{items.content.group_activity_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Activity_{{items.content.group_activity_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Activity',items.content.group_activity_id);"></div>
											<div id="hashingUsers_Activity_{{items.content.group_activity_id}}"></div>
											<span id="hashed_users_Activity_{{items.content.group_activity_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Activity',items.content.group_activity_id,2,$index)"><?php echo $this->translate("Post",'default'); ?></a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate("likes",'default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply" >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div  >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate("Cancel",'default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,2,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate("Post",'default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,2,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Activity',items.content.group_activity_id,2,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate("More comments",'default'); ?></a></div>
								</div>
							</div>
						</div>
					</div>
				</div>
					</div>
					<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12" id="feed_row3">
						<div class="item" ng-repeat="items in feeds_row3">
					<div ng-switch="items.type">
						<div class="post-outer border_radius <?php echo $language_class; ?>"  ng-switch-when='New Status' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>						 
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span><?php echo $this->translate("posted in",'default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Discussion',items.content.group_discussion_id,3,$index)"><?php echo $this->translate("Edit this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Discussion',items.content.group_discussion_id,3,$index)"><?php echo $this->translate("Delete this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Discussion',items.content.group_discussion_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate("Report this post",'default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_status-text" >{{items.content.group_discussion_content}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Discussion_{{items.content.group_discussion_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<a href="javascript:void(0);" ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" ng-mouseover="loadToolTip('Discussion',items.content.group_discussion_id)" ng-mouseout="unloadToolTip('Discussion',items.content.group_discussion_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom"  ng-click="LoadLikedUsers('Discussion',items.content.group_discussion_id,items.content.like_count,items.content.is_liked)" >{{items.content.like_count}} <?php echo $this->translate("likes",'default'); ?></a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Discussion_{{items.content.group_discussion_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate("More",'default'); ?>..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate("More",'default'); ?>..</span>
											</div> 							 
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Discussion_{{items.content.group_discussion_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_comments" id="ButtonComment_Discussion_{{items.content.group_discussion_id}}" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,3,$index,1)"> {{items.content.comment_counts}} <?php echo $this->translate("comments",'default'); ?></a>							 
								</span>
								<div class="clear"></div>
								
								<div id="comment_Discussion_list_{{items.content.group_discussion_id}}" ng-if="items.viewComment==1">
									<div id="comment_Discussion_{{items.content.group_discussion_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Discussion_{{items.content.group_discussion_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Discussion',items.content.group_discussion_id);"></div>
											<div id="hashingUsers_Discussion_{{items.content.group_discussion_id}}"></div>
											<span id="hashed_users_Discussion_{{items.content.group_discussion_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Discussion',items.content.group_discussion_id,3,$index)"><?php echo $this->translate("Post",'default'); ?></a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate("likes",'default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div  class="post_comment_text post_comment_reply" >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate("Cancel",'default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,3,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate("Post",'default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,3,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,3,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate("More comments",'default'); ?></a></div>
								</div>								
							</div>
						</div>
						<div class="post-outer border_radius <?php echo $language_class; ?>" ng-switch-when='New Media' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span ><?php echo $this->translate('posted','default'); ?> {{items.content.media_files.length}} <?php echo $this->translate('media to the album in','default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Media',items.content.group_media_id,3,$index)"><?php echo $this->translate("Edit this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Media',items.content.group_media_id,3,$index)"><?php echo $this->translate("Delete this post",'default'); ?></a></li>
										<li><a href="javascript:void(0); " ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Media',items.content.group_media_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate("Report this post",'default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_post-image">
								<div ng-class="{'singleGrid' :items.content.media_files.length==1, 'doubleGrid' : items.content.media_files.length==2,'trilpleGrid' : items.content.media_files.length==3,'multiGrid' : items.content.media_files.length>3}">
									
									<ul   class="media_image_list">
										<li ng-repeat="media_file in items.content.media_files| limitTo:4">
											<a href="javascrip:void(0);" class="media_list"  data-toggle="modal" data-target="#post-img_popup" ng-click="loadMedia(media_file.id)">
											<img ng-if="media_file.media_type=='image'" src="<?php echo $this->basePath(); ?>/public/{{image_paths.group}}{{items.content.group_id}}/media/{{media_file.files}}" alt=""   />
											<img ng-if="media_file.media_type=='youtube'" src="http://img.youtube.com/vi/{{media_file.video_id}}/0.jpg" alt="" /><span></span>
											</a>
										</li>
										
									</ul>
									 
									<span ng-if="items.content.media_files.length>4" class="feed_more_media">+{{items.content.media_files.length-4}}</span> 
									 
								</div>
							</div>
							<div class="post_status-text" >{{items.content.media_caption}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Media_{{items.content.group_media_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<a href="javascript:void(0);"  ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" class="post_likes_count" ng-mouseover="loadToolTip('Media',items.content.group_media_id)" ng-mouseout="unloadToolTip('Media',items.content.group_media_id)" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Media',items.content.group_media_id,items.content.like_count,items.content.is_liked)"  >{{items.content.like_count}} <?php echo $this->translate("likes",'default'); ?></a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Media_{{items.content.group_media_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate("More",'default'); ?>..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate("More",'default'); ?>..</span>
											</div> 							 
										</span>	
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Media_{{items.content.group_media_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Media',items.content.group_media_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_reply post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,3,$index)" ng-if="items.content.is_commented!=1"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Media_{{items.content.group_media_id}}" class="post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,3,$index,1)"> {{items.content.comment_counts}} <?php echo $this->translate("comments",'default'); ?></a>
								</span>
								<div class="clear"></div>
								 				
								<div id="comment_Media_list_{{items.content.group_media_id}}" ng-if="items.viewComment==1">
									<div id="comment_Media_{{items.content.group_media_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Media_{{items.content.group_media_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Media',items.content.group_media_id);"></div>
											<div id="hashingUsers_Media_{{items.content.group_media_id}}"></div>
											<span id="hashed_users_Media_{{items.content.group_media_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Media',items.content.group_media_id,3,$index)"><?php echo $this->translate("Post",'default'); ?></a>
										</div>
									</div>
								</div>	
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate("likes",'default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div  class="post_comment_text post_comment_reply" >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate("Cancel",'default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,3,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate("Post",'default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,3,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Media',items.content.group_media_id,3,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate("More comments",'default'); ?></a></div>
								</div>
							</div>
						</div>
						<div class="post-outer border_radius <?php echo $language_class; ?>" ng-switch-when='New Activity' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
										<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span><?php echo $this->translate("posted in",'default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>	
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);"  data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Activity',items.content.group_activity_id,3,$index)"><?php echo $this->translate("Edit this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Activity',items.content.group_activity_id,3,$index)"><?php echo $this->translate("Delete this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Activity',items.content.group_activity_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate("Report this post",'default'); ?></a></li>
										<li ng-if="items.content.allow_join==1&&items.content.is_going==1"><a href="javascript:void(0);"  ng-click="QuitRSVP(items.content.group_activity_id,3,$index)"><?php echo $this->translate("Quit event",'default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_event-map" id="map_Activity_{{items.content.group_activity_id}}">
								<div class="google-map" hello-maps="" latitude="
								{{items.content.group_activity_location_lat}}" longitude="{{items.content.group_activity_location_lng}}"  location="{{items.content.group_activity_location}}" going="{{items.content.is_going}}"></div>
							</div>
							<div class="post_event-header" >
								<i class="event-calender"></i><span>{{items.content.group_activity_start_timestamp}}</span>
								<div ng-if="items.content.allow_join==1">
									<span ng-if="items.content.is_going==1" class="event_butn" id="activityrsvp_{{items.content.group_activity_id}}"><?php echo $this->translate("I'm Going",'default'); ?></span> 
									<span class="event_butn" ng-if="items.content.is_going!=1" id="activityrsvp_{{items.content.group_activity_id}}"><a href="javascript:void(0);" class="default_butn_blue" ng-click="JoinRSVP(items.content.group_activity_id,3,$index)" ><?php echo $this->translate("Join",'default'); ?></a></span>
								</div>
								<div class="clear"></div>
							</div>
							<div class="post_status-text" >
								<h5>{{items.content.group_activity_title}}</h5>
								<div class="event_joined-member">
									<div class="event_joined-left">
										<span class="event_going_members" id="activityrsvpcount_{{items.content.group_activity_id}}">{{items.content.rsvp_count}}</span>
										<a href="javascript:void(0)"  ng-click="loadRsvpList(items.content.group_activity_id,'All',1)"><?php echo $this->translate("GOING",'default'); ?> </a>   /    <span class="event_going_members">{{items.content.rsvp_friend_count}}</span> <a href="javascript:void(0)" ng-click="loadRsvpList(items.content.group_activity_id,'friends',1)"> <?php echo $this->translate("friends",'default'); ?> </a>
									</div>
									<div class="event_member-img">
										<a ng-repeat="attending_users_list in items.content.attending_users" href="<?php echo $this->basePath(); ?>/{{attending_users_list.user_profile_name}}"><span class="event_profile-img_joined comn_profile_img">
											<img alt="" ng-if="attending_users_list.profile_photo!=null&&attending_users_list.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{attending_users_list.user_id}}/{{ attending_users_list.profile_photo }}">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid!=null&&attending_users_list.user_fbid!='')" src="https://graph.facebook.com/{{attending_users_list.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid==null||attending_users_list.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</span></a>							
									</div>
									<div class="clear"></div>
								</div>
								{{items.content.group_activity_content}}
							</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Activity_{{items.content.group_activity_id}}">
										<a ng-if="items.content.is_liked==1" href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<a ng-if="items.content.is_liked!=1" href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<span class="tootltip_outer"><a href="javascript:void(0);" ng-mouseover="loadToolTip('Activity',items.content.group_activity_id)" ng-mouseout="unloadToolTip('Activity',items.content.group_activity_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Activity',items.content.group_activity_id,items.content.like_count,items.content.is_liked)">{{items.content.like_count}} <?php echo $this->translate("likes",'default'); ?></a>
										<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Activity_{{items.content.group_activity_id}}" style="display:none">
											<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
											<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate("More",'default'); ?>..</span>
											<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate("More",'default'); ?>..</span>
										</div>
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Activity_{{items.content.group_activity_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Activity',items.content.group_activity_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Activity',items.content.group_activity_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_comments" id="ButtonComment_Activity_{{items.content.group_activity_id}}" ng-click="LoadCommentList('Activity',items.content.group_activity_id,3,$index,1)">{{items.content.comment_counts}} <?php echo $this->translate("comments",'default'); ?></a>
								</span>
								<div class="clear"></div>
								 
								<div id="comment_Activity_list_{{items.content.group_activity_id}}" ng-if="items.viewComment==1">
									<div id="comment_Activity_{{items.content.group_activity_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Activity_{{items.content.group_activity_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Activity',items.content.group_activity_id);"></div>
											<div id="hashingUsers_Activity_{{items.content.group_activity_id}}"></div>
											<span id="hashed_users_Activity_{{items.content.group_activity_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Activity',items.content.group_activity_id,3,$index)"><?php echo $this->translate("Post",'default'); ?></a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div  class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img" >
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate("likes",'default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate("More",'default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate("More",'default'); ?>..</span>
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate("likes",'default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div  class="post_comment_text post_comment_reply" >
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate("Cancel",'default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,3,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate("Post",'default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,3,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Media',items.content.group_activity_id,3,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate("More comments",'default'); ?></a></div>
								</div>
							</div>
						</div>
					</div>
				</div>
					</div>
				</div>
            </div>            
            <div class="clear"></div>
<div class="pop_bg modal fade" id="post-img_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

	<div class="modal-content postimg_content" >
		<div class="modal-header">
			<!-- <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> -->
			<div class="clear"></div>
		</div>
		
		<div class="modal-body postimg_body <?php echo $language_class; ?>">
			<span ng-if="mediaLoader ==1" class="media_loader"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"></span>
			
			<span ng-if="media_view=='Images'" class="image-popup-outer" >
				<div class="post-img_preview-outer">
					<div class="post-img_preview">
						<div class="post-img_preview_nav">
							<div class="image_preview-previous" ng-if="media.prev_id!=''">
								<a href="javascript:void(0);" ng-click="loadMedia(media.prev_id)"><i></i></a>
							</div>
							<div class="image_show-all">
								<a href="javascript:void(0);" ng-click="LoadAlbum(media.group_id,media.album_id)"><i></i></a>
							</div>
							<div class="image_preview-next" ng-if="media.next_id!=''">
								<a href="javascript:void(0);" ng-click="loadMedia(media.next_id)"><i></i></a>
							</div>
							<div class="clear"></div>
						</div>
						<div class="pop_image-preview" ng-if="media.media_type=='image'">
							<img ng-if="media.media_type=='image'" src="<?php echo $this->basePath(); ?>/public/datagd/group/{{media.group_id}}/media/{{media.media_file}}" alt="{{media.media_file}}" />				 
						</div>
						<div id="video_content"></div>
						<div class="pop_img-footer">
							<div ng-if="media.album_name!=''">
								<?php echo $this->translate('Album','default'); ?>:<span>{{media.album_name}}</span>
							</div>						
							<?php echo $this->translate('in group','default'); ?>: <a href="<?php echo $this->basePath(); ?>/groups/{{media.group_seo_title}}">{{media.group_title}}</a>
							<div  ng-if="media.event_name!=''">
								<?php echo $this->translate('link to','default'); ?>:<a href="<?php echo $this->basePath(); ?>/groups/{{media.group_seo_title}}/events/{{media.event_id}}">{{media.event_name}}</a>
							</div>
						</div>
					</div>
				</div>
				<div class="image_postdetails" ng-if="medialist==0">
				<div class="post_header">
					<span class="vertical_align"></span>
					<div class="image_option-outer">
						<a href="javascript:void(0);" data-toggle="dropdown" id="image_option" alt="Options"><i></i> <?php echo $this->translate('Options','default'); ?></a>
						<ul class="dropdown-menu  color-trans" role="menu" aria-labelledby="post_in_group">
							<li><a href="javascript:void(0);" data-toggle="modal" data-target="#popup_delete" ng-if="media.is_logged_user_admin==1||media.is_added==1||media.is_album_creator==1"  ng-click="deletePostFromPopup('Image',media.media_file_id)"><?php echo $this->translate('Delete this post','default'); ?></a></li>
							<li><a href="javascript:void(0);" ng-if="media.user_id!=profile.user_id" ng-click="ReportPost('Image',media.media_file_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate('Report this post','default'); ?></a></li>
						</ul>
					</div>
					<div class="header-profile_image">
						<img alt="" ng-if="media.profile_photo!=null&&media.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{media.user_id}}/{{ media.profile_photo }}">
						<img alt="" ng-if="(media.profile_photo==null||media.profile_photo=='')&&(media.user_fbid!=null&&media.user_fbid!='')" src="https://graph.facebook.com/{{media.user_fbid}}/picture?width=66&&height=66">
						<img alt="" ng-if="(media.profile_photo==null||media.profile_photo=='')&&(media.user_fbid==null||media.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
						<span class="owner-badge" ng-if="media.is_admin==1"></span>
					</div>
					<div class="post_profile-name">
						<a href="<?php echo $this->basePath(); ?>/{{media.user_profile_name}}">{{media.user_given_name}}</a>
						<span><?php echo $this->translate('posted in','default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{media.group_seo_title}}">{{media.group_title}}</a></span>
					</div>
					<div class="post_time noti_time"><i></i>{{media.added_time}}</div>
					<div class="clear"></div>
				</div>
				<div class="post_status-text">
					{{media.media_caption}}
				</div>
				<div class="post_status-footer">
					<span class="like_comment_outer">
						<span id="Image_modelwindow">
							<span ng-if="medialike_ajaxloader == 1">
								<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif">
							</span>
							<span class="tootltip_outer" ng-if="medialike_ajaxloader == 0">
								<a class="post_likes" ng-class="{'liked': media.is_liked==1}" ng-if="media.is_liked ==1" href="javascript:void(0);" ng-click="funUnLikeAction('Image',media.media_file_id)"  ><i></i></a>
								<a class="post_likes" ng-if="media.is_liked ==0" href="javascript:void(0);" ng-click="funLikeAction('Image',media.media_file_id)" ><i></i></a>
								<a href="javascript:void(0)"   ng-click="LoadLikedUsers('Image',media.media_file_id,media.likes_counts,media.is_liked)" ng-mouseover="loadPopupToolTip('Image',media.media_file_id)"  ng-mouseleave="unloadPopupToolTip('Image',media.media_file_id)"  >{{media.likes_counts}} <?php echo $this->translate('likes','default'); ?></a>							
								 
								<div class="like_tooltip"  ng-if="media.likes_counts>0" id="tooltip_popup_Media_{{media.media_file_id}}" style="display:none">	
									<span ng-repeat="items in media.likedUsers">{{items}}</span> 
									<span ng-if="media.likes_counts>2&&media.is_liked ==0"><?php echo $this->translate('More','default'); ?>..</span>
									<span ng-if="media.likes_counts>3&&media.is_liked ==1"><?php echo $this->translate('More','default'); ?>..</span>									
								</div>
							</span>						
						</span>
					</span>
					<span  class="post_comment-right">
						<a class="post_comments" ng-class="{'comented': media.is_commented==1}" href="javascript:void(0);" ng-click="enableCommentReplyMedia()"><i></i></a>
						<a class="post_comments" href="javascript:void(0);" ng-click="enableCommentReplyMedia()"><span >{{media.comment_count}} <?php echo $this->translate('comments','default'); ?></span></a>
					</span>					
					<div class="clear"></div>
					<div class="post_comment-outer" id="post_reply-media" ng-show="showReply==1">
						<div class="header-profile_image comment_profile-img">
							 <img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
							 <img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							 
						</div>
						<div class="post_comment_text post_comment_reply">
                             <div class="commentTextArea" contenteditable="true" ng-keydown="keyPressMedia($event,'Image',media.media_file_id);" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." id="txtMediaComment"></div>
							<div id="txtMediaCommenthashed"></div>
							<span id="media_hashed_users_Media_{{media.media_file_id}}" data-items=""></span>
						</div>
						<div class="clear"></div>
						<div class="post_comment_reply-butns">
							<!-- <a href="javascript:void(0);" class="default_butn_grey" id="cancel_reply" ng-click="showReply=0;removeCommentBox()">Cancel</a> -->
							<a href="javascript:void(0);" class="default_butn_violet" ng-click="postComment('Image',media.media_file_id)"><?php echo $this->translate('Post','default'); ?></a>
						</div>
					</div>
				</div>
				 
				<div id="comment_container_outer" ng-init="enableScrollbar()">
					<div class="post_comment-outer" ng-repeat="comments in media_comments">
						<div class="header-profile_image comment_profile-img">
							<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
							<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
							<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							 </a>
						</div>
						<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
							<span class="profile_name-comment"><a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name }}</a></span><span id="comment_text_{{$index}}">{{loadCommmentText($index,comments.comment_content)}}</span>
							<div class="comment_likes">								 
								<span class="Comment_{{comments.comment_id}}">
								<span class="tootltip_outer">
								<a href="javascript:void(0);" class="post_likes liked" ng-if="comments.islike==1" ng-click="funUnLikeAction('Comment',comments.comment_id)"><i></i></a>
								<a href="javascript:void(0)" ng-if="comments.islike == 1" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadPopupToolTip('Comment',comments.comment_id)" ng-mouseleave="unloadPopupToolTip('Comment',comments.comment_id)">{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
								<a href="javascript:void(0);" class="post_likes" ng-if="comments.islike==0" ng-click="funLikeAction('Comment',comments.comment_id)"><i></i></a>
								<a href="javascript:void(0)" ng-if="comments.islike==0"  ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadPopupToolTip('Comment',comments.comment_id)" ng-mouseleave="unloadPopupToolTip('Comment',comments.comment_id)">{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
								
								<div class="like_tooltip" ng-if="comments.likes_count>0" id="tooltip_popup_Comment_{{comments.comment_id}}" style="display:none">	
									<span ng-repeat="items in comments.likedUsers">{{items}}</span> 
									<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
									<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>
								</div>
								</span>
								</span>
								<div class="post_time noti_time comment_time "><i></i>{{comments.comment_time}}</div>
								<div class="clear"></div>
							</div>
						</div>
						<div class="post_comment_text post_comment_reply">
									<div class="comment-edit"  style="display:none" id="edit-mediacomment-outer-{{comments.comment_id}}">
										 
										 
										<div >
											<div class="commentTextArea" id="editmediacomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPressMedia($event,'Comment',comments.comment_id);">
														 
											</div>
											<div id="txtMediaEditCommenthashed_{{comments.comment_id}}"></div>
											<span id="media_hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">											 
											<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
											<a ng-click="SendMediaEditComment(comments.comment_id,'Image')" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>											 
										</div>
									</div>
								</div>
								<div class="clear"></div>
								<div >
									<div class="comment_actions">
										<a class="comment_edit" href="javascript:void(0);" ng-if="comments.user_id==profile.user_id" title="Edit" ng-click="MediaenableCommentEdit(comments.comment_id,comments.comment_content)"></a>
										<a ng-if="comments.allowedit==1" class="comment_delete" href="javascript:void(0);" title="Delete" ng-click="DeleteCommentMedia(comments.comment_id,media.group_media_id)"></a>
										<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
									</div>
								</div>
						<div class="clear"></div>
					</div>
					<div ng-if= "media.comment_count>10&&hideloadmore==0" ng-click="loadmoreCommentFromPopup(media.group_media_id)"> <a href="javascript:void(0)" class="loadmore-comments"><?php echo $this->translate('More comments','default'); ?></a></div>  	  
				</div>
			</div>
			<div class="clear"></div>
			</span>
			<span ng-if="mediaLoader ==0&&media_view=='AlbumImages'" class="image-popup-outer"> 
				<div class="post-img_preview-outer">
					<div >
						<div class="post-img_preview_nav">					 
							<div class="image_show-old">
								<a href="javascript:void(0);" ng-click="loadMedia(open_id)"><i></i></a>
							</div>					 
							<div class="clear"></div>
						</div>
						<div class="image_pop_options">
							<?php echo $this->translate('Show','default'); ?>:<ul>
								<li><a href="javascript:void(0)" ng-click="loadAllMedia(media_group_id,1)" ><?php echo $this->translate('All Photos','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllGroupAlbums(media_group_id,1)"><?php echo $this->translate('Albums','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllEventAlbums(media_group_id,1)"><?php echo $this->translate('Events','default'); ?></a></li>
							</ul>
						</div>
						<h3><?php echo $this->translate('All Media of','default'); ?> {{albumDetails.album_name}}</h3>
						<div  id="media_list"  style="height:500px;overflow:hidden" ng-init="enableScrollbarMedia()"> 
						<span ng-if="albumDetails.media_files.length==0"><?php echo $this->translate('No more images','default'); ?></span>
						<ul ng-if="albumDetails.media_files.length>0" class="album_images_list">
							<li ng-repeat="items in albumDetails.media_files"><a href="javascript:void(0)" ng-click="loadMedia(items.id)" >
							<img  ng-if="items.media_type=='image'" src="<?php echo $this->basePath(); ?>/public/datagd/group/{{albumDetails.group_id}}/media/{{items.files}}">
							<img ng-if="items.media_type=='youtube'" src="http://img.youtube.com/vi/{{items.video_id}}/0.jpg" />
							</a></li>
							<div class="clear"></div>
							<a href="javascript:void(0)" ng-click="LoadmoreAlbum(albumDetails.group_id,albumDetails.album_id);" ng-if="showLoadmore==1" class="media_loadmore"><?php echo $this->translate('Loadmore','default'); ?></a>
						</ul>
						</div>
					</div>		
				</div>
				<div class="image_postdetails" ng-if="medialist==0&&albumDetails.album_id!='unsorted'"  >
				<div class="post_header">
					<span class="vertical_align"></span>
					<div class="image_option-outer" >
						<a href="javascript:void(0);" data-toggle="dropdown" id="image_option" alt=""><i></i> <?php echo $this->translate('Options','default'); ?></a>
						<ul class="dropdown-menu  color-trans" role="menu" aria-labelledby="post_in_group">
							<li><a href="javascript:void(0);" data-toggle="modal" data-target="#popup_delete" ng-if="albumDetails.is_logged_user_admin==1||albumDetails.is_album_creator==1||albumDetails.is_event_creator==1"  ng-click="deletePostFromPopup('Album',albumDetails.album_id)"><?php echo $this->translate('Delete this Album','default'); ?></a></li>
							<li><a href="javascript:void(0);" ng-if="albumDetails.creator_id!=profile.user_id" ng-click="ReportPost('Album',albumDetails.album_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate('Report this post','default'); ?></a></li>
							<li><a href="javascript:void(0);" ng-if="albumDetails.creator_id==profile.user_id||albumDetails.is_logged_user_admin==1" ng-click="PrepareToEditAlbum(albumDetails.album_id)" ><?php echo $this->translate('Edit album','default'); ?></a></li>
						</ul>
					</div>
					<div class="frm_album_edit" ng-if="AlbumEdit==1">
						<div class="error-common" id="album_edit_error" ></div>
						<div><input type="text" id="album_edit_title" ng-model="album_edit_title" /></div>
						<div><textarea id="album_edit_description" ng-model="album_edit_description"></textarea></div>
						<div><?php echo $this->translate('Tag Event','default'); ?>:
							<div class="album_event_outer">
								<?php echo $this->translate('Select events related to','default'); ?>
								<span><a href="javascript:void(0);" class="filter_albums" data-toggle="dropdown" id="post_in_albums">{{album_edit_event_title}}<span></span></a> 
								<ul class="dropdown-menu post-group_dropdown color-trans arrow_box" role="menu" aria-labelledby="post_in_albums"> 
									<li ><a href="javascript:void(0);" ng-click="selectAlbumEditEvent('','Choose Event')"><?php echo $this->translate('Choose Event','default'); ?></a></li>
									<li ng-repeat="item in album_edit_event_list"><a href="javascript:void(0);" ng-click="selectAlbumEditEvent(item.group_activity_id,item.group_activity_title)">{{item.group_activity_title}}</a></li>
								</ul></span>
							</div>
						</div>
						<div><a  ng-click="EditAlbum(albumDetails.album_id,album_edit_title,album_edit_description)" class="default_butn_violet ng-scope" href="javascript:void(0);"> <?php echo $this->translate('Update','default'); ?></a>
						<a  ng-click="CancelEditAlbum()" class="default_butn_grey ng-scope" href="javascript:void(0);"> <?php echo $this->translate('Cancel','default'); ?></a>
						</div>
					</div>
					<span ng-if="AlbumEdit==0">
						<div class="header-profile_image">
							<img alt="" ng-if="albumDetails.profile_photo!=null&&albumDetails.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{albumDetails.user_id}}/{{ albumDetails.profile_photo }}">
							<img alt="" ng-if="(albumDetails.profile_photo==null||albumDetails.profile_photo=='')&&(albumDetails.user_fbid!=null&&albumDetails.user_fbid!='')" src="https://graph.facebook.com/{{albumDetails.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(albumDetails.profile_photo==null||albumDetails.profile_photo=='')&&(albumDetails.user_fbid==null||albumDetails.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							<span class="owner-badge" ng-if="albumDetails.is_admin==1"></span>
						</div>
						<div class="post_profile-name">
							<a href="<?php echo $this->basePath(); ?>/{{albumDetails.user_profile_name}}">{{albumDetails.user_given_name}}</a>
							<span><?php echo $this->translate('Created album','default'); ?> {{albumDetails.album_name}} <?php echo $this->translate('in','default'); ?>  <a href="<?php echo $this->basePath(); ?>/groups/{{albumDetails.group_seo_title}}">{{albumDetails.group_title}}</a></span>
						</div>
						<div class="post_time noti_time"><i></i></div>
						<div class="clear"></div>
					</span>
				</div>
				<div class="post_status-text">
					 
				</div>
				<div class="post_status-footer">
					<span class="like_comment_outer">
						<span id="Album_modelwindow">
							<span ng-if="medialike_ajaxloader == 1">
								<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif">
							</span>
							<span class="tootltip_outer" ng-if="medialike_ajaxloader == 0">
								<a class="post_likes" ng-class="{'liked': albumDetails.is_liked==1}" ng-if="albumDetails.is_liked ==1" href="javascript:void(0);" ng-click="funUnLikeAction('Album',albumDetails.album_id)"  ><i></i></a>
								<a class="post_likes" ng-if="albumDetails.is_liked ==0" href="javascript:void(0);" ng-click="funLikeAction('Album',albumDetails.album_id)" ><i></i></a>
								<a href="javascript:void(0)"   ng-click="LoadLikedUsers('Album',albumDetails.album_id,albumDetails.likes_counts,albumDetails.is_liked)" ng-mouseover="loadPopupToolTip('Album',albumDetails.album_id)"  ng-mouseleave="unloadPopupToolTip('Album',albumDetails.album_id)"  >{{albumDetails.likes_counts}} <?php echo $this->translate('likes','default'); ?></a>							
								 
								<div class="like_tooltip"  ng-if="albumDetails.likes_counts>0" id="tooltip_popup_Media_{{albumDetails.album_id}}" style="display:none">	
									<span ng-repeat="items in albumDetails.likedUsers">{{items}}</span> 
									<span ng-if="albumDetails.likes_counts>2&&albumDetails.is_liked ==0"><?php echo $this->translate('More','default'); ?>..</span>
									<span ng-if="albumDetails.likes_counts>3&&albumDetails.is_liked ==1"><?php echo $this->translate('More','default'); ?>..</span>									
								</div>
							</span>						
						</span>
					</span>
					<span  class="post_comment-right">
						<a class="post_comments" ng-class="{'comented': albumDetails.is_commented==1}" href="javascript:void(0);" ng-click="enableCommentReplyMedia()"><i></i></a>
						<a class="post_comments" href="javascript:void(0);" ng-click="enableCommentReplyMedia()"><span >{{albumDetails.comment_count}} <?php echo $this->translate('comments','default'); ?></span></a>
					</span>					
					<div class="clear"></div>
					<div class="post_comment-outer" id="post_reply-media" ng-show="showReply==1">
						<div class="header-profile_image comment_profile-img">
							 <img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
							 <img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							 
						</div>
						<div class="post_comment_text post_comment_reply">
                             <div class="commentTextArea" contenteditable="true" ng-keydown="keyPressMedia($event,'Album',albumDetails.album_id);" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." id="txtMediaComment"></div>
							<div id="txtMediaCommenthashed"></div>
							<span id="media_hashed_users_Media_{{albumDetails.album_id}}" data-items=""></span>
						</div>
						<div class="clear"></div>
						<div class="post_comment_reply-butns">
							<!-- <a href="javascript:void(0);" class="default_butn_grey" id="cancel_reply" ng-click="showReply=0;removeCommentBox()">Cancel</a> -->
							<a href="javascript:void(0);" class="default_butn_violet" ng-click="postComment('Album',albumDetails.album_id)"><?php echo $this->translate('Post','default'); ?></a>
						</div>
					</div>
				</div>
				 
				<div id="comment_container_outer" ng-init="enableScrollbar()">
					<div class="post_comment-outer" ng-repeat="comments in album_comments">
						<div class="header-profile_image comment_profile-img">
							<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
							<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
							<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							 </a>
						</div>
						<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
							<span class="profile_name-comment"><a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name }}</a></span><span id="comment_text_{{$index}}">{{loadCommmentText($index,comments.comment_content)}}</span>
							<div class="comment_likes">								 
								<span class="Comment_{{comments.comment_id}}">
								<span class="tootltip_outer">
								<a href="javascript:void(0);" class="post_likes liked" ng-if="comments.islike==1" ng-click="funUnLikeAction('Comment',comments.comment_id)"><i></i></a>
								<a href="javascript:void(0)" ng-if="comments.islike == 1" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadPopupToolTip('Comment',comments.comment_id)" ng-mouseleave="unloadPopupToolTip('Comment',comments.comment_id)">{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
								<a href="javascript:void(0);" class="post_likes" ng-if="comments.islike==0" ng-click="funLikeAction('Comment',comments.comment_id)"><i></i></a>
								<a href="javascript:void(0)" ng-if="comments.islike==0"  ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadPopupToolTip('Comment',comments.comment_id)" ng-mouseleave="unloadPopupToolTip('Comment',comments.comment_id)">{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
								
								<div class="like_tooltip" ng-if="comments.likes_count>0" id="tooltip_popup_Comment_{{comments.comment_id}}" style="display:none">	
									<span ng-repeat="items in comments.likedUsers">{{items}}</span> 
									<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
									<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>
								</div>
								</span>
								</span>
								<div class="post_time noti_time comment_time "><i></i>{{comments.comment_time}}</div>
								<div class="clear"></div>
							</div>
						</div>
						<div class="post_comment_text post_comment_reply">
									<div class="comment-edit"  style="display:none" id="edit-mediacomment-outer-{{comments.comment_id}}">
										 
										 
										<div >
											<div class="commentTextArea" id="editmediacomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPressMedia($event,'Comment',comments.comment_id);">
														 
											</div>
											<div id="txtMediaEditCommenthashed_{{comments.comment_id}}"></div>
											<span id="media_hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">											 
											<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
											<a ng-click="SendMediaEditComment(comments.comment_id,'AlbumImages')" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>											 
										</div>
									</div>
								</div>
								<div class="clear"></div>
								<div >
									<div class="comment_actions">
										<a class="comment_edit" href="javascript:void(0);" ng-if="comments.user_id==profile.user_id" title="Edit" ng-click="MediaenableCommentEdit(comments.comment_id,comments.comment_content)"></a>
										<a ng-if="comments.allowedit==1" class="comment_delete" href="javascript:void(0);" title="Delete" ng-click="DeleteCommentMedia(comments.comment_id,media.group_media_id)"></a>
										<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
									</div>
								</div>
						<div class="clear"></div>
					</div>
					<div ng-if= "media.comment_count>10&&hideloadmore==0" ng-click="loadmoreCommentFromPopup(media.group_media_id)"> <a href="javascript:void(0)" class="loadmore-comments"><?php echo $this->translate('More comments','default'); ?></a></div>  	  
				</div>
			</div>
			<div class="clear"></div>
			</span>
			<span ng-if="mediaLoader ==0&&media_view=='AllImages'" class="image-popup-outer">
				<div class="post-img_preview-outer">
					<div>
						<div class="post-img_preview_nav">					 
							<div class="image_show-old">
								<a href="javascript:void(0);" ng-click="loadMedia(open_id)"><i></i></a>
							</div>					 
							<div class="clear"></div>
						</div>
						<div class="image_pop_options">
							<?php echo $this->translate('Show','default'); ?>:<ul>
								<li><a href="javascript:void(0)" ng-click="loadAllMedia(media_group_id,1)" class="active"><?php echo $this->translate('All Photos','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllGroupAlbums(media_group_id,1)"><?php echo $this->translate('Albums','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllEventAlbums(media_group_id,1)"><?php echo $this->translate('Events','default'); ?></a></li>
							</ul>
						</div>
						<div id="media_list"  style="height:500px;overflow:hidden"  ng-init="enableScrollbarMedia()" >
						<span ng-if="groupAllMediaContent.length==0"><?php echo $this->translate('No more images','default'); ?></span>
						<ul ng-if="groupAllMediaContent.length>0">
							<li ng-repeat="items in groupAllMediaContent"><a href="javascript:void(0)" ng-click="loadMedia(items.id)" >
							<img  ng-if="items.media_type=='image'" src="<?php echo $this->basePath(); ?>/public/datagd/group/{{items.group_id}}/media/{{items.files}}">
							<img ng-if="items.media_type=='youtube'" src="http://img.youtube.com/vi/{{items.video_id}}/0.jpg" />
							</a></li>
							<div class="clear"></div>
							<a href="javascript:void(0)" ng-click="LoadmoreMedia(albumDetails.group_id);" ng-if="showLoadmoreAllPhoto==1" class="media_loadmore"><?php echo $this->translate('Loadmore','default'); ?></a>
						</ul>
						</div>
					</div>		
				</div>
			</span>
			<span ng-if="mediaLoader ==0&&media_view=='AllAlbums'" class="image-popup-outer">
				<div class="post-img_preview-outer">
					<div >
						<div class="post-img_preview_nav">					 
							<div class="image_show-old">
								<a href="javascript:void(0);" ng-click="loadMedia(open_id)"><i></i></a>
							</div>					 
							<div class="clear"></div>
						</div>
						<div class="image_pop_options">
							<?php echo $this->translate('Show','default'); ?>:<ul>
								<li><a href="javascript:void(0)" ng-click="loadAllMedia(media_group_id,1)"><?php echo $this->translate('All Photos','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllGroupAlbums(media_group_id,1)" class="active"><?php echo $this->translate('Albums','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllEventAlbums(media_group_id,1)"><?php echo $this->translate('Events','default'); ?></a></li>
							</ul>
						</div>
						<div id="media_list"  style="height:500px;overflow:hidden"  ng-init="enableScrollbarMedia()">
						<span ng-if="GroupAlbumList.length==0"><?php echo $this->translate('No more albums','default'); ?></span>
						<ul ng-if="GroupAlbumList.length>0">
							<li ng-repeat="items in GroupAlbumList" class="media_album_list"><a href="javascript:void(0);"  ng-click="LoadAlbum(items.group_id,items.album_id)" >
							<img src="{{items.album_icon_url}}" />
							<span ng-if="items.albumImage_count>0" class="album_image_count">{{items.albumImage_count}}<i><?php echo $this->translate('Images','default'); ?></i></span>
							<span class="album_created_date">{{items.created_date}}</span>
							</a>
							<span class="album_title"><i ng-if="items.event_id!=0"></i>{{items.album_title}}</span>
							</li>
							<div class="clear"></div>
							<a href="javascript:void(0)" ng-click="LoadmoreGroupAlbum(media_group_id);" ng-if="showLoadmoreGroupAlbum==1" class="media_loadmore"><?php echo $this->translate('Loadmore','default'); ?></a>
						</ul>
						</div>
					</div>		
				</div>
			</span>
			<span ng-if="mediaLoader ==0&&media_view=='EventAlbums'" class="image-popup-outer">
				<div class="post-img_preview-outer">
					<div >
						<div class="post-img_preview_nav">					 
							<div class="image_show-old">
								<a href="javascript:void(0);" ng-click="loadMedia(open_id)"><i></i></a>
							</div>					 
							<div class="clear"></div>
						</div>
						<div class="image_pop_options">
							<?php echo $this->translate('Show','default'); ?>:<ul>
								<li><a href="javascript:void(0)" ng-click="loadAllMedia(media_group_id,1)"><?php echo $this->translate('All Photos','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllGroupAlbums(media_group_id,1)"><?php echo $this->translate('Albums','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllEventAlbums(media_group_id,1)" class="active"><?php echo $this->translate('Events','default'); ?></a></li>
							</ul>
						</div>
						<div id="media_list"  style="height:500px;overflow:hidden" ng-init="enableScrollbarMedia()" >
						<span ng-if="EventAlbumList.length==0"><?php echo $this->translate('No more albums','default'); ?></span>
						<ul  ng-if="EventAlbumList.length>0">
							<li ng-repeat="items in EventAlbumList" class="media_album_list"><a href="javascript:void(0);"  ng-click="LoadAlbum(items.group_id,items.album_id)" >
							<img src="{{items.album_icon_url}}" />
							<span ng-if="items.albumImage_count>0" class="album_image_count">{{items.albumImage_count}}<i><?php echo $this->translate('Images','default'); ?></i></span>
							<span class="album_created_date">{{items.created_date}}</span>
							</a>
							<span class="album_title"><i ng-if="items.event_id!=0"></i>{{items.album_title}}</span>
							</li>
							<div class="clear"></div>
							<a href="javascript:void(0)" ng-click="LoadmoreEventAlbum(media_group_id);" ng-if="showLoadmoreEventAlbum==1" class="media_loadmore"><?php echo $this->translate('Loadmore','default'); ?></a>
						</ul>
						</div>
					</div>		
				</div>
			</span>
			
		</div>
	</div>
</div>
<div class="pop_bg modal fade" id="likes_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
				<div ng-if="loadpeople==1"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"></div>
          		<div class="likes_pop-outer" ng-if="loadpeople==0">
                	<div class="like_profile-outer" ng-repeat="items in likedpeoples">
                    	<div class="like_profile-img comn_profile_img">
							<img alt="" ng-if="items.profile_photo!=null&&items.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.user_id}}/{{ items.profile_photo }}">
							<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid!=null&&items.user_fbid!='')" src="https://graph.facebook.com/{{items.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid==null||items.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
						</div>
                        <div class="like_profile-name"><a href="javascript:void(0);">{{items.user_given_name}}</a></div>
                        <a href="javascript:void(0);" class="button_small_blue like_add-friend" ng-if="items.is_friend"><?php echo $this->translate('Friends','default'); ?></a>
						<div class="like_add-friend"><a href="javascript:void(0);" class="friend_accept" ng-if="items.get_request" ng-click="acceptFriendRequest(items.user_profile_name);remove()" title="Accept request"></a>
						<a href="javascript:void(0);" remove-on-click ng-if="items.get_request" class="friend_ignore" ng-click="rejectFriendRequest(items.user_profile_name);remove()" title="Ignore Request"></a>
						</div>
						<a ng-if="items.is_requested" href="javascript:void(0);" class="button_small_grey like_add-friend"><?php echo $this->translate('Pending','default'); ?></a>
						<a href="javascript:void(0);" remove-on-click ng-if="items.is_requested!= 1 && items.get_request!= 1 && items.is_friend!= 1" class="button_small_blue like_add-friend" ng-click="sentFriendRequest(items.user_profile_name);remove()"><?php echo $this->translate('Add Friend','default'); ?></a>		 
                    </div>                  
                </div>
          </div>
          
        </div>
      </div>
    </div>
	<div class="pop_bg modal fade" id="rsvp_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
				 
          		<div class="likes_pop-outer" id="rsvplist_outer" >
                	<div class="like_profile-outer" ng-repeat="items in rsvplist">
                    	<div class="like_profile-img comn_profile_img">
							<img alt="" ng-if="items.profile_photo!=null&&items.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.user_id}}/{{ items.profile_photo }}">
							<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid!=null&&items.user_fbid!='')" src="https://graph.facebook.com/{{items.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid==null||items.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
						 
						</div>
                        <div class="like_profile-name"><a href="javascript:void(0);">{{items.user_given_name}}</a></div>
                        <a href="javascript:void(0);" class="button_small_blue like_add-friend" ng-if="items.is_friend"><?php echo $this->translate('Friends','default'); ?></a>
						<a href="javascript:void(0);" class="button_small_blue friend_accept" ng-if="items.get_request" ng-click="acceptFriendRequest(items.user_profile_name);remove()" title="Accept request"></a>
						<a href="javascript:void(0);" remove-on-click ng-if="items.get_request" class="friend_ignore" ng-click="rejectFriendRequest(items.user_profile_name);remove()" title="Ignore Request"></a>
						<a ng-if="items.is_requested" href="javascript:void(0);" class="default_butn_grey"><?php echo $this->translate('Pending','default'); ?></a>
						<a href="javascript:void(0);" remove-on-click ng-if="items.is_requested!= 1 && items.get_request!= 1 && items.is_friend!= 1 &&profile.user_id!=items.user_id" class="default_butn_blue" ng-click="sentFriendRequest(items.user_profile_name);remove()"><?php echo $this->translate('Add Friend','default'); ?></a>		
                    </div> 
					<div><a href="javascript:void(0)"  class="loadmore-comments" ng-if="rsvplist.length<=0" ><?php echo $this->translate('No members joined','default'); ?></a></div>
					<div><a href="javascript:void(0)" class="loadmore-comments" ng-click="loadRsvpList(selectedActivity,filter_by,'')" ng-if="loadmore==1"><?php echo $this->translate('Loadmore','default'); ?></a>
					 
					</div>
                </div>
          </div>
          
        </div>
      </div>
    </div>
	
	<div class="pop_bg modal fade" id="feed_edit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content feed-edit <?php echo $language_class; ?>">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
			<div id="signup_step1" ng-if="ajax_loader_feededit==1">
				<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
			</div>
			<div id="signup_step1" >
				<div id="feed_edit_error" class="error-common"></div>
				<div id="feed_edit_success" class="success-common"></div>
				<div class="step1_outer">
					<div ng-if="feedEditSystemType == 'Discussion'">
						<div class="create_status-textarea"><textarea id="editDiscussion">{{EditFeedDiscussionContent.group_discussion_content}}</textarea></div>
						<div  class="post-butns"> 
							 <a ng-click="UpdateStatus('Discussion',EditFeedDiscussionContent.group_discussion_id,EditFeedrow_count,EditFeedrow_index)" class="default_butn_violet ng-scope" href="javascript:void(0);"><?php echo $this->translate('Update Post','default'); ?></a>
						</div>
						<div class="clear"></div> 
					</div>
					<div ng-if="feedEditSystemType == 'Media'">
						<div>
							<img ng-if="EditFeedMediaContent.media_type=='image'"  src="<?php echo $this->basePath(); ?>/public/{{image_paths.group}}{{EditFeedMediaContent.media_added_group_id}}/media/{{EditFeedMediaContent.media_content}}" alt=""   />
							<img ng-if="EditFeedMediaContent.media_type=='video'" src="http://img.youtube.com/vi/{{getYouTubeIdFromURL(EditFeedMediaContent.media_content)}}/0.jpg" alt="" />
						</div>
						<div class="create_status-textarea edit_media_textarea">
						<input type="text"  placeholder="<?php echo $this->translate('Add caption','default'); ?>..." name="feed_edit_caption" id="feed_edit_caption" value="{{EditFeedMediaContent.media_caption}}" />
						</div>
						<div  class="post-butns"> 
							 <a ng-click="UpdateStatus('Media',EditFeedMediaContent.group_media_id,EditFeedrow_count,EditFeedrow_index)" class="default_butn_violet ng-scope" href="javascript:void(0);"><?php echo $this->translate('Update Post','default'); ?></a>
						</div>
						<div class="clear"></div> 
					</div>
					<div ng-if="feedEditSystemType == 'Activity'">
						<div  class="edit_event_outer"> 
							<a href="javascript:void(0)" id="enableDatepiker" style="display:block;height:0;width:0">&nbsp</a>
							<div class="event_fields-outer"> 
								<input   id="event_title_edit" type="text" placeholder="<?php echo $this->translate('Event Title','default'); ?>" value="{{EditFeedActivityContent.group_activity_title}}" /> 
							 </div> 
							 <div class="event_fields-outer"> 
								<div class="event_date-out border_radius"> 
									<div class="event_date-pick"> 
										  <i class="grey-calender"></i> 
										  <input name="event_date_edit" id="event_date_edit" type="text" value="{{EditFeedActivityContent.group_activity_start_date}}"   /> 
										 <div class="clear"></div> 
									  </div> 
									  <div class="event_time-pick"> 
										 <input name="event_time" id="event_time_edit" type="text" value="{{EditFeedActivityContent.group_activity_start_time}}" placeholder="00:00:AM" ng-model="mypost.event_time" /> 
									 </div> 
									 <div class="clear"></div> 
								 </div> 
							 </div> 
							  <div class="event_fields-outer"> 
								<div class="event_date-out border_radius"> 
									<i class="grey-location status_event_location"></i> 
									 <input class="status_event_location-text edit_location" name="event_location" id="location" type="text" placeholder="<?php echo $this->translate('Event Location','default'); ?>" value="{{EditFeedActivityContent.group_activity_location}}"  /> 
									 <div class="clear"></div> 
								 </div> 
							 </div> 
							  <div class="status_event_pin-map"> 
								<div class="event-edit-map"><div id="map-canvasedit"  ></div> </div>
								<div class="clear"></div> 
							  </div> 
							  <div class="status_event-details"> 
								<textarea name="event_description_edit" id="event_description_edit" placeholder="Event Description" class="border_radius" >{{EditFeedActivityContent.group_activity_content}}</textarea> 
							  </div> 
						 </div>  
						 <div  class="post-butns"> 
							 <a ng-click="UpdateStatus('Activity',EditFeedActivityContent.group_activity_id,EditFeedrow_count,EditFeedrow_index)" class="default_butn_violet ng-scope" href="javascript:void(0);"><?php echo $this->translate('Update Post','default'); ?></a>
						</div>
						<div class="clear"></div> 
					</div>
				</div>
			</div>
          </div>
          
        </div>
      </div>
    </div>
</div>
<div class="pop_bg modal fade" id="feed_delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
			<div id="signup_step1" ng-if="ajax_loader_feeddelte==1">
				<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
			</div>
			<div id="signup_step1" ng-if="ajax_loader_feeddelte==0">
				<div class="step1_outer">
					<div ng-if="feedDeleteSystemType == 'Discussion'">
						<?php echo $this->translate('Are you sure you want to remove this status?','default'); ?>
					</div>
					<div ng-if="feedDeleteSystemType == 'Media'">
						<?php echo $this->translate('Are you sure you want to remove this media?','default'); ?>
					</div>
					<div ng-if="feedDeleteSystemType == 'Activity'">
						<?php echo $this->translate('Are you sure you want to remove this activity?','default'); ?>
					</div>
					<div  class="post-butns"> 
					<a ng-click="RemovePost(feedDeleteSystemType,DeleteFeedrow_content_id,DeleteFeedrow_count,DeleteFeedrow_index)" class="default_butn_blue" href="javascript:void(0);"><?php echo $this->translate('Yes','default'); ?></a>
					<a ng-click="CancelRemovePost()" class="default_butn_red" href="javascript:void(0);"><?php echo $this->translate('No','default'); ?></a>
					</div>
					<div class="clear"></div> 
				</div> 
			</div>
			 
          </div>
          
        </div>
      </div>
    </div>
	<div class="pop_bg modal fade" id="report_post" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content report-spam <?php echo $language_class; ?>">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
			<div id="signup_step1" ng-if="ajax_loader_reportpost==1">
				<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
			</div>
			<div id="signup_step1" ng-if="ajax_loader_reportpost==0">
				<div class="step1_outer">
					<div class="error-common" id="report_error"></div>
					<div class="success-common" id="report_success"></div>
					<div class="select_group-type" ng-repeat="items in reasons">			 
                    	<input type="radio" name="spam_type" id="{{items.reason_id}}" value="{{items.reason_id}}" ng-click="selectReason(items.reason_id,items.reason)" ng-model="spam.reason_id">
                        <label for="{{items.reason_id}}"><i class="radio-styled"></i> <i class="group-public_black"></i>{{items.reason_locale}}</label>                       
                        <div class="clear"></div>
                    </div>
					<div class="login-field" ng-if="enableReportReason==1">
					<textarea placeholder="<?php echo $this->translate('Please type your reason','default'); ?>" ng-model="spam.otherReason"></textarea>
					</div>
					<div class="clear"></div>
					<div class="signup_button" ng-if="reportAjaxLoader==0" >                        
                         <a ng-click="sendReport(spam)" id="go_step-2" class="default_butn_blue" href="javascript:void(0);"><?php echo $this->translate('Submit','default'); ?></a>
					</div>
					<div class="signup_button" ng-if="reportAjaxLoader==1">                        
                       <img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
					</div>
                        <div class="clear"></div>
                    </div>
					<div class="clear"></div>
				</div> 
			</div>
          </div>
          
        </div>
      </div>
	  <div class="pop_bg modal fade" id="popup_delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
			<div id="signup_step1" ng-if="ajax_loader_popupdelte==1">
				<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
			</div>
			<div id="signup_step1" ng-if="ajax_loader_popupdelte==0" >
				<div class="step1_outer">
					<div class="error-common" id="errordeletePost"></div>
					<div ng-if="popUpRemoveType == 'Image'">
						<?php echo $this->translate('Are you sure you want to remove this Image?','default'); ?>
					</div>
					<div ng-if="popUpRemoveType == 'Album'">
						<?php echo $this->translate('Are you sure you want to remove this album?','default'); ?>
					</div>					 
					<div  class="post-butns">  
					<a ng-click="RemovePopupPost(popUpRemoveType,popUpRemoveContent_id)" class="default_butn_blue" href="javascript:void(0);"><?php echo $this->translate('Yes','default'); ?></a>
					<a ng-click="CancelRemovePopupPost()" class="default_butn_red" href="javascript:void(0);"><?php echo $this->translate('No','default'); ?></a>
					</div>
					<div class="clear"></div>
				</div> 
			</div>
			 
          </div>
          
        </div>
      </div>
    </div>
        </div>
        
    </div>
    
    <div class="clear"></div>
	 <div id="memberProfile_dialog" title="" style="display:none" class="common_error"></div>
	 
	<script src="<?php echo $this->basePath(); ?>/public/js/jquery.plugin.js"></script>
 <script src="<?php echo $this->basePath(); ?>/public/js/jquery.timeentry.js"></script>
<link href="<?php echo $this->basePath(); ?>/public/css/prettify.css" type="text/css" rel="stylesheet" />
<link href="<?php echo $this->basePath(); ?>/public/css/jquery.timepicker.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/public/js/prettify.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/public/js/jquery.slimscroll.js"></script>
<script src="<?php echo $this->basePath(); ?>/public/js/jquery.timepicker.js"></script>
<script type="text/javascript">
	$(window).load(function(){
	 <?php if($flashmessage!=''&&!empty($flashmessage)){
			foreach ($flashmessage as $msg){
			?>
		$("#memberProfile_dialog").html('<?php echo $msg; ?>');
		$("#memberProfile_dialog").dialog(); 
	<?php } } ?>
	 });
	var current_lat = 25.271139000000000000;
	var current_lng =55.307485000000040000;
	var enableHashing = 0;
	var str_search = ''; 
	var hashedUser = [];
	var row_count = 1;
	var media_page =1;
	var feed_page =1;
	var rsvppage=1;
	var album_page=1;
	var albumList_page =1;
	var eventalbumList_page =1;
	var post_app = angular.module('post_app',[]);
	post_app.config(function ($httpProvider) {
		$httpProvider.defaults.transformRequest = function(data){
			if (data === undefined) {
				return data;
			}
			return $.param(data);
		}
	}); 
	post_app.directive('scroller', function ($window) {
    return {
        restrict: 'A',
        link: function(scope, element, attrs) {
		  var windowEl = angular.element($window); 		  
		  var handler = function() { scope.handler();  }
		  windowEl.on('scroll', scope.$apply.bind(scope, handler));
		 
		}
		};
	});
	post_app.directive('helloMaps', function ($timeout) {
		return function (scope, elem, attrs) {
			$timeout(function(){
				var mapOptions,
				latitude = attrs.latitude,
				longitude = attrs.longitude,
				location = attrs.location,
				going = attrs.going,
				map;		  
				latitude = latitude && parseFloat(latitude, 10) || 43.074688;
				longitude = longitude && parseFloat(longitude, 10) || -89.384294;
				mapOptions = {
					zoom: 8,
					panControl: false,
					zoomControl: false,
					scaleControl: false,
					center: new google.maps.LatLng(latitude, longitude)
				};
				map = new google.maps.Map(elem[0], mapOptions);
				if(going==1){
					var marker = new google.maps.Marker({
						position: new google.maps.LatLng(latitude, longitude),
						icon: baseurl+"/public/images/map_pin-blue.svg",
						title:location
					});
				}else{
					var marker = new google.maps.Marker({
						position: new google.maps.LatLng(latitude, longitude),
						icon: baseurl+"/public/images/map_pin.svg",
						title:location
					});
				}
				// To add the marker to the map, call setMap();
				marker.setMap(map);
				google.maps.event.trigger(map, 'resize'); 
			}, 3000);
		};
    }); 
	post_app.controller('mypostController',function($scope, $http,$compile){
		$scope.frineds_count = <?php echo $friends_count; ?>;
		$scope.group_count = <?php echo $group_count; ?>;
		$scope.selectedTab = 'All';
		$scope.myprofile = <?php echo $myprofile; ?>;
		$scope.profile = {};
		$scope.profile.profile_name = '<?php echo $userinfo->user_profile_name; ?>';
		$scope.profile.user_given_name = '<?php echo $userinfo->user_given_name; ?>';
		$scope.profile.profile_photo = '<?php echo $userinfo->profile_photo; ?>';
		$scope.profile.user_id = '<?php echo $userinfo->user_id; ?>';
		$scope.current_Profile = '<?php echo $current_Profile; ?>';
		$scope.profile.user_fbid = '<?php echo $userinfo->user_fbid; ?>';
		$scope.image_paths = <?php echo json_encode($image_folders); ?>;
		$scope.media = '';
		$scope.medialike_ajaxloader = 0;
		$scope.SelectAll = function(){
			$scope.selectedTab = 'All';
			$scope.getFeeds(false);
		}
		$scope.SelectAllText = function(){
			$scope.selectedTab = 'Text';
			$scope.getFeeds(false);
		}
		$scope.SelectAllMedia = function(){
			$scope.selectedTab = 'Media';
			$scope.getFeeds(false);
		}
		$scope.SelectAllEvent = function(){
			$scope.selectedTab = 'Event';
			$scope.getFeeds(false);
		}
		$scope.getYouTubeIdFromURL = function(url){ 
			var regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]{11,11}).*/;
			var match = url.match(regExp);
			if (match) if (match.length >= 2) return match[2];
			return false;
		}
		$scope.feedAjax = 0;
		$scope.feeds_row1 = [];
		$scope.feeds_row2 = [];
		$scope.feeds_row3 = [];
		$scope.getFeeds = function(scrolling){			 
			if($scope.feedAjax ==0){
				$scope.feedAjax =1;
				if(scrolling){feed_page = feed_page+1;}else{
					feed_page = 1; 
					row_count = 1;
					$scope.feeds_row1 = [];
					$scope.feeds_row2 = [];
					$scope.feeds_row3 = [];	 
				}
				url  = baseurl+'/user/getMyFeeds';
				$http.post(url,
				{	
					profile:$scope.current_Profile,
					page:feed_page,
					type:$scope.selectedTab,					 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {	
					if(data.return_array.process_status == 'success'){		
						if(data.return_array.feeds.length>0){
							$scope.feedsAppend(data.return_array.feeds);
						}
					}else{
						$("#memberProfile_dialog").html(data.return_array.process_info);
						$("#memberProfile_dialog").dialog();						 
					}	
					$scope.feedAjax =0;					
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
					 $scope.feedAjax =0;
				});
			}
		}
		$scope.feedsAppend = function(feeds){
			var screenwidth = screen.width;
			var availablerows = 1;
			if(screenwidth<=450){
				availablerows = 1;
			}else if(screenwidth<=768){
				availablerows = 2;
			}else{
				availablerows = 3;
			}		 
			angular.forEach(feeds, function(dataset){ 
				 dataset.viewComment = 0;
				if(availablerows==1){
					$scope.feeds_row1.push(dataset);
					row_count=1;
				}else if(availablerows==2){
					if(row_count==1){
						$scope.feeds_row1.push(dataset);
					}
					if(row_count==2){
						$scope.feeds_row2.push(dataset);
					}					 
					row_count++;
					if(row_count>2){row_count=1;}
				}else{
					if(row_count==1){
						$scope.feeds_row1.push(dataset);
					}
					if(row_count==2){
						$scope.feeds_row2.push(dataset);
					}
					if(row_count==3){
						$scope.feeds_row3.push(dataset);
					}
					row_count++;
					if(row_count>3){row_count=1;}
				}			
			});			 
		}
		$scope.funLikeAction = function(system_type,content_id){
			var holder_content = $("#"+system_type+"_"+content_id).html();
			$("#"+system_type+"_"+content_id).html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
			if(system_type == 'Media'){
				//$("#"+system_type+"_modelwindow").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
				$scope.medialike_ajaxloader = 1;
			}
			if(system_type == 'Image'){
				//$("#"+system_type+"_modelwindow").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
				$scope.medialike_ajaxloader = 1;
			}
			if(system_type == 'Album'){
				//$("#"+system_type+"_modelwindow").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
				$scope.medialike_ajaxloader = 1;
			}
			url  = baseurl+'/like/likes';				 
			$http.post(url,
			{	
				system_type:system_type,content_id:content_id,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.like_count>0){
						var likecontent = '';
						likecontent += '<span class="tootltip_outer">';
						likecontent += '<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction(\''+system_type+'\','+content_id+')" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers(\''+system_type+'\','+content_id+','+data.return_array.like_count+',1)" ng-mouseover="loadToolTip(\''+system_type+'\','+content_id+')" ng-mouseout="unloadToolTip(\''+system_type+'\','+content_id+')">'+data.return_array.like_count+' <?php echo $this->translate('likes','default'); ?></a>';
						likecontent += '<div class="like_tooltip" id="tooltip_'+system_type+'_'+content_id+'" style="display:none">'
							for(i=0;i<data.return_array.liked_users.length;i++){
								likecontent += '<span>'+data.return_array.liked_users[i]+'</span>';
							}
							if(data.return_array.like_count>3){
								likecontent += '<span><?php echo $this->translate('More','default'); ?>..</span>';
							}
						likecontent += '</div></span>';
						$("."+system_type+"_"+content_id).html($compile(likecontent)($scope)) ;
						
					}else{
						$("."+system_type+"_"+content_id).html($compile('<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction(\''+system_type+'\','+content_id+')" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers(\''+system_type+'\','+content_id+','+data.return_array.like_count+',1)" title="'+data.return_array.liked_users+'">0 <?php echo $this->translate('likes','default'); ?></a>')($scope)) ;
					}
					if(system_type == 'Media'){			
						$scope.medialike_ajaxloader = 0;
						$scope.media.likes_counts = data.return_array.like_count;
						$scope.media.is_liked = 1;
						$scope.media.likedUsers = data.return_array.liked_users;						
					}
					if(system_type == 'Image'){			
						$scope.medialike_ajaxloader = 0;
						$scope.media.likes_counts = data.return_array.like_count;
						$scope.media.is_liked = 1;
						$scope.media.likedUsers = data.return_array.liked_users;						
					}
					if(system_type == 'Album'){			
						$scope.medialike_ajaxloader = 0;
						$scope.albumDetails.likes_counts = data.return_array.like_count;
						$scope.albumDetails.is_liked = 1;
						$scope.albumDetails.likedUsers = data.return_array.liked_users;						
					}
					
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();
				$("#"+system_type+"_"+content_id).html($compile(holder_content)($scope));					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});			 
		}
		$scope.funUnLikeAction = function(system_type,content_id){
			var holder_content = $("#"+system_type+"_"+content_id).html();
			$("#"+system_type+"_"+content_id).html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
			if(system_type == 'Media'){
				$scope.medialike_ajaxloader = 1;
			}
			if(system_type == 'Image'){
				//$("#"+system_type+"_modelwindow").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
				$scope.medialike_ajaxloader = 1;
			}
			if(system_type == 'Album'){
				//$("#"+system_type+"_modelwindow").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
				$scope.medialike_ajaxloader = 1;
			}
			url  = baseurl+'/like/unlikes';				 
			$http.post(url,
			{	
				system_type:system_type,content_id:content_id,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.like_count>0){
						var likecontent = '';
						likecontent += '<span class="tootltip_outer">';
						likecontent += '<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction(\''+system_type+'\','+content_id+')" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers(\''+system_type+'\','+content_id+','+data.return_array.like_count+',1)" ng-mouseover="loadToolTip(\''+system_type+'\','+content_id+')" ng-mouseout="unloadToolTip(\''+system_type+'\','+content_id+')">'+data.return_array.like_count+' <?php echo $this->translate('likes','default'); ?></a>';
						likecontent += '<div class="like_tooltip" id="tooltip_'+system_type+'_'+content_id+'" style="display:none">'
							for(i=0;i<data.return_array.liked_users.length;i++){
								likecontent += '<span>'+data.return_array.liked_users[i]+'</span>';
							}
							if(data.return_array.like_count>2){
								likecontent += '<span><?php echo $this->translate('More','default'); ?>..</span>';
							}
						likecontent += '</div></span>';
						$("."+system_type+"_"+content_id).html($compile(likecontent)($scope)) ;
					}else{
						$("."+system_type+"_"+content_id).html($compile('<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction(\''+system_type+'\','+content_id+')" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers(\''+system_type+'\','+content_id+','+data.return_array.like_count+',1)" title="'+data.return_array.liked_users+'">0 <?php echo $this->translate('likes','default'); ?></a>')($scope)) ;
					}
					if(system_type == 'Media'||system_type == 'Image'){
						$scope.medialike_ajaxloader = 0;
						$scope.media.likes_counts = data.return_array.like_count;
						$scope.media.is_liked =0;
						$scope.media.likedUsers = data.return_array.liked_users;		 
					}
					if(system_type == 'Album'){
						$scope.medialike_ajaxloader = 0;
						$scope.albumDetails.likes_counts = data.return_array.like_count;
						$scope.albumDetails.is_liked =0;
						$scope.albumDetails.likedUsers = data.return_array.liked_users;		 
					}
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();
				$("#"+system_type+"_"+content_id).html($compile(holder_content)($scope));					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
			$('[data-toggle="tooltip"]').tooltip();
		}
		$scope.loadpeople = 0;
		$scope.likedpeoples = [];
		$scope.LoadLikedUsers = function(system_type,content_id,like_count,is_liked){
			 $scope.likedpeoples = [];
			 if(like_count ==1&&is_liked==1){
				return true;
			 }
			 if(like_count > 0){
				$scope.loadpeople = 1;
				$('#likes_popup').modal();				 
				url  = baseurl+'/like/userslist';				 
				$http.post(url,
				{	
					system_type:system_type,content_id:content_id,		 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$scope.loadpeople = 0;
						$scope.likedpeoples = data.return_array.liked_users;
					}else{
						$("#memberProfile_dialog").html(data.return_array.process_info);
						$("#memberProfile_dialog").dialog();
					$("#"+system_type+"_"+content_id).html($compile(holder_content)($scope));					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			 }
		}		 	
		$scope.sentFriendRequest  = function(user){				 
			url  = baseurl+'/user/sentFriendRequest/'+user;
			$http({
			  method: 'POST',
			  url: url
			}).success(function(data, status, headers, config) {			 
				if(data.return_array.process_info==''){
				 ;
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.rejectFriendRequest  = function(user){			 
			url  = baseurl+'/user/rejectFriendRequest/'+user;
			$http({
			  method: 'POST',
			  url: url
			}).success(function(data, status, headers, config) {				 
				if(data.return_array.process_info==''){
					;
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.acceptFriendRequest  = function(user){			 
			url  = baseurl+'/user/acceptFriendRequest/'+user;
			$http({
			  method: 'POST',
			  url: url
			}).success(function(data, status, headers, config) {				 
				if(data.return_array.process_info==''){
					 ;
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.commentText='';
		$scope.commentTextArray = [];
		$scope.LoadCommentWindow = function(system_type,content_id,row_id,row_index){
			hashedUser=[];			
			var commentForm = '';
			commentForm += '<div class="post_comment-outer" id="post_reply">';
            commentForm += '<div class="header-profile_image comment_profile-img">';
			if($scope.profile.profile_photo!=''&&$scope.profile.profile_photo!=null){
               commentForm += '<img  src="<?php echo $this->basePath(); ?>/public/datagd/profile/'+$scope.profile.user_id+'/'+$scope.profile.profile_photo+'">';
			}else if(($scope.profile.profile_photo==''||$scope.profile.profile_photo==null)&&($scope.profile.user_fbid!=''&&$scope.profile.user_fbid!=null)){
				 commentForm += '<img alt="" src="https://graph.facebook.com/'+$scope.profile.user_fbid+'/picture?width=66&&height=66">';
			}else{ commentForm += '<img  src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">';}
            commentForm += '</div>';
            commentForm += '<div class="post_comment_text post_comment_reply">';
            commentForm += '<div class="commentTextArea" id="commentText_'+system_type+'_'+content_id+'"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,\''+system_type+'\','+content_id+');"></div><div id="hashingUsers_'+system_type+'_'+content_id+'"></div>';
            commentForm += '</div>';
            commentForm += '<div class="clear"></div>';
            commentForm += '<div class="post_comment_reply-butns">';
            commentForm += '<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment(\''+system_type+'\','+content_id+','+row_id+','+row_index+')"><?php echo $this->translate('Post','default'); ?></a>';
            commentForm += '</div>';
            commentForm += '</div>';
			$("#comment_"+system_type+'_'+content_id).html($compile(commentForm)($scope));
		}
		$scope.keyPress = function(event,system_type,content_id){			
			if(event.which == 50){
				if(event.shiftKey) {					
					enableHashing = 1;
					str_search ='';
				}
			}
			if(enableHashing){ 
				if(event.which != 50){
					str_search = str_search+String.fromCharCode(event.keyCode);
				}
				$scope.getFriends(str_search,system_type,content_id);
			}
		}
		$scope.getFriends =function(str_search,system_type,content_id){
			url  = baseurl+'/user/getFriends';
			$http.post(url,
			{	
				str_search:str_search,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.arrFriends.length>0){
						var hasusers = '<ul class="hashUserList">';
						angular.forEach(data.return_array.arrFriends, function(dataset){				
							hasusers+= '<li><a href="javascript:void(0)" ng-click="addTOhashed(\''+system_type+'\','+content_id+',\''+dataset.user_profile_name+'\','+dataset.user_id+',\''+dataset.user_given_name+'\')">';
							if(dataset.profile_photo!=''&&dataset.profile_photo!=null){
							   hasusers += '<img  src="<?php echo $this->basePath(); ?>/public/datagd/profile/'+dataset.user_id+'/'+dataset.profile_photo+'">';
							 }else if((dataset.profile_photo==''||dataset.profile_photo==null)&&(dataset.user_fbid!=''&&dataset.user_fbid!=null)){
									hasusers += '<img alt="" src="https://graph.facebook.com/'+dataset.user_fbid+'/picture?width=66&&height=66">';
							 }else{ hasusers += '<img  src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">';}
							hasusers += dataset.user_given_name;
							hasusers+= '</a>';
							hasusers+= '</li>';
						});
						hasusers+= '</ul>';
						$("#hashingUsers_"+system_type+"_"+content_id).html($compile(hasusers)($scope));
					}else{
						$("#hashingUsers_"+system_type+"_"+content_id).html('');
						str_search = '';
						enableHashing=0;
					}						
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.addTOhashed = function(system_type,content_id,profilename,user_id,user_given_name){ 
			if(system_type=='Comment'){
				commentText=$("#editcomment_text_"+content_id).html();
				str_search = str_search.toLowerCase();
				text = commentText.replace('@'+str_search,'<a class="hashed_user" id="hashed_user_'+user_id+'" contentEditable="false"  href="<?php echo $this->basePath(); ?>/'+profilename+'">'+user_given_name+'</a>&nbsp;'); 
				$("#editcomment_text_"+content_id).html(text);
				$("#hashingUsers_"+system_type+"_"+content_id).html('');
				$("#hashingUsers_"+system_type+"_"+content_id).focus();
				var selectedhashusers = $("#hashed_users_"+system_type+"_"+content_id).attr("data-items");
				if(selectedhashusers!=''){
					selectedhashusers=selectedhashusers+'.'+user_id;
				}else{selectedhashusers=user_id;}
				$("#hashed_users_"+system_type+"_"+content_id).attr("data-items",selectedhashusers);			 
				//hashedUser.push(user_id);
				str_search = '';
				enableHashing=0;
			}else{
				commentText=$("#commentText_"+system_type+'_'+content_id).html();
				str_search = str_search.toLowerCase();
				text = commentText.replace('@'+str_search,'<a class="hashed_user" id="hashed_user_'+user_id+'" contentEditable="false"  href="<?php echo $this->basePath(); ?>/'+profilename+'">'+user_given_name+'</a>&nbsp;'); 
				$("#commentText_"+system_type+'_'+content_id).html(text);
				$("#hashingUsers_"+system_type+"_"+content_id).html('');
				$("#hashingUsers_"+system_type+"_"+content_id).focus();
				var selectedhashusers = $("#hashed_users_"+system_type+"_"+content_id).attr("data-items");
				if(selectedhashusers!=''){
					selectedhashusers=selectedhashusers+'.'+user_id;
				}else{selectedhashusers=user_id;}
				$("#hashed_users_"+system_type+"_"+content_id).attr("data-items",selectedhashusers);			 
				//hashedUser.push(user_id);
				str_search = '';
				enableHashing=0;
			}
		}
		$scope.RemoveCommentWindow = function(system_type,content_id){
			$("#comment_"+system_type+'_'+content_id).html('');
			hashedUser=[];
			str_search = '';
			enableHashing=0;
		}		 
		$scope.SendComment = function(system_type,content_id,row_id,row_index){ 
			var buttn_content =  $("#comment_"+system_type+'_'+content_id+" .post_comment_reply-butns").html();
			$("#comment_"+system_type+'_'+content_id+" .post_comment_reply-butns").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif">');			 
			$scope.commentText=$("#commentText_"+system_type+'_'+content_id).html();
			var selectedhashusers = $("#hashed_users_"+system_type+"_"+content_id).attr("data-items");
			hashedUser = selectedhashusers.split('.');
			for(i=0;i<hashedUser.length;i++){
				var term = 'hashed_user_'+hashedUser[i];
				var index = $scope.commentText.indexOf(term);
				if(index == -1){
					hashedUser.splice( i, 1 );		
				}
			}
			if($scope.commentText!=''){
				url  = baseurl+'/comment/comments';
				$http.post(url,
				{	
					system_type:system_type,content_id:content_id,txt_comment:$scope.commentText,hashedUser:hashedUser		 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$("#commentText_"+system_type+'_'+content_id).html('');
						//$("#comment_"+system_type+'_'+content_id).html('');		
						var bt_content = '<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment(\''+system_type+'\','+content_id+','+row_id+','+row_index+')"><?php echo $this->translate('Post','default'); ?></a>';
						$("#comment_"+system_type+'_'+content_id+" .post_comment_reply-butns").html($compile(bt_content)($scope));
						//$scope.LoadCommentList(system_type,content_id,row_id,row_index,1);
						var newcomment = [];
						newcomment['comment_content'] = $scope.commentText;
						newcomment['comment_id'] = data.return_array.comment_id;
						newcomment['comment_time'] = '0m';
						newcomment['user_given_name'] = $scope.profile.user_given_name;
						newcomment['user_id'] = $scope.profile.user_id;
						newcomment['user_register_type'] = '';
						newcomment['user_fbid'] = $scope.profile.user_fbid;
						newcomment['profile_photo'] = $scope.profile.profile_photo;
						newcomment['liked_users'] = 0;
						newcomment['likes_count'] = 0;
						newcomment['islike'] = 0;						
						newcomment['user_profile_name'] = $scope.profile.user_profile_name;
						newcomment['allowedit'] = 1;						
						if(row_id==1){
							$scope.feeds_row1[row_index].content.is_commented = 1;							
							$scope.feeds_row1[row_index].content.comment_counts = data.return_array.comment_count;						
							$scope.feeds_row1[row_index].content.comments.unshift(newcomment);
						}
						if(row_id==2){
							$scope.feeds_row2[row_index].content.is_commented = 1;
							$scope.feeds_row2[row_index].content.comment_counts = data.return_array.comment_count;
							$scope.feeds_row2[row_index].content.comments.unshift(newcomment);							 
						}
						if(row_id==3){
							$scope.feeds_row3[row_index].content.is_commented = 1;
							$scope.feeds_row3[row_index].content.comment_counts = data.return_array.comment_count;
							$scope.feeds_row3[row_index].content.comments.unshift(newcomment);							 
						}
						hashedUser=[];
					}else{
						$("#memberProfile_dialog").html(data.return_array.process_info);
						$("#memberProfile_dialog").dialog();
					}	 			     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}else{				 
				$("#memberProfile_dialog").html("<?php echo $this->translate('Please add some content before submitting','default'); ?>");
				$("#memberProfile_dialog").dialog();
				var bt_content = '<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment(\''+system_type+'\','+content_id+','+row_id+','+row_index+')"><?php echo $this->translate('Post','default'); ?></a>';
				$("#comment_"+system_type+'_'+content_id+" .post_comment_reply-butns").html($compile(bt_content)($scope));
			}
		}
		$scope.LoadCommentList = function(system_type,content_id,rowid,rowindex,page){ 
			hashedUser=[];
			if(page=1){
				if(rowid==1){
					if($scope.feeds_row1[rowindex].viewComment==1){
						$scope.feeds_row1[rowindex].viewComment = 0;
					}else{
						$scope.feeds_row1[rowindex].viewComment = 1;
					}					 
				}
				if(rowid==2){
					if($scope.feeds_row2[rowindex].viewComment==1){
						$scope.feeds_row2[rowindex].viewComment = 0;
					}else{
						$scope.feeds_row2[rowindex].viewComment = 1;
					}					 
				}
				if(rowid==3){
					if($scope.feeds_row3[rowindex].viewComment==1){
						$scope.feeds_row3[rowindex].viewComment = 0;
					}else{
						$scope.feeds_row3[rowindex].viewComment = 1;
					}					 
				}
			}
			 url  = baseurl+'/comment/getComments';
			 $http.post(url,
			 {	
				system_type:system_type,content_id:content_id,page:page,		 
			 },
			 {headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			 ).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$("#comment_"+system_type+"_list"+content_id).addClass("open");
					if(rowid==1){
						if(page==1){
							$scope.feeds_row1[rowindex].content.comments = data.return_array.comments;
							$scope.feeds_row1[rowindex].content.comment_page= page;
						}else{
							 
							angular.forEach(data.return_array.comments, function(dataset){	
								$scope.feeds_row1[rowindex].content.comments.push(dataset);
							});
							 
							$scope.feeds_row1[rowindex].content.comment_page= page;
						}					
					}
					if(rowid==2){
						if(page==1){
							$scope.feeds_row2[rowindex].content.comments = data.return_array.comments;
							$scope.feeds_row2[rowindex].content.comment_page= page;
						}else{
							angular.forEach(data.return_array.comments, function(dataset){	
								$scope.feeds_row2[rowindex].content.comments.push(dataset);
							});
							$scope.feeds_row2[rowindex].content.comment_page= page;
						}					
					}
					if(rowid==3){
						if(page==1){
							$scope.feeds_row3[rowindex].content.comments = data.return_array.comments;
							$scope.feeds_row3[rowindex].content.comment_page= page;
						}else{
							angular.forEach(data.return_array.comments, function(dataset){	
								$scope.feeds_row3[rowindex].content.comments.push(dataset);
							});
							$scope.feeds_row3[rowindex].content.comment_page= page;
						}					
					}
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();					 				
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});			
		}
		$scope.showCommentText = function(content,id){
			$("#comment_content_text_"+id).html(content);
		}
		$scope.mediaLoader = 0;		
		$scope.media_comments = [];
		$scope.media = '';
		$scope.open_id = '';
		$scope.media_view = 'Images';
		$scope.loadMedia = function(media_id){ 
		$scope.open_id = media_id;
		$scope.commenteditEnableList =[];
		hashedUser=[];
		$(".comment-edit").hide();
			str_search = '';
			enableHashing=0;
			$("#txtMediaComment").html('');
			$scope.medialist = 0;
			url  = baseurl+'/groups/getMedia';
			 $http.post(url,
			 {	
				media_id:media_id,		 
			 },
			 {headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			 ).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.mediaLoader = 0;
					$scope.media_comments = data.return_array.comments;
					$scope.media =  data.return_array.group_media;
					if($scope.media.media_type=='video'){	 
						$scope.loadVideoContent($scope.media.media_content);	
						$("#video_content").show();
					}else{
						$("#video_content").html('');
						$("#video_content").hide();
					}					
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();				 				
				}				     
			 }).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});		 
		}
		$scope.loadYoutubeVideo = function(video_id){
			 $("#video_content").html('<iframe style="overflow:hidden;height:100%;width:100%" width="100%" height="100%" src="http://www.youtube.com/embed/'+video_id+'" frameborder="0" allowfullscreen></iframe>');
		}
		$scope.loadVideoContent = function(videoContent){ 
			var video_id = $scope.getYouTubeIdFromURL(videoContent);
			if(video_id!=''){ 
				$scope.loadYoutubeVideo(video_id);
			}
		}
		$scope.enableScrollbar = function(){
			$('#comment_container_outer').slimScroll({
				color: '#00f'
			});
		}
		$scope.commentPage =2;
		$scope.hideloadmore =0;
		$scope.showReply = 1;
		$scope.enableCommentReplyMedia= function(){
			if($scope.showReply ==1){
				$scope.showReply = 0;
			}else{
				$scope.showReply = 1;
			}
		}
		$scope.txtMediaComment = '';
		$scope.loadmoreCommentFromPopup = function(media_id){
			url  = baseurl+'/comment/getComments';
			$http.post(url,
			{	
				system_type:'Media',content_id:media_id,page:$scope.commentPage,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
			if(data.return_array.process_status == 'success'){
				$scope.media_comments = $scope.media_comments.concat(data.return_array.comments);
				$scope.commentPage = $scope.commentPage+1;
				if(data.return_array.comments.length<=0){
					$scope.hideloadmore =1;
				}
			}else{
				$("#memberProfile_dialog").html(data.return_array.process_info);
				$("#memberProfile_dialog").dialog();				 				
			}				     
			}).error(function(data, status, headers, config) {
			// alert("Error occured. Please try again");
			});
		}
		$scope.removeCommentBox = function(){  
			$scope.showReply = 0;
			$("#txtMediaCommenthashed").html('');
			hashedUser=[];
			str_search = '';
			enableHashing=0;
			$("#txtMediaComment").html('');
			//$("#post_reply-media").hide();
		}
		$scope.keyPressMedia = function(event,system_type,content_id){			
			if(event.which == 50){
				if(event.shiftKey) {					
					enableHashing = 1;
					str_search ='';
				}
			}
			if(enableHashing){ 
				if(event.which != 50){
					str_search = str_search+String.fromCharCode(event.keyCode);
				}
				$scope.getFriendsMedia(str_search,system_type,content_id);
			}
		}
		$scope.getFriendsMedia =function(str_search,system_type,content_id){
			url  = baseurl+'/user/getFriends';
			$http.post(url,
			{	
				str_search:str_search,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.arrFriends.length>0){
						var hasusers = '<ul class="hashUserList">';
						angular.forEach(data.return_array.arrFriends, function(dataset){				
							hasusers+= '<li><a href="javascript:void(0)" ng-click="addTOhashedMedia(\''+system_type+'\','+content_id+',\''+dataset.user_profile_name+'\','+dataset.user_id+',\''+dataset.user_given_name+'\')">';
							if(dataset.profile_photo!=''&&dataset.profile_photo!=null){
							   hasusers += '<img  src="<?php echo $this->basePath(); ?>/public/datagd/profile/'+dataset.user_id+'/'+dataset.profile_photo+'">';
							 }else if((dataset.profile_photo==''||dataset.profile_photo==null)&&(dataset.user_fbid!=''&&dataset.user_fbid!=null)){
									hasusers += '<img alt="" src="https://graph.facebook.com/'+dataset.user_fbid+'/picture?width=66&&height=66">';
							 }else{ hasusers += '<img  src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">';}
							hasusers += dataset.user_given_name;
							hasusers+= '</a>';
							hasusers+= '</li>';
						});
						hasusers+= '</ul>';
						if(system_type=='Comment'){
							$("#txtMediaEditCommenthashed_"+content_id).html($compile(hasusers)($scope));
						}else{$("#txtMediaCommenthashed").html($compile(hasusers)($scope));}
						
					}else{
						$("#txtMediaCommenthashed").html('');
						str_search = '';
						enableHashing=0;
					}						
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.addTOhashedMedia = function(system_type,content_id,profilename,user_id,user_given_name){ 
			if(system_type=='Comment'){
				commentText=$("#editmediacomment_text_"+content_id).html();
				str_search = str_search.toLowerCase();
				text = commentText.replace('@'+str_search,'<a class="hashed_user" id="hashed_user_'+user_id+'" contentEditable="false"  href="<?php echo $this->basePath(); ?>/'+profilename+'">'+user_given_name+'</a>&nbsp;'); 
				$("#editmediacomment_text_"+content_id).html(text);
				$("#txtMediaEditCommenthashed_"+content_id).html('');
				var selectedhashusers = $("#media_hashed_users_"+system_type+"_"+content_id).attr("data-items");
				if(selectedhashusers!=''){
					selectedhashusers=selectedhashusers+'.'+user_id;
				}else{selectedhashusers=user_id;}
				$("#media_hashed_users_"+system_type+"_"+content_id).attr("data-items",selectedhashusers);			 
				//hashedUser.push(user_id);
				str_search = '';
				enableHashing=0;
			}else{
				commentText=$("#txtMediaComment").html();
				str_search = str_search.toLowerCase();
				text = commentText.replace('@'+str_search,'<a class="hashed_user" id="hashed_user_'+user_id+'" contentEditable="false"  href="<?php echo $this->basePath(); ?>/'+profilename+'">'+user_given_name+'</a>&nbsp;'); 
				$("#txtMediaComment").html(text);
				$("#txtMediaCommenthashed").html('');
				var selectedhashusers = $("#media_hashed_users_"+system_type+"_"+content_id).attr("data-items");
				if(selectedhashusers!=''){
					selectedhashusers=selectedhashusers+'.'+user_id;
				}else{selectedhashusers=user_id;}
				$("#media_hashed_users_"+system_type+"_"+content_id).attr("data-items",selectedhashusers);			 
				//hashedUser.push(user_id);
				str_search = '';
				enableHashing=0;
			}
		}
		$scope.loadCommmentText = function(arrayIndex,commenttext){
			 $('#comment_text_'+arrayIndex).html(commenttext);
		}
		$scope.postComment = function(type,media_id){
			$scope.txtMediaComment = $("#txtMediaComment").html();
			if($scope.txtMediaComment!=''){
			url  = baseurl+'/comment/comments';
				$http.post(url,
				{	
					system_type:type,content_id:media_id,txt_comment:$scope.txtMediaComment,hashedUser:hashedUser,	 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						hashedUser=[];
						$scope.media.is_commented = 1;
						$scope.media.comment_count = $scope.media.comment_count;
						var newcomment = [];
						newcomment['likes_count'] = 0;
						newcomment['islike'] = 0;
						newcomment['comment_content'] = $scope.txtMediaComment;						
						newcomment['comment_id'] = data.return_array.comment_id;
						newcomment['comment_time'] = 'just now';
						newcomment['user_given_name'] = $scope.profile.user_given_name;
						newcomment['user_id'] = $scope.profile.user_id;
						newcomment['user_register_type'] = '';
						newcomment['user_fbid'] = $scope.profile.user_fbid;
						newcomment['profile_photo'] = $scope.profile.profile_photo;
						newcomment['likedUsers'] = [];
						newcomment['user_profile_name'] = $scope.profile.profile_name;
						newcomment['allowedit'] = 1;						 
						if(type=='Image'){
							$scope.media_comments.unshift(newcomment);
						}else{
							$scope.album_comments.unshift(newcomment);
						}
						 
						$scope.txtMediaComment = '';	
						$scope.showReply = 0;	
						$("#txtMediaComment").val('');
						$("#txtMediaComment").html('');
						$scope.showReply=0; 
						$scope.removeCommentBox()
						$scope.media.comment_count = ($scope.media.comment_count)*1+1;	
						
					}else{
						$("#memberProfile_dialog").html(data.return_array.process_info);
						$("#memberProfile_dialog").dialog();
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}else{
				$("#memberProfile_dialog").html("<?php echo $this->translate('Please add some content before submitting','default'); ?>");
				$("#memberProfile_dialog").dialog();
			}
		}
		$scope.mediaLoader = 0;
		$scope.media = '';
		$scope.media_comments = [];	
		$scope.open_id = '';
		$scope.media_view = 'Images';
		$scope.loadMedia = function(item_id){			
			$scope.media_view = 'Images';
			$scope.mediaLoader = 1;
			$scope.open_id = item_id;
			hashedUser=[];
			$scope.commenteditEnableList =[];
			$(".comment-edit").hide();
			str_search = '';
			enableHashing=0;
			$("#txtMediaComment").html('');
			$scope.medialist = 0;
			url  = baseurl+'/groups/getMedia';
			$http.post(url,
			{		
				item_id:item_id,	
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.mediaLoader = 0;
					$scope.media_comments = data.return_array.comments;
					$scope.media =  data.return_array.group_media;
					var media_content = data.return_array.group_media.allMediafiles;
					var index_element = 0;
					angular.forEach(media_content, function(dataset){ 
						if(dataset == item_id){
							if(index_element+1<media_content.length)
							$scope.media.next_id = media_content[index_element+1];
							else{
								$scope.media.next_id =media_content[0];
							}
							if(index_element==0){ 
								$scope.media.prev_id = media_content[media_content.length-1];
							}else{
								$scope.media.prev_id = media_content[index_element-1];
							}							 
						}
						index_element++;
					});
						 
					if($scope.media.media_type=='youtube'){
						var video_id = $scope.getYouTubeIdFromURL($scope.media.media_file); 
						if(video_id!=''){ 
							showYoutubeVideo(video_id);
						}
						$("#video_content").show();
						
						
						//$scope.loadVideoContent($scope.media.media_file);	
						
					}else{
						$("#video_content").html('');
						$("#video_content").hide();
					}
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();							 				
				}				     
			 }).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			 });
			 
		}
		
		$scope.enableScrollbarMedia = function(){
			 $('#media_list').slimScroll({
				color: '#00f'
			});
		}
		$scope.LoadmoreMedia = function(group_id){
			media_page = media_page+1;
			$scope.loadAllMedia(group_id,media_page);
		}
		$scope.groupAllMediaContent = [];
		$scope.medialist = 0;
		$scope.showLoadmore = 1;
		$scope.albumDetails = [];
		$scope.album_comments = [];
		$scope.LoadAlbum = function(group_id,album_id){  
			$scope.media_group_id =group_id;
			if(album_id!=0&&album_id!=''&&album_id!=null){
				album_page = 1;
				$scope.mediaLoader = 1;
				$scope.media_view = 'AlbumImages';
				url  = baseurl+'/groups/getAlbumMedia';
				$http.post(url,
				{	
					page:album_page,
					group_id:group_id,
					album_id:album_id,
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					$scope.mediaLoader = 0;
					if(data.return_array.process_status == 'success'){
						$scope.albumDetails = data.return_array.group_album;
						$scope.album_comments = data.return_array.comments;
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();	
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}else{
				$scope.loadAllMedia(group_id,1);
			}
		}
		$scope.LoadmoreAlbum = function(group_id,album_id){
			$scope.media_group_id =group_id;
			album_page = album_page+1;
			$scope.media_view = 'AlbumImages';
			url  = baseurl+'/groups/getAlbumMedia';
			$http.post(url,
			{	
				page:album_page,
				group_id:group_id,
				album_id:album_id,
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.group_album.length>0){
						if(data.return_array.group_album.media_files.length>0){
							$scope.albumDetails.media_files = $scope.albumDetails.media_files.concat(data.return_array.group_album.media_files); 
							if(data.return_array.group_album.media_files.length<10){$scope.showLoadmore = 0;}
						}else{$scope.showLoadmore = 0;}
					}else{$scope.showLoadmore = 0;}					
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();	
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.showLoadmoreAllPhoto = 0 ;
		$scope.media_group_id = '';
		$scope.loadAllMedia = function(group_id,page){
			$scope.media_group_id =group_id;
			$scope.showLoadmoreAllPhoto =1;
			media_page = page;
			$scope.mediaLoader = 1;
			$scope.media_view = 'AllImages';
			url  = baseurl+'/groups/getAllMedia';
			$http.post(url,
				{	
					page:page,
					group_id:group_id 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					$scope.mediaLoader = 0;
					if(data.return_array.process_status == 'success'){		
						if(data.return_array.group_media.length>0){
							if(data.return_array.group_media.length<10)$scope.showLoadmoreAllPhoto = 0;
							if(media_page>1){
								$scope.groupAllMediaContent= $scope.groupAllMediaContent.concat(data.return_array.group_media);
							}else{							
								$scope.groupAllMediaContent=data.return_array.group_media;
							}
							 							  
						}							
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();				
						 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
		}
		$scope.GroupAlbumList = [];
		$scope.showLoadmoreGroupAlbum =1;
		$scope.loadAllGroupAlbums = function(group_id,page){
			$scope.media_group_id =group_id;
			albumList_page = page;
			$scope.media_view = 'AllAlbums';
			$scope.mediaLoader = 1;
			url  = baseurl+'/groups/getAllGroupAlbums';
			$http.post(url,
			{	
				page:page,
				group_id:group_id 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				$scope.mediaLoader = 0;
				if(data.return_array.process_status == 'success'){		
					if(data.return_array.album_content.length>0){
						if(data.return_array.album_content.length<10)$scope.showLoadmoreGroupAlbum = 0;
						if(albumList_page>1){
							$scope.GroupAlbumList= $scope.GroupAlbumList.concat(data.return_array.album_content);
						}else{							
							$scope.GroupAlbumList=data.return_array.album_content;
						}
													  
					}							
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();				
					 
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
			
		}
		$scope.LoadmoreGroupAlbum = function(group_id){
			albumList_page = albumList_page+1;
			$scope.loadAllGroupAlbums(group_id,albumList_page);
		}
		$scope.EventAlbumList = [];
		$scope.showLoadmoreEventAlbum =1;
		$scope.loadAllEventAlbums= function(group_id,page){
			$scope.media_group_id =group_id;
			eventalbumList_page = page;
			$scope.media_view = 'EventAlbums';
			$scope.mediaLoader = 1;
			url  = baseurl+'/groups/getAllEventAlbums';
			$http.post(url,
			{	
				page:page,
				group_id:group_id 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				$scope.mediaLoader = 0;
				if(data.return_array.process_status == 'success'){		
					if(data.return_array.album_content.length>0){
						if(data.return_array.album_content.length<10)$scope.showLoadmoreEventAlbum = 0;
						if(albumList_page>1){
							$scope.EventAlbumList= $scope.EventAlbumList.concat(data.return_array.album_content);
						}else{							
							$scope.EventAlbumList=data.return_array.album_content;
						}							  
					}							
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();				
					 
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.LoadmoreEventAlbum = function(group_id){
			eventalbumList_page = eventalbumList_page+1;
			$scope.loadAllGroupAlbums(group_id,eventalbumList_page);
		}
		$scope.QuitRSVP = function(activity_id,row_id,row_count){
			url  = baseurl+'/activity/quitactivity';
			$http.post(url,
			{	
				activity_id:activity_id,					 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){		
					if(row_id == 1){
						$scope.feeds_row1[row_count].content.is_going = 0;
					}
					if(row_id == 2){
						$scope.feeds_row2[row_count].content.is_going = 0;
					}
					if(row_id == 3){
						$scope.feeds_row3[row_count].content.is_going = 0;
					} 
					var count_rsvp = $("#activityrsvpcount_"+activity_id).text();
					count_rsvp = (count_rsvp*1)-1;
					$("#map_Activity_"+activity_id).html($compile('<div class="google-map" hello-maps="" latitude="'+data.return_array.activity.group_activity_location_lat+'" longitude="'+data.return_array.activity.group_activity_location_lng+'"  location="'+data.return_array.activity.group_activity_location+'" going="'+data.return_array.activity.is_going+'"></div>')($scope));
					$("#activityrsvpcount_"+activity_id).text(count_rsvp);
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();						 
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.JoinRSVP = function(activity_id,row_id,row_count){
			url  = baseurl+'/activity/joinactivity';
			$http.post(url,
			{	
				activity_id:activity_id,					 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){		
					if(row_id == 1){
						$scope.feeds_row1[row_count].content.is_going = 1;
					}
					if(row_id == 2){
						$scope.feeds_row2[row_count].content.is_going = 1;
					}
					if(row_id == 3){
						$scope.feeds_row3[row_count].content.is_going = 1;
					} 	
					var count_rsvp = $("#activityrsvpcount_"+activity_id).text();
					count_rsvp = (count_rsvp*1)+1;
					$("#map_Activity_"+activity_id).html($compile('<div class="google-map" hello-maps="" latitude="'+data.return_array.activity.group_activity_location_lat+'" longitude="'+data.return_array.activity.group_activity_location_lng+'"  location="'+data.return_array.activity.group_activity_location+'" going="'+data.return_array.activity.is_going+'"></div>')($scope));
					$("#activityrsvpcount_"+activity_id).text(count_rsvp);						
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();					 
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.handler = function() {		 
			$scope.getFeeds(true);
		}
		$scope.loadPopupToolTip = function(type,id){
			$("#tooltip_popup_"+type+"_"+id).show();
		}
		$scope.unloadPopupToolTip = function(type,id){
			$("#tooltip_popup_"+type+"_"+id).hide();
		}
		$scope.rsvplist = [];
		$scope.rsvppage =1;
		$scope.selectedActivity = '';
		$scope.loadmore = 1;
		$scope.commenteditEnableList = [];
		$scope.loadRsvpList = function(activity_id,filter_by,pageselected){
			$scope.selectedActivity = activity_id;
			$('#rsvplist_outer').slimScroll({
				height: '350px',color: '#00f'
			});
			
			if(pageselected==1){
				rsvppage = 1;
			}
			$scope.filter_by = filter_by;
			url  = baseurl+'/activity/rsvplist';
			var system_type = 'Activity';
			var content_id = activity_id;
			$http.post(url,
			{	
				content_id:content_id,page:rsvppage,filter_by:filter_by
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.activityrsvp_info.length>0){
						$('#rsvp_popup').modal();
						$scope.loadmore = 1;
					}else{$scope.loadmore = 0;}
					if(rsvppage==1){
						$scope.rsvplist =  data.return_array.activityrsvp_info;
					}else{						 
						$scope.rsvplist = $.merge($scope.rsvplist, data.return_array.activityrsvp_info);						 			 
					}
					rsvppage++;	
					$scope.rsvppage =rsvppage;		 
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();					 				
				}				     
			}).error(function(data, status, headers, config) {
				//alert("Error occured. Please try again");
			});
		}
		$scope.enableCommentEdit = function(comment_index,comment){
			var array_index = $scope.getArrayIndexEdit($scope.commenteditEnableList,comment_index);
			if(array_index==-1){
				$scope.commenteditEnableList.push(comment_index);
				loadcommentEdit(comment_index,comment);
			}
		}
		$scope.MediaenableCommentEdit = function(comment_index,comment){
			var array_index = $scope.getArrayIndexEdit($scope.commenteditEnableList,comment_index);
			if(array_index==-1){
				$scope.commenteditEnableList.push(comment_index);
				loadcommentEdit(comment_index,comment);
			}			 
			loadcommentEditMedia(comment_index,comment);
		}
		
		$scope.ifexistinEditList = function(comment_index){
			var exist_flag= 0;
			angular.forEach($scope.commenteditEnableList, function(dataset){
				if(dataset == comment_index){exist_flag++;}
			});
			if(exist_flag == 0){return false;}else{return true;}
		}
		$scope.RemoveCommentEditWindow = function(comment_index){
			var array_index = $scope.getArrayIndexEdit($scope.commenteditEnableList,comment_index); 
			$scope.commenteditEnableList.splice( array_index, 1 );	
			$("#edit-comment-outer-"+comment_index).hide();
			$("#hashed_users_Comment_"+comment_index).attr("data-items",'');
			$("#edit-mediacomment-outer-"+comment_index).hide();
			$("#media_hashed_users_Comment_"+comment_index).attr("data-items",'');
			hashedUser=[];
		}			 
		$scope.getArrayIndexEdit = function(arr_elemnt,item){ 
			var incexist = -1;
			for(i=0;i<arr_elemnt.length;i++) {
				if(arr_elemnt[i] == item){incexist = i;}
			}
			return incexist;
		}
		$scope.getArrayIndex = function(arr_elemnt,key,item){ 
			var incexist = -1;
			for(i=0;i<arr_elemnt.length;i++) {
				if(arr_elemnt[i][key] == item){incexist = i;}
			}
			return incexist;
		}
		$scope.SendEditComment = function(comment_id,row_count,row_index){  
			var  system_type = 'Comment';
			var edited_comment = $("#editcomment_text_"+comment_id).html();
			var selectedhashusers = $("#hashed_users_"+system_type+"_"+comment_id).attr("data-items");
			hashedUser = selectedhashusers.split('.');
			for(i=0;i<hashedUser.length;i++){
				var term = 'hashed_user_'+hashedUser[i];
				var index = edited_comment.indexOf(term);
				if(index == -1){
					hashedUser.splice( i, 1 );		
				}
			}
			if(edited_comment==''){								
				$("#memberProfile_dialog").html("<?php echo $this->translate('Please add some content before submitting','default'); ?>");
				$("#memberProfile_dialog").dialog();
			}else{
				url  = baseurl+'/comment/editComment';
				$http.post(url,
				{	
					edited_comment:edited_comment,comment_id:comment_id,hashedUser:hashedUser,	 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					
					if(data.return_array.process_status == 'success'){
					$("#edit-comment-outer-"+comment_id).hide();
					$("#hashed_users_Comment_"+comment_id).attr("data-items",'');							
						$scope.commentText[comment_id] = edited_comment;						 
						$scope.RemoveCommentEditWindow(comment_id);
						if(row_count==1){
							var array_index = $scope.getArrayIndex($scope.feeds_row1[row_index].content.comments,'comment_id',comment_id);
							$scope.feeds_row1[row_index].content.comments[array_index].comment_content = edited_comment;				 
						}
						if(row_count==2){
							var array_index = $scope.getArrayIndex($scope.feeds_row2[row_index].content.comments,'comment_id',comment_id);
							$scope.feeds_row2[row_index].content.comments[array_index].comment_content = edited_comment;	
						}
						if(row_count==3){
							var array_index = $scope.getArrayIndex($scope.feeds_row3[row_index].content.comments,'comment_id',comment_id);
							$scope.feeds_row3[row_index].content.comments[array_index].comment_content = edited_comment;	
						}
					}else{
						$("#memberProfile_dialog").html(data.return_array.process_info);
						$("#memberProfile_dialog").dialog();			 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
				
			}
		}
		$scope.SendMediaEditComment = function(comment_id,type){  
			var edited_comment = $("#editmediacomment_text_"+comment_id).html();
			if(edited_comment==''){				 
				$("#memberProfile_dialog").html("<?php echo $this->translate('Please add some content before submitting','default'); ?>");
				$("#memberProfile_dialog").dialog();
			}else{
				var selectedhashusers = $("#media_hashed_users_Comment_"+comment_id).attr("data-items");
				var hashedUser = selectedhashusers.split('.');
				for(i=0;i<hashedUser.length;i++){
				 var term = 'hashed_user_'+hashedUser[i];
				 var index = edited_comment.indexOf(term);
				 if(index == -1){
					hashedUser.splice( i, 1 );		
				 }
				}
				url  = baseurl+'/comment/editComment';
				$http.post(url,
				{	
					edited_comment:edited_comment,comment_id:comment_id,hashedUser:hashedUser,	 		 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$("#edit-mediacomment-outer-"+comment_id).hide();
						$("#media_hashed_users_Comment_"+comment_id).attr("data-items",'');
						$scope.commentText[comment_id] = edited_comment;	
						if(type == 'AlbumImages'){
							var array_index = $scope.getArrayIndex($scope.album_comments,'comment_id',comment_id);
							$scope.album_comments[array_index].comment_content = edited_comment;
						}
						if(type == 'Image'){
							var array_index = $scope.getArrayIndex($scope.media_comments,'comment_id',comment_id);
							$scope.media_comments[array_index].comment_content = edited_comment;	
						}					 
						$scope.RemoveCommentEditWindow(comment_id);
						$scope.showCommentText(edited_comment,comment_id);
						 
						 
					}else{
						$("#memberProfile_dialog").html(data.return_array.process_info);
						$("#memberProfile_dialog").dialog();			 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});				
			}
		}		
		$scope.DeleteComment = function(comment_id,row_count,row_index){			 
			url  = baseurl+'/comment/deleteComment';
			$http.post(url,
			{	
				comment_id:comment_id,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){					
					$scope.RemoveCommentEditWindow(comment_id);
					$("#comment_list_"+comment_id).remove();
					if(row_count==1){
						var array_index = $scope.getArrayIndex($scope.feeds_row1[row_index].content.comments,'comment_id',comment_id);
						$scope.feeds_row1[row_index].content.comments.splice( array_index, 1 );	
						$scope.feeds_row1[row_index].content.comment_counts = ($scope.feeds_row1[row_index].content.comment_counts*1)-1;					 
					}
					if(row_count==2){
						var array_index = $scope.getArrayIndex($scope.feeds_row2[row_index].content.comments,'comment_id',comment_id);
						$scope.feeds_row2[row_index].content.comments.splice( array_index, 1 );	
						$scope.feeds_row2[row_index].content.comment_counts = ($scope.feeds_row2[row_index].content.comment_counts*1)-1;
					}
					if(row_count==3){
						var array_index = $scope.getArrayIndex($scope.feeds_row3[row_index].content.comments,'comment_id',comment_id);
						$scope.feeds_row3[row_index].content.comments.splice( array_index, 1 );	
						$scope.feeds_row3[row_index].content.comment_counts = ($scope.feeds_row3[row_index].content.comment_counts*1)-1;
					} 					 
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();				 					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});			 
		}
		$scope.DeleteCommentMedia = function(comment_id,media_id){			 
			url  = baseurl+'/comment/deleteComment';
			$http.post(url,
			{	
				comment_id:comment_id,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){					
					//$scope.RemoveCommentEditWindow(comment_id);
					//$("#comment_list_"+comment_id).remove();
					var row_index = 0;	
					var array_index = $scope.getArrayIndex($scope.media_comments,'comment_id',comment_id);
					$scope.media_comments.splice( array_index, 1 );
					$scope.media.comment_count = ($scope.media.comment_count*1)-1;
					 	var row_index = 0;	
						angular.forEach($scope.feeds_row1, function(dataset){
							if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
								$scope.feeds_row1[row_index].content.comment_counts = ($scope.feeds_row1[row_index].content.comment_counts*1)-1;								 
								$scope.feeds_row1[row_index].content.viewComment =0;
							}
							row_index++;
						});
						var row_index = 0;	
						angular.forEach($scope.feeds_row2, function(dataset){
							if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
								$scope.feeds_row2[row_index].content.comment_counts = ($scope.feeds_row2[row_index].content.comment_counts*1)-1;								 
								$scope.feeds_row2[row_index].content.viewComment =0;								 
							}
							row_index++;
						});
						var row_index = 0;	
						angular.forEach($scope.feeds_row3, function(dataset){
							if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
								$scope.feeds_row3[row_index].content.comment_counts = ($scope.feeds_row3[row_index].content.comment_counts*1)-1;								 
								$scope.feeds_row3[row_index].content.viewComment =0;
							}
							row_index++;
						});							 
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();			 					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});			 
		}
		$scope.EditFeedActivityContent = [];
		$scope.EditFeedDiscussionContent = [];
		$scope.EditFeedMediaContent = [];
		$scope.feedEditSystemType='';
		$scope.ajax_loader_feededit = 1;
		$scope.EditFeedrow_count = '';
		$scope.EditFeedrow_index = '';
		$scope.editLocation ='';
		$scope.editFeed =function(system_type,content_id,row_count,row_index){
			$scope.ajax_loader_feededit = 1
			url  = baseurl+'/groups/getoneFeed';
			$scope.feedEditSystemType=system_type;
			$scope.EditFeedrow_count = row_count;
			$scope.EditFeedrow_index = row_index;
			$http.post(url,
			{	
				system_type:system_type,content_id:content_id
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.ajax_loader_feededit =0;
					if(system_type == 'Activity'){
						$scope.EditFeedActivityContent = data.return_array.feed_details;
						current_lat =$scope.EditFeedActivityContent.group_activity_location_lat;
						current_lng =$scope.EditFeedActivityContent.group_activity_location_lng;
						$scope.editLocation = $scope.EditFeedActivityContent.group_activity_location;
						geo_latitude = current_lat;
						geo_longitude = current_lng;
						$scope.loadDatePicker();	
					}
					if(system_type == 'Discussion'){
						$scope.EditFeedDiscussionContent = data.return_array.feed_details;
					}
					if(system_type == 'Media'){
						$scope.EditFeedMediaContent = data.return_array.feed_details;
					}
					
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();		 					
				}
						
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.UpdateStatus = function(system_type,content_id,row_count,row_index){
			if(system_type == 'Discussion'){
				var Discussion_data = $("#editDiscussion").val();
				if(Discussion_data==''){
					$("#feed_edit_error").html("<?php echo $this->translate('Enter status to update','default'); ?>");
					$("#feed_edit_error").fadeIn("Slow");
				}else{
					$("#feed_edit_error").html("");
					$("#feed_edit_error").fadeOut("Slow");
					url  = baseurl+'/discussion/edit';					 
					$http.post(url,
					{	
						system_type:system_type,content_id:content_id,content:Discussion_data
					},
					{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
					).success(function(data, status, headers, config) {
						if(data.return_array.process_status == 'success'){
							$("#feed_edit_success").html("<?php echo $this->translate('Successfully Updated your post','default'); ?>");
							$("#feed_edit_success").fadeIn("Slow");
							if(row_count == 1){
								$scope.feeds_row1[row_index].content.group_discussion_content = Discussion_data;
							}
							if(row_count == 2){
								$scope.feeds_row2[row_index].content.group_discussion_content = Discussion_data;
							}
							if(row_count == 3){
								$scope.feeds_row3[row_index].content.group_discussion_content = Discussion_data;
							}
							//$("#feed_edit").modal("hide");
						}else{
							$("#feed_edit_error").html(data.return_array.process_info);
							$("#feed_edit_error").fadeIn("Slow");			 					
						}				     
					}).error(function(data, status, headers, config) {
						// alert("Error occured. Please try again");
					});			
				}
			}else if(system_type == 'Media'){
				var caption = $("#feed_edit_caption").val();
				url  = baseurl+'/groups/editMedia';					 
				$http.post(url,
				{	
					system_type:system_type,content_id:content_id,content:caption
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$("#feed_edit_success").html("<?php echo $this->translate('Successfully Updated your post','default'); ?>");
						$("#feed_edit_success").fadeIn("Slow");
						if(row_count == 1){
							$scope.feeds_row1[row_index].content.media_caption = caption;
						}
						if(row_count == 2){
							$scope.feeds_row2[row_index].content.media_caption = caption;
						}
						if(row_count == 3){
							$scope.feeds_row3[row_index].content.media_caption = caption;
						}
						//$("#feed_edit").modal("hide");
					}else{
						$("#feed_edit_error").html(data.return_array.process_info);
						$("#feed_edit_error").fadeIn("Slow");	 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});		
			}else if(system_type == 'Activity'){
				var title = $("#event_title_edit").val();
				var event_date = $("#event_date_edit").val();
				var event_time = $("#event_time_edit").val();
				var event_location = $(".edit_location").val();
				var event_description = $("#event_description_edit").val();
				var event_location_lat= geo_latitude;
				var event_location_lng= geo_longitude;
				var edit_error = 0;
				if(title==''){
					$("#feed_edit_error").html("<?php echo $this->translate('Enter event title','default'); ?>");
					$("#feed_edit_error").fadeIn("Slow");
					edit_error++;
				}
				if(event_date==''){
					$("#feed_edit_error").html("<?php echo $this->translate('Enter event date','default'); ?>");
					$("#feed_edit_error").fadeIn("Slow");
					edit_error++;
				}
				if(event_location==''){
					$("#feed_edit_error").html("<?php echo $this->translate('Enter event location','default'); ?>");
					$("#feed_edit_error").fadeIn("Slow");
					edit_error++;
				}
				url  = baseurl+'/activity/editActivity';					 
				$http.post(url,
				{	
					system_type:system_type,
					content_id:content_id,
					title:title,
					event_date:event_date,
					event_time:event_time,
					event_location:event_location,
					event_description:event_description,
					event_location_lat:event_location_lat,
					event_location_lng:event_location_lng,					 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$("#feed_edit_success").html("<?php echo $this->translate('Successfully Updated your post','default'); ?>");
						$("#feed_edit_success").fadeIn("Slow");
						if(row_count == 1){
							$scope.feeds_row1[row_index].content.group_activity_title = title;
							$scope.feeds_row1[row_index].content.group_activity_location = event_location;
							$scope.feeds_row1[row_index].content.group_activity_location_lat = event_location_lat;
							$scope.feeds_row1[row_index].content.group_activity_location_lng = event_location_lng;
							$scope.feeds_row1[row_index].content.group_activity_content = event_description;
							$scope.feeds_row1[row_index].content.group_activity_start_timestamp = data.return_array.group_activity_start_timestamp;
						}
						if(row_count == 2){
							$scope.feeds_row2[row_index].content.group_activity_title = title;
							$scope.feeds_row2[row_index].content.group_activity_location = event_location;
							$scope.feeds_row2[row_index].content.group_activity_location_lat = event_location_lat;
							$scope.feeds_row2[row_index].content.group_activity_location_lng = event_location_lng;
							$scope.feeds_row2[row_index].content.group_activity_content = event_description;
							$scope.feeds_row2[row_index].content.group_activity_start_timestamp = data.return_array.group_activity_start_timestamp;
						}
						if(row_count == 3){
							$scope.feeds_row3[row_index].content.group_activity_title = title;
							$scope.feeds_row3[row_index].content.group_activity_location = event_location;
							$scope.feeds_row3[row_index].content.group_activity_location_lat = event_location_lat;
							$scope.feeds_row3[row_index].content.group_activity_location_lng = event_location_lng;
							$scope.feeds_row3[row_index].content.group_activity_content = event_description;
							$scope.feeds_row3[row_index].content.group_activity_start_timestamp = data.return_array.group_activity_start_timestamp;
						}
						//$("#feed_edit").modal("hide");
					}else{
						$("#feed_edit_error").html(data.return_array.process_info);
						$("#feed_edit_error").fadeIn("Slow");			 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});		
			}
		}
		$scope.loadDatePicker = function(){
			enableDatepicker();
			addLocationValue($scope.editLocation);
		}		 
		$scope.feedDeleteSystemType='';
		$scope.ajax_loader_feeddelte = 1;
		$scope.DeleteFeedrow_count = '';
		$scope.DeleteFeedrow_index = '';
		 
		$scope.deleteFeed =function(system_type,content_id,row_count,row_index){
			$scope.ajax_loader_feeddelte = 0;			 
			$scope.feedDeleteSystemType=system_type;
			$scope.DeleteFeedrow_count = row_count;
			$scope.DeleteFeedrow_index = row_index;
			$scope.DeleteFeedrow_content_id = content_id;			 
			$("#errordeletePost").fadeOut("slow");			 
		}
		$scope.CancelRemovePost = function(){
			$scope.feedDeleteSystemType='';
			$scope.ajax_loader_feeddelte = 1;
			$scope.DeleteFeedrow_count = '';
			$scope.DeleteFeedrow_index = '';
			$("#feed_delete").modal("hide");			 
			$("#errordeletePost").fadeOut("slow");			 
		}
		$scope.enablemediaPopupshowReply = function(){
			 $scope.showReply=1;
		}		
		$scope.RemovePost = function(system_type,content_id,row_count,row_index){
			url  = '';
			if(system_type == 'Discussion'){
				url  = baseurl+'/discussion/delete';	
			}
			if(system_type == 'Media'){
				url  = baseurl+'/groups/deleteMedia';		
			}
			if(system_type == 'Activity'){
				url  = baseurl+'/activity/deleteActivity';	
			}
			if(url != ''){				 				 
				$http.post(url,
				{	
					system_type:system_type,content_id:content_id
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						 
						if(system_type == 'Discussion'){
							$("#memberProfile_dialog").html("<?php echo $this->translate('The post is removed successfully','default'); ?>");						 
							$("#memberProfile_dialog").dialog();
						}
						if(system_type == 'Media'){
							$("#memberProfile_dialog").html("<?php echo $this->translate('The media is removed successfully','default'); ?>");
							$("#memberProfile_dialog").dialog();
						}
						if(system_type == 'Activity'){
							$("#memberProfile_dialog").html("<?php echo $this->translate('The activity is removed successfully','default'); ?>");
							$("#memberProfile_dialog").dialog();
						}
						if(row_count == 1){
							$scope.feeds_row1.splice( row_index, 1 );;
						}
						if(row_count == 2){
							$scope.feeds_row2.splice( row_index, 1 );
						}
						if(row_count == 3){
							$scope.feeds_row3.splice( row_index, 1 );
						}
						$("#feed_delete").modal("hide");
					}else{
						$("#memberProfile_dialog").html(data.return_array.process_info);
						$("#memberProfile_dialog").dialog();				 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});	
			}
		}
		$scope.reasons= [];
		$scope.ajax_loader_reportpost = 1;
		$scope.reportSelectedContentId = '';
		$scope.reportSelectedContentType = '';
		$scope.selectedReasonId='';
		$scope.selectedReasonType='';
		$scope.enableReportReason=0;;
		$scope.spam={};
		$scope.reportAjaxLoader =0;
		$scope.ReportPost = function(type,content_id){
			$("#report_error").html('');
			$("#report_success").html('');
			$("#report_error").fadeOut();
			$("#report_success").fadeOut();
			$scope.ajax_loader_reportpost = 1;
			$scope.reasons= [];
			$scope.reportSelectedContentId = content_id;
			$scope.reportSelectedContentType = type;
			url  = baseurl+'/spam/getreasons';
			$http.post(url,
			{	
				type:type,content_id:content_id
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.reasons=data.return_array.reasons;
					$scope.ajax_loader_reportpost = 0;
				}else{
					$("#memberProfile_dialog").html(data.return_array.process_info);
					$("#memberProfile_dialog").dialog();
					$("#report_post").modal("hide");
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});	
		}
		$scope.selectReason = function(reason_id,reasontype){
			$scope.selectedReasonId=reason_id;
			$scope.selectedReasonType=reasontype;
			if(reasontype == 'Other'){
				$scope.enableReportReason=1;
			}else{
				$scope.enableReportReason=0;
			}
		}
		$scope.sendReport = function(frmspam){
			$("#report_success").html("");
			$("#report_success").fadeOut();
			if($scope.selectedReasonType == ''){
				$("#report_error").html("<?php echo $this->translate('Select one reason','default'); ?>");
				$("#report_error").fadeIn("slow");
			}else if($scope.selectedReasonType == 'Other'&&frmspam.otherReason=='' ){
				$("#report_error").html("<?php echo $this->translate('Add reason','default'); ?>");
				$("#report_error").fadeIn("slow");
			}else{
				$("#report_error").html('');
				$("#report_error").fadeOut('slow');
				url  = baseurl+'/spam/sentreport';
				$scope.reportAjaxLoader =1;
				$http.post(url,
				{	
					type:$scope.reportSelectedContentType,content_id:$scope.reportSelectedContentId,reason_id:frmspam.reason_id,otherReason:frmspam.otherReason
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					$scope.reportAjaxLoader =0;
					if(data.return_array.process_status == 'success'){
						$("#report_success").html("<?php echo $this->translate('The  report is successfully submitted','default'); ?>");
						$("#report_success").fadeIn('slow');
						$scope.spam={};
						//$("#report_post").modal("hide");
					}else{
						$("#report_error").html(data.return_array.process_info);
						$("#report_error").fadeIn("slow");
						//$("#report_post").modal("hide");
					}				     
				}).error(function(data, status, headers, config) {
					$scope.reportAjaxLoader =0;
					 //alert("Error occured. Please try again");
				});	
			}
		}
		$scope.loadToolTip =function(type,id){
			$("#tooltip_"+type+"_"+id).show();
		}
		$scope.unloadToolTip =function(type,id){
			$("#tooltip_"+type+"_"+id).hide();
		}
		$scope.popUpRemoveContent_id = 0;
		$scope.popUpRemoveType = '';
		$scope.ajax_loader_popupdelte = 0;
		$scope.deletePostFromPopup = function(type,content_id){			
			$scope.popUpRemoveContent_id = content_id;
			$scope.popUpRemoveType = type;
			$scope.ajax_loader_popupdelte = 0;
		}
		$scope.CancelRemovePopupPost = function(){		
			$scope.popUpRemoveContent_id = 0;
			$scope.popUpRemoveType = '';
			$scope.ajax_loader_popupdelte = 0;
			$("#popup_delete").modal("hide");
		}
		$scope.RemovePopupPost = function(type,content_id){ 
			$scope.ajax_loader_popupdelte = 1;
			var url  = ''; 
			if(type == 'Image'){ 
				url  = baseurl+'/groups/deleteImage';	
			}
			if(type == 'Album'){ 
				url  = baseurl+'/album/deleteAlbum';	
			}
			if(url != ''){				 				 
				$http.post(url,
				{	
					system_type:type,content_id:content_id,
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						 
						if(type == 'Image'){
							$("#feed_dialog").html("<?php echo $this->translate('The post is removed successfully','default'); ?>");							 
							$("#feed_dialog").dialog();
							var media_id = data.return_array.media_id;
							var is_media_deleted = data.return_array.is_media_deleted;
							if(is_media_deleted==1){
								var row_index = 0;	
								angular.forEach($scope.feeds_row1, function(dataset){
									if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
										$scope.feeds_row1.splice( row_index, 1 );
									}
									row_index++;
								});
								var row_index = 0;	
								angular.forEach($scope.feeds_row2, function(dataset){
									if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
										$scope.feeds_row2.splice( row_index, 1 );
									}
									row_index++;
								});
								var row_index = 0;	
								angular.forEach($scope.feeds_row3, function(dataset){
									if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
										$scope.feeds_row3.splice( row_index, 1 );
									}
									row_index++;
								});
							}else{
								var row_index = 0;	
								angular.forEach($scope.feeds_row1, function(dataset){
									if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
										var col_index = 0;
										angular.forEach($scope.feeds_row1[row_index].content.media_files, function(mediadataset){
											if(content_id == mediadataset.id){
												$scope.feeds_row1[row_index].content.media_files.splice( col_index, 1 );
											}												
											col_index++;
										});
										
									}
									row_index++;
								});
								var row_index = 0;	
								angular.forEach($scope.feeds_row2, function(dataset){
									var col_index = 0;
									angular.forEach($scope.feeds_row2[row_index].content.media_files, function(mediadataset){
										if(content_id == mediadataset.id){
											$scope.feeds_row2[row_index].content.media_files.splice( col_index, 1 );
										}												
										col_index++;
									});
									row_index++;
								});
								var row_index = 0;	
								angular.forEach($scope.feeds_row3, function(dataset){
									var col_index = 0;
									angular.forEach($scope.feeds_row3[row_index].content.media_files, function(mediadataset){
										if(content_id == mediadataset.id){
											$scope.feeds_row3[row_index].content.media_files.splice( col_index, 1 );
										}												
										col_index++;
									});
									row_index++;
								});
							}
						}
						if(type == 'Album'){
							var media_id = data.return_array.media_id;
							if(media_id.length>0){
								var row_index = 0;	
								angular.forEach($scope.feeds_row1, function(dataset){
									if(dataset.type == 'New Media'){
										for(i=0;i<media_id.length;i++){
											if(dataset.content.group_media_id ==media_id[i]){
												$scope.feeds_row1.splice( row_index, 1 );
											}
										}									
									}
									row_index++;
								});
								var row_index = 0;	
								angular.forEach($scope.feeds_row2, function(dataset){
									if(dataset.type == 'New Media'){
										for(i=0;i<media_id.length;i++){
											if(dataset.content.group_media_id ==media_id[i]){
												$scope.feeds_row2.splice( row_index, 1 );
											}
										}
									}
									row_index++;
								});
								var row_index = 0;	
								angular.forEach($scope.feeds_row3, function(dataset){
									if(dataset.type == 'New Media'){
										for(i=0;i<media_id.length;i++){
											if(dataset.content.group_media_id ==media_id[i]){
												$scope.feeds_row3.splice( row_index, 1 );
											}
										}
									}
									row_index++;
								});
							}
						}
						$("#popup_delete").modal("hide");
						$("#post-img_popup").modal("hide");
					}else{
						$("#errordeletePost").html(data.return_array.process_info);
						$("#errordeletePost").fadeIn("slow");										 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});	
			} 
		}
		$scope.AlbumEdit = 0;
		$scope.album_edit_title = '';
		$scope.album_edit_description = '';
		$scope.album_edit_event_id = '';
		$scope.album_edit_event_list = [];
		$scope.PrepareToEditAlbum = function(album_id){
			$scope.AlbumEdit =1;
			$scope.album_edit_title = $scope.albumDetails.album_name;
			$scope.album_edit_description = $scope.albumDetails.album_description;
			$scope.album_edit_event_id = $scope.albumDetails.album_event_id;
			if($scope.albumDetails.event_name!='')
				$scope.album_edit_event_title = $scope.albumDetails.event_name;
			else
				$scope.album_edit_event_title = '<?php echo $this->translate('Choose event','default'); ?>';
			$scope.loadGroupEventList($scope.albumDetails.group_id);
		}
		$scope.loadGroupEventList = function(group_id){				 
			$scope.AlbumCreateWindowAjaxLoader = 1;
			url  = baseurl+'/activity/getAllEvents';
			$http.post(url,
			{	
				group_id:group_id,				 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {					
				if(data.return_array.process_status == 'success'){
					$scope.album_edit_event_list =  data.return_array.events;
				}else{
					$("#new_status_error").html(data.return_array.process_info);
					$("#new_status_error").fadeIn("slow");						 
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});			 
		}
		$scope.selectAlbumEditEvent = function(event_id,title){
			$scope.album_edit_event_id = event_id;
			$scope.album_edit_event_title = title;
		}
		$scope.EditAlbum = function(album_id,title,description){
			if(title==''){
				$("#album_edit_error").html('<?php echo $this->translate('Album title required','default'); ?>');
				$("#album_edit_error").fadeIn("slow");						 
			}else{
				url  = baseurl+'/album/editAlbum';
				$http.post(url,
				{	
					event_id:$scope.album_edit_event_id,
					title:title,
					description:description,
					album_id:album_id
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {					
					if(data.return_array.process_status == 'success'){
						$scope.albumDetails.album_name = title; 
						$scope.albumDetails.album_edit_description = description; 
						$scope.albumDetails.event_name = $scope.album_edit_event_title;
						$scope.albumDetails.event_id = $scope.album_edit_event_id;		
						$scope.CancelEditAlbum();
					}else{
						$(album_edit_error).html(data.return_array.process_info);
						$("#album_edit_error").fadeIn("slow");						 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});					
			}
		}
		$scope.CancelEditAlbum = function(){
			$scope.AlbumEdit = 0;
			$scope.album_edit_title = '';
			$scope.album_edit_description = '';
			$scope.album_edit_event_id = '';
			$scope.album_edit_event_list = [];
		}
	});
	angular.element(document).ready(function() {
    angular.bootstrap(document.getElementById("profile_div"), ["myapp"]);
    angular.bootstrap(document.getElementById("post_right_container"), ["post_app"]);
	
});

	function enableDatepicker(){	 
	 $("#enableDatepiker").trigger("click");
	}
	function addLocationValue(location){ 
	 $('.edit_location').val(location);
	}
	$(document).on("click","#event_tab",function(){	
		$( "#event_date" ).datepicker({ changeYear: true , dateFormat: "dd-mm-yy",minDate: new Date(<?php echo date("Y");?>, <?php echo date("m");?> - 1, <?php echo date("d");?>) });
		$('#event_time').timeEntry();
		//initialize();
		autocomplete_init();
		gmaps_init();
	}); 
	$(document).on("click","#enableDatepiker",function(){		
		$( "#event_date_edit" ).datepicker({ changeYear: true , dateFormat: "dd-mm-yy",minDate: new Date(<?php echo date("Y");?>, <?php echo date("m");?> - 1, <?php echo date("d");?>) });
		//$('#event_time_edit').timeEntry();
		$('#event_time_edit').timepicker();
		mapselected = 'map2';
		gmaps_init();
		autocomplete_init();				
	});
	$('.google-map').addClass('scrollof');
    $(document).on('click','.post_event-map', function() { 
		var map_id = $(this).attr("id");
    	$("#"+map_id+" .google-map").removeClass('scrollof');		
    });
	$(document).on('mouseleave','.post_event-map', function() {
    	var map_id = $(this).attr("id");
    	$("#"+map_id+" .google-map").addClass('scrollof');	
    });
	$('#map-canvasedit').addClass('scrollof');
	$(document).on('click','.event-edit-map', function() {
		$('#map-canvasedit').removeClass('scrollof');	
	});
	$(document).on('mouseleave','#map-canvasedit', function() {
    	 $('#map-canvasedit').addClass('scrollof');
    });
	$('#post-img_popup').on('hidden.bs.modal', function (e) {
		$("#video_content").html('');
	});
</script>
	<style>
	[contentEditable=true]:empty:not(:focus):before{
		content:attr(data-text)
	}
	#map-canvasedit, #map-canvas, #activity_map{
		height: 344px;
		width:340px;
		border: 1px solid #999;
		-moz-box-shadow:    0px 0px 5px #ccc;
		-webkit-box-shadow: 0px 0px 5px #ccc;
		box-shadow:         0px 0px 5px #ccc;
	}
	.google-map{width:100%; height:100%;}
	.scrollof{
		pointer-events: none;
	}
</style>
<script> 
var geocoder;
var map;
var marker;
var mapselected = 'map1';
// initialise the google maps objects, and add listeners
function gmaps_init(){

  // center of the universe
  var latlng = new google.maps.LatLng(current_lat,current_lng);

  var options = {
    zoom: 5,
    center: latlng,
	panControl: false,
	zoomControl: false,
	scaleControl: false,
    mapTypeId: google.maps.MapTypeId.ROADMAP,

  };
  // create our map object   
if(mapselected=='map2'){
	   map = new google.maps.Map(document.getElementById("map-canvasedit"), options);  
	}else{
	   map = new google.maps.Map(document.getElementById("map-canvas"), options);  
	} 

  // the geocoder object allows us to do latlng lookup based on address
  geocoder = new google.maps.Geocoder();	 

  // the marker shows us the position of the latest address
  marker = new google.maps.Marker({
    map: map,
	icon: baseurl+"/public/images/map_pin.svg",
    draggable: true
  });
marker.setPosition(latlng);
  // event triggered when marker is dragged and dropped
  google.maps.event.addListener(marker, 'dragend', function() {
    geocode_lookup( 'latLng', marker.getPosition() );
  });

  // event triggered when map is clicked
  google.maps.event.addListener(map, 'click', function(event) {
    marker.setPosition(event.latLng)
    geocode_lookup( 'latLng', event.latLng  );
  });

  $('#gmaps-error').hide();
}

// move the marker to a new position, and center the map on it
function update_map( geometry ) {
  map.fitBounds( geometry.viewport )
  marker.setPosition( geometry.location )
}

// fill in the UI elements with new position data
function update_ui( address, latLng ) { 
  $('#location').autocomplete("close");
  $('#location').val(address);   
  geo_latitude = latLng.lat(); 
  geo_longitude = latLng.lng(); 
  //$('#gmaps-output-latitude').html(latLng.lat());
  //$('#gmaps-output-longitude').html(latLng.lng());
}

// Query the Google geocode object
//
// type: 'address' for search by address
//       'latLng'  for search by latLng (reverse lookup)
//
// value: search query
//
// update: should we update the map (center map and position marker)?
function geocode_lookup( type, value, update ) {
  // default value: update = false
  update = typeof update !== 'undefined' ? update : false;

  request = {};
  request[type] = value;

  geocoder.geocode(request, function(results, status) {
    $('#gmaps-error').html('');
    $('#gmaps-error').hide();
    if (status == google.maps.GeocoderStatus.OK) {
      // Google geocoding has succeeded!
      if (results[0]) {
        // Always update the UI elements with new location data
        update_ui( results[0].formatted_address,
                   results[0].geometry.location )

        // Only update the map (position marker and center map) if requested
        if( update ) { update_map( results[0].geometry ) }
      } else {
        // Geocoder status ok but no results!?
        $('#gmaps-error').html("<?php echo $this->translate('Sorry, something went wrong. Try again!','default'); ?>");
        $('#gmaps-error').show();
      }
    } else {
      // Google Geocoding has failed. Two common reasons:
      //   * Address not recognised (e.g. search for 'zxxzcxczxcx')
      //   * Location doesn't map to address (e.g. click in middle of Atlantic)

      if( type == 'address' ) {
        // User has typed in an address which we can't geocode to a location
        $('#gmaps-error').html("<?php echo $this->translate("Sorry! We couldn't find",'default'); ?> " + value + ". <?php echo $this->translate("Try a different search term, or click the map",'default'); ?>." );
        $('#gmaps-error').show();
      } else {
        // User has clicked or dragged marker to somewhere that Google can't do a reverse lookup for
        // In this case we display a warning, clear the address box, but fill in LatLng
        $('#gmaps-error').html("<?php echo $this->translate("Woah... that's pretty remote! You're going to have to manually enter a place name",'default'); ?>." );
        $('#gmaps-error').show();
        update_ui('', value)
      }
    };
  });
};

// initialise the jqueryUI autocomplete element
function autocomplete_init() {
	 
  $("#location").autocomplete({

    // source is the list of input options shown in the autocomplete dropdown.
    // see documentation: http://jqueryui.com/demos/autocomplete/
    source: function(request,response) {

      // the geocode method takes an address or LatLng to search for
      // and a callback function which should process the results into
      // a format accepted by jqueryUI autocomplete
      geocoder.geocode( {'address': request.term }, function(results, status) {
        response($.map(results, function(item) {
          return {
            label: item.formatted_address, // appears in dropdown box
            value: item.formatted_address, // inserted into input element when selected
            geocode: item                  // all geocode data: used in select callback event
          }
        }));
      })
    },

    // event triggered when drop-down option selected
    select: function(event,ui){
      update_ui(  ui.item.value, ui.item.geocode.geometry.location )
      update_map( ui.item.geocode.geometry )
    }
  });
  
 
  // triggered when user presses a key in the address box
  $("#location").bind('keydown', function(event) {
    if(event.keyCode == 13) {
      geocode_lookup( 'address', $('#location').val(), true );

      // ensures dropdown disappears when enter is pressed
      $('#location').autocomplete("disable")
    } else {
      // re-enable if previously disabled above
      $('#location').autocomplete("enable")
    }
  });
  
};  	
</script>
 						
<script>  
	mapselected = 'map1';
	gmaps_init();					
	autocomplete_init();
	function loadToolTip(type,id){
		$("#tooltip_"+type+"_"+id).show();
	}
	function unloadToolTip(type,id){
		$("#tooltip_"+type+"_"+id).hide();
	}
	function loadcommentEdit(comment_id,comment){ 
		$("#edit-comment-outer-"+comment_id).show();
		$("#editcomment_text_"+comment_id).html(comment);
		$("#editcomment_text_"+comment_id).attr('contenteditable','true');
	}
	function loadcommentEditMedia(comment_id,comment){ 
		$("#edit-mediacomment-outer-"+comment_id).show();
		$("#editmediacomment_text_"+comment_id).html(comment);
		$("#editmediacomment_text_"+comment_id).attr('contenteditable','true');
	}	
	function showYoutubeVideo(video_id){
	 
		var iframe_content = '<iframe style="overflow:hidden;height:100%;width:100%" width="100%" height="100%" src="http://www.youtube.com/embed/'+video_id+'" frameborder="0" allowfullscreen></iframe>';
		document.getElementById("video_content").innerHTML = iframe_content;
		// jQuery("#video_content").html(iframe_content);
	}
</script>
 
    