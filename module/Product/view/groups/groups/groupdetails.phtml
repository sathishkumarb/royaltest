<?php 
	if($locales_selected=='ar_AE'){
		$language_class="ar";
	}else{
		$language_class="en";
	}	 
?>
<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
<!-- Left Fixed part -->
<?php echo $this->profileWidget; ?>
<!-- Left Fixed part Close -->
<div id="group_right_container" ng-app="groupapp" ng-cloak >
	<div ng-controller="groupController" class="groupdetails_top <?php echo $language_class; ?>">
		<div class="group_banner" style="background:url({{group_picture}}) no-repeat center top;background-size:100%" ng-if="imageEdit ==0" >
			<img src="<?php echo $this->basePath(); ?>/public/images/banner-shadow.png" alt="" class="group_banner-shadow" />
			<div class="group_brief_outer">
				<div class="group_details-left">
					<div ng-if="group.is_admin==1" class="group-owner-options">
							<a href="javascript:void(0)" id="dLabel_deleteOption" data-toggle="dropdown" ><?php echo $this->translate('options','default'); ?></a>
							<ul class="color-trans dropdown_icons border_radius dropdown-menu arrow_box" aria-labelledby="dLabel_deleteOption" role="menu"  >
								<li><a href="Javascript:void(0);" ng-click="changeOwnership()" ><?php echo $this->translate('Change ownership','default'); ?></a></li>
								<li><a href="Javascript:void(0);" ng-click="deleteGroup()"><?php echo $this->translate('Delete Group','default'); ?></a></li>
							</ul>
						</div>
					<h3><?php echo $this->translate('About This Group','default'); ?></h3>
					<div ng-if="editGroupFlag==0">
						<div ng-show="editGroupFlag==0" id="about_group_container" ng-init="enableGroupScrollbar()" style="">{{group.group_description}}</div>
					</div>
					<p><textarea name="Edit-group_about" class="edit-group_about border_radius" ng-if="editGroupFlag==1" ng-model="fromData.groupDescription"> </textarea>
					</p>
					<div class="group_categories-outer">
						<h3><?php echo $this->translate('Group Interests','default'); ?>
							<a href="javascript:void(0);" ng-if="group.is_admin==1" data-toggle="modal" data-target="#interest_popup" ng-click="loadPopup()"><?php echo $this->translate('Add / Remove Interests','default'); ?></a><div class="clear"></div>
						</h3>
						<div class="group_interest-icons">
							<img  alt="" ng-repeat="tagitem in grouptagCategory" ng-if="tagitem.tag_category_icon!=''" src="{{categoryImagePath}}{{tagitem.tag_category_icon}}" alt="{{tagitem.tag_category_title}}" />
                            <img ng-repeat="tagitem in grouptagCategory" ng-if="tagitem.tag_category_icon==''" src="<?php echo $this->basePath(); ?>/public/images/category-icon.svg" alt="{{tagitem.tag_category_title}}" />		 
						</div>
						<div class="interest_list_grouphead">
							<span ng-repeat="tags in grouptags | limitTo:10" ng-if="checkCommonIntrests(tags.tag_id)" style="text-transform:capitalize;" class="interest_common"> {{tags.tag_title}}<i>.</i></span>
							 <span ng-repeat="tags in grouptags| limitTo:10" ng-if="!checkCommonIntrests(tags.tag_id)" style="text-transform:capitalize;"> {{tags.tag_title}}<i>.</i></span>
							 <a href="javascript:void(0)" ng-if="grouptags.length>10" data-toggle="modal" data-target="#interestlist_popup" ng-click="loadGroupInterestList()"><?php echo $this->translate('Show more','default'); ?></a>
						</div>
					</div>
				</div>
				<div class="group_brief_footer">
					<div class="group_founder"><?php echo $this->translate('founded','default'); ?> <span>{{group.group_added_timestamp}}</span>
						<div id="location-text"><?php echo $this->translate('IN','default'); ?> <span><i class="white-location"></i>{{group.city_locale}}, {{group.country_locale}}</span></div>
					</div>
					<div class="group_brief-location">
						<a href="javascript:void(0)" id="laodGroupImages"> <img  src="<?php echo $this->basePath(); ?>/public/images/group-photo-icon.svg"  /> </a>
						
					</div>
					<div class="clear"></div>
				</div>
			</div>
			<!-- Left side Group Brief ends -->        
			<div class="group_name-banner">
				<div class="group_name-banner-inner">
					<span>
						<span ng-if="editGroupFlag==0">{{group.group_title}}</span>
						<span ng-if="group.is_admin==1&&editGroupFlag==1">
							<input name="Group_name-edit" class="border_radius group_name-edit" type="text" value="" ng-model="fromData.groupTitle" />
							<span class="group_join"><a href="javascript:void(0);" class="default_butn_grey" ng-click="cancelGroupEdit()"><?php echo $this->translate('Cancel','default'); ?></a><a href="javascript:void(0);" class="default_butn_blue" data-toggle="modal" data-target="#confirm_popup" ng-click="updateGroup(fromData)"><?php echo $this->translate('Save Changes','default'); ?></a></span>
							<span class="group_questionary"><a href="javascript:void(0);" data-toggle="modal" data-target="#edit_question" ng-click="loadQuestionnaire(group.group_id)"><i></i><?php echo $this->translate('Edit group questionnaire','default'); ?></a></span>
						</span>
						<span class="group_join" ng-if="group.is_admin==1&&editGroupFlag==0"><a href="javascript:void(0)" class="default_butn_yellow" ng-click="enableEditForm()" ><?php echo $this->translate('Edit Group','default'); ?></a></span>
						<span class="group_join" ng-if="group.is_member==0&&group.is_admin!=1 &&group.group_status!='pending'&&group.group_type !='private'">
							<a href="javascript:void(0);" class="default_butn_blue" data-toggle="modal" data-target="#join_group" ng-click="selectJoiningGroup(group.group_id,group.group_title,group.group_type,group.group_seo_title)" ><?php echo $this->translate('Join Group','default'); ?></a>
						</span>						 
						<span class="group_join" ng-if="group.group_status=='pending'&&group.is_admin!=1"><a href="javascript:void(0);" class="default_butn_grey"   ><?php echo $this->translate('Pending Approval','default'); ?></a></span>
						<span class="group_join" ng-if="group.is_member==0&&group.is_admin!=1 &&group.group_status!='pending'&&group.is_requested==1"><a href="javascript:void(0);" class="default_butn_grey"   ><?php echo $this->translate('Request Sent','default'); ?></a></span>
						<span class="group_join" ng-if="group.is_member==0&&group.is_admin!=1 &&group.group_status!='pending'&&group.is_requested!=1&&group.is_invited==1&&group.group_type =='private'"><a href="javascript:void(0);" class="default_butn_blue" data-toggle="modal" data-target="#join_group" ng-click="selectJoiningGroup(group.group_id,group.group_title,group.group_type,group.group_seo_title)" ><?php echo $this->translate('Join Group','default'); ?></a></span>
						<p ng-if="editGroupFlag==0">
						<span class="group_type" ng-if="group.group_type =='open'"><i class="group-open"></i><?php echo $this->translate('Open Group','default'); ?></span>
						<span class="group_type" ng-if="group.group_type =='private'"><i class="group-private"></i><?php echo $this->translate('Private Group','default'); ?></span>
						<span class="group_type" ng-if="group.group_type =='public'"><i class="group-public"></i><?php echo $this->translate('Public Group','default'); ?></span>  
						</p>
						<span class="group_type group_type-edit" ng-if="group.is_admin==1&&editGroupFlag==1">
						 <a href="javascript:void(o);" class="filter_group" data-toggle="dropdown" id="group_type"><i class="group-{{fromData.groupTypeEdit}}"></i>{{fromData.groupTypeEdit_locale}} <?php echo $this->translate('Group','default'); ?><span class="edit_type_arrow"></span></a>
							<ul class="dropdown-menu color-trans arrow_box2 group_type_dd" role="menu" aria-labelledby="group_type">
								<li><a href="javascript:void(0);" ng-class="{'active':fromData.groupTypeEdit =='public'}" ng-click="fromData.groupTypeEdit ='public';fromData.groupTypeEdit_locale='<?php echo $this->translate('public','default'); ?>'"><i class="grouptype_public"></i><?php echo $this->translate('Public Group','default'); ?></a></li>
								<li><a href="javascript:void(0);" ng-class="{'active':fromData.groupTypeEdit =='open'}" ng-click="fromData.groupTypeEdit ='open';fromData.groupTypeEdit_locale='<?php echo $this->translate('open','default'); ?>'"><i class="grouptype_open"></i><?php echo $this->translate('Open Group','default'); ?></a></li>
								<li><a href="javascript:void(0);" ng-class="{'active':fromData.groupTypeEdit =='private'}" ng-click="fromData.groupTypeEdit ='private';fromData.groupTypeEdit_locale='<?php echo $this->translate('private','default'); ?>'"><i class="grouptype_private"></i><?php echo $this->translate('Private Group','default'); ?></a></li>
							</ul>
						</span>					
					</span>
				</div>
			</div>
			<div class="change-group_banner" ng-if="group.is_admin==1">
				<a href="javascript:void(0);"  data-toggle="dropdown" >
					<span>
						<i class="change_cover"></i><br/>
						<?php echo $this->translate('Change','default'); ?>
					</span>
				</a>
				<ul class="dropdown-menu banner_dropdown color-trans arrow_box arrow_right" role="menu" aria-labelledby="update_banner">
					<li><a href="javascript:void(0);" ng-click="EditBanner()" id="bannerEditor"><?php echo $this->translate('Edit Photo','default'); ?></a></li>
					<li><a href="javascript:void(0);" ng-click="EditBanner()" id="bannerUpload"><?php echo $this->translate('Upload Photo','default'); ?></a></li>
					<li><a href="javascript:void(0);" data-toggle="modal" data-target="#bannerdelete_popup" ng-if="group.group_photo_photo!=null&&group.group_photo_photo!=''" ><?php echo $this->translate('Remove','default'); ?></a></li>
				</ul>
			</div>
			<div class="change-group_banner group_settings_dropdown" ng-if="group.is_admin!=1">
				<a href="javascript:void(0);"  data-toggle="dropdown" >
					<img src="<?php echo $this->basePath(); ?>/public/images/arrow_options.svg" />
				</a>
				<ul class="dropdown-menu color-trans arrow_box arrow_right" role="menu" aria-labelledby="update_banner">
					<li ng-if="group.is_member==1">
						<span class="group_join" ng-if="group.is_member==1&&group.is_admin!=1"><a href="javascript:void(0);" class="leave_group_option" data-toggle="modal" data-target="#leaveGroup_popup" ng-click="selectLeavingGroup(group.group_id,group.group_title)" ><?php echo $this->translate('Leave this group','default'); ?></a></span>
					</li>
					 <li >
						<span class="group_join"><a  data-toggle="modal" data-target="#reportGroup" ng-click="groups_ReportPost('Group',group.group_id)" data-toggle="modal" ><?php echo $this->translate('Report this group','default'); ?></a></span>
					</li>
				</ul>
			</div>
			<div class="group_members-outer" >
				<div class="group_members_images"> 
					<div class="comn_profile_img pending_request-link" ng-if="group.group_type!='private'"><span class="vertical_align"></span>
						<a href="javascript:void(0)" data-toggle="modal" data-target="#invite_group" ng-click="resetInviteForm()"><span class="req_no">+</span></a>
					   
					</div>	
					<div class="comn_profile_img pending_request-link" ng-if="group.group_type=='private'&&group.is_admin==1"><span class="vertical_align"></span>
						<a href="javascript:void(0)" data-toggle="modal" data-target="#invite_group" ng-click="resetInviteForm()"><span class="req_no">+</span></a>
						
					</div>
					<div class="comn_profile_img pending_request-link" ng-if="group.is_admin==1&&group.request_count>0"><span class="vertical_align"></span>
						<a href="<?php echo $this->basePath(); ?>/groups/{{group.group_seo_title}}/members"><span class="req_no">+{{group.request_count}}</span></a>
						<div class="pending_req_notification border_radius arrow_box-bottom"><?php echo $this->translate('Pending requests','default'); ?></div>
					</div>				 
					<div class="comn_profile_img group_member_banner"ng-repeat="members in groupUsers">
						<a href="<?php echo $this->basePath(); ?>/{{members.user_profile_name}}">
						<img alt="" ng-if="members.profile_photo!=null&&members.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{members.user_id}}/{{ members.profile_photo }}">
						<img alt="" ng-if="(members.profile_photo==null||members.profile_photo=='')&&(members.user_fbid!=null&&members.user_fbid!='')" src="https://graph.facebook.com/{{members.user_fbid}}/picture?width=66&&height=66">
						<img alt="" ng-if="(members.profile_photo==null||members.profile_photo=='')&&(members.user_fbid==null||members.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg"></a>
					</div> 			               
				</div>
				<div class="group_member-text">
					<?php echo $this->translate('members','default'); ?>: <span>{{group.member_count}}</span>    <span>/</span>    <?php echo $this->translate('friends','default'); ?>: <span>{{group.friend_count}}</span>        <a href="<?php echo $this->basePath(); ?>/groups/{{group.group_seo_title}}/members"><?php echo $this->translate('SEE ALL','default'); ?></a>
				</div>
			</div>        
		</div><!-- Banner Close --->
		<div   class="group_banner group_banner_edit" ng-if="imageEdit ==1"   style="background:url(<?php echo $this->basePath(); ?>/public/images/ajaxloader-2.gif) no-repeat left top;min-height:200px;height:auto;"> 		
			<div class="image-editor-group" >
				<input type="file" class="cropit-image-input" style="width:0;height:0" id="file_bannerimage_upload">
				<div class="cropit-image-preview no-background" id="group-banner-edit"></div>				
				<div class="range_outer">
					<div class="image-size-label">
						<?php echo $this->translate('Resize image','default'); ?>
					</div>
					<input type="range" class="cropit-image-zoom-input">
				</div>
				<div class="cropButton">
					<div ng-if="cropGroupBannerAjax==0">
						<a href="javascript:void(0);" class="default_butn_red" ng-click="cancelcropImage()"><?php echo $this->translate('Cancel','default'); ?></a>			 
						<a href="javascript:void(0);"  class="default_butn_blue" ng-click="cropGroupImage()"><?php echo $this->translate('Apply','default'); ?></a>
					</div>
					<div  ng-if="cropGroupBannerAjax==1"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"></div>
				</div>
			</div>
			<div id="group_banner_edit_progress"></div>
		</div>
		<div class="clear"></div>
		<div class="pop_bg modal fade" id="interest_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog interest_popup">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
						<div class="clear"></div>
					</div>
					<div class="modal-body signup_body <?php echo $language_class; ?>">
						<div class="step1_outer">
							<h3><?php echo $this->translate('Add More Interests','default'); ?></h3>
							<div class="interest_category-outer dropdown_icons-outer" ng-switch on="intrest.switch">
								<a id="dLabel_intrest" data-toggle="dropdown" class="" href="javascript:void(0);">
									<img ng-if="selectedIntrestCategoryIcon!=''" src="{{categoryImagePath}}{{selectedIntrestCategoryIcon}}" alt="{{selectedIntrestCategory}}" />
									<img ng-if="selectedIntrestCategoryIcon==''" src="<?php echo $this->basePath(); ?>/public/images/category-icon.svg" alt="{{selectedIntrestCategory}}" /> 
									{{selectedIntrestCategory}}
								</a>
								<ul class="color-trans dropdown_icons border_radius dropdown-menu" aria-labelledby="dLabel_intrest" role="menu"   ng-switch-when="1">
									<div ng-init="enableIntrestScrollBar()" id="intrest_category_list">
										<li   ng-repeat="item in tagCategory">
										<a href="javascript:void(0);" ng-click="selectCategory(item.tag_category_id,item.tag_category_icon,item.tag_category_title_locale)">
										<img ng-if="item.tag_category_icon!=''" src="{{categoryImagePath}}{{item.tag_category_icon}}" alt="{{item.tag_category_title_locale}}" />
										<img ng-if="item.tag_category_icon==''" src="<?php echo $this->basePath(); ?>/public/images/category-icon.svg" alt="{{item.tag_category_title_locale}}" /> 
										{{item.tag_category_title_locale}}</a>
										</li>
									</div>								
								</ul>							 	
								<div ng-switch-when="2" class="loading"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> </div>
							</div>
							<div class="interest_search-outer" >
								<div class="fixed-search interest_search">
									<input type="text" placeholder="<?php echo $this->translate('Search Interest','default'); ?>" name="search" ng-model="tag_search" >
									<a href="javascript:void(0);"></a>
								</div>
							</div>
							<div class="clear"></div>
							<div class="popup_interest-lists" ng-show="showtags"  >
								<a class="interest_add" remove-on-click href="javascript:void(0);"    ng-repeat="items in filtered = (tags | filter:tag_search) | limitTo:tag_limit" ng-click="addToSelected(items.category_id,items.tag_id,items.tag_title_locale);remove()">{{items.tag_title_locale}}<span></span></a>
								<a ng-show="showmoretags" ng-click="tag_limit = tag_limit + tag_inc_limit" ng-init="tag_limit = tag_inc_limit" ng-hide="filtered.length <= tag_limit">
									<?php echo $this->translate('More','default'); ?>...
								</a>
							</div>
							<h3><?php echo $this->translate('Group Interests','default'); ?></h3>
							<div class="selected_interest">
								<img  ng-repeat="items in objSelectedCategory"   ng-if="items.category_icon!=''" src="{{categoryImagePath}}{{items.category_icon}}" alt="{{items.category_title}}" />
								<img ng-repeat="items in objSelectedCategory" ng-if="items.category_icon==''" src="<?php echo $this->basePath(); ?>/public/images/category-icon.svg" alt="{{items.category_title}}" /> 
							</div>
							<div class="popup_interest-lists">
								<a class="interest_added" href="javascript:void(0);" ng-repeat="items in objSelectedTags" remove-on-click ng-click="remove();removeFromSelected(items.tag_name,items.category)" >{{items.tag_name}}<span></span></a>							 
							</div>						
							<div class="login_button">
								<a href="javascript:void(0);" class="default_butn_blue" ng-click="AddToIntrest()"><?php echo $this->translate('Done','default'); ?></a>
							</div>
						</div>
					</div>				  
				</div>
			</div>
		</div>
		<div class="pop_bg modal fade" id="interestlist_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog interest_popup">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
						<div class="clear"></div>
					</div>
					<div class="modal-body signup_body">
						<div class="step1_outer">					 
							<h3><?php echo $this->translate('Group Interests','default'); ?></h3>
							<div class="selected_interest">
								<img  alt="" ng-repeat="tagitem in grouptagCategory" ng-if="tagitem.tag_category_icon!=''" src="{{categoryImagePath}}{{tagitem.tag_category_icon}}" alt="{{tagitem.tag_category_title}}" />
								<img ng-repeat="tagitem in grouptagCategory" ng-if="tagitem.tag_category_icon==''" src="<?php echo $this->basePath(); ?>/public/images/category-icon.svg" alt="{{tagitem.tag_category_title}}" /> 
							</div>
							<div class="popup_interest-lists">
								<span ng-repeat="tags in grouptags" ng-if="checkCommonIntrests(tags.tag_id)" style="text-transform:capitalize;" class="interest_common"> {{tags.tag_title}}<i>.</i></span>
								<span ng-repeat="tags in grouptags" ng-if="!checkCommonIntrests(tags.tag_id)" style="text-transform:capitalize;"> {{tags.tag_title}}<i>.</i></span>
							</div>					 
						</div>
					</div>				  
				</div>
			</div>
		</div> 			
		<div class="pop_bg modal fade" id="bannerdelete_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog banner_popup">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
						<div class="clear"></div>
					</div>
					<div class="modal-body signup_body">
						<div class="step1_outer">
							<h3><?php echo $this->translate('Please Confirm','default'); ?></h3>
							<div class="bannerdelete-outer">
							<?php echo $this->translate('You are about to delete a banner image of','default'); ?>	 <span>{{group.group_title}}</span> <?php echo $this->translate('group','default'); ?>. <?php echo $this->translate('Banner image is important as it personalizes a group and makes it more recognizable among the users','default'); ?>.
								<?php echo $this->translate('Are you sure you want to do this?','default'); ?>.	
							</div>						
							<div class="login_button">
								<a href="javascript:void(0);" class="default_butn_blue" ng-click="removeGroupBanner()"><?php echo $this->translate("Yes I'm sure",'default'); ?></a>
								<a href="javascript:void(0);" class="default_butn_red" ng-click="cancelRemove()"><?php echo $this->translate('No','default'); ?></a>
							</div>
						</div>
					</div>				  
				</div>
			</div>
		</div>
		<div class="pop_bg modal fade" id="edit_question" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog group_popup">
				<div class="modal-content">
					<div class="modal-header">            
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
						<div class="clear"></div>
					</div>
					<div class="modal-body signup_body <?php echo $language_class; ?>">
						<div ng-if="ajaxloadQuestionnaire==1"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"></div>            
						<div class="step1_outer" ng-if="ajaxloadQuestionnaire==0">                
							<div class="create_group-label"><strong><?php echo $this->translate('Edit Questionnaire','default'); ?></strong></div>
							<div ng-repeat="a in range() track by $index">
								<div class="create_group-label"><?php echo $this->translate('Question','default'); ?> {{$index+1}}</div>
								<div class="group_select_col-left">
									<div class="questionnaireedit-outer" >
										<a id="dLabel_{{$index}}" data-toggle="dropdown" class="" href="javascript:void(0);">{{questiondrpClass[$index].locale}}</a>
										<ul aria-labelledby="dLabel_{{$index}}" role="menu" class="dropdown-menu questions_dropdown">
											<li ng-repeat="item in QuestionType"><a href="javascript:void(0)" ng-click="selectedQuestionnaireType($parent.$index,item.type,item.locale)" >{{item.locale}}</a></li>								
										</ul>					 
									</div>						 
									<input type="hidden" ng-model="questionId[$index]" />
								</div>
								<div class="clear"></div>
								<div class="login-field">
									<textarea ng-model="question[$index]"  placeholder="<?php echo $this->translate('Type Your Question','default'); ?>"></textarea>
								</div>
								<div ng-if="selectedType[$index]=='checkbox'||selectedType[$index]=='radio'">
									<div class="clear"></div>
								    <div ng-if="$index==0">
										<div  ng-repeat="opt in optionrange(selectedOptionRange[0]) track by $index">
											<div class="group_select_col-left">
												<input name="" type="text" placeholder="<?php echo $this->translate('Type Your Options','default'); ?>" ng-model="option1[$index]"   />
											</div>
											<div class="clear"></div>
										</div>
										<div class="add-outer-container">
										<a href="javascript:void(0)" ng-click="addmoreOptions($index)" ng-if="selectedOptionRange[0]<10" class="add_more_question"><?php echo $this->translate('add','default'); ?><i></i></a>
										<a href="javascript:void(0)" ng-click="removeOptions($index)" ng-if="selectedOptionRange[0]>3" class="remove_more_question"><?php echo $this->translate('remove','default'); ?><i></i></a>
										</div>
									</div>
									<div class="clear"></div>
								    <div ng-if="$index==1">
										<div  ng-repeat="opt in optionrange(selectedOptionRange[1]) track by $index">
											<div class="group_select_col-left">
												<input name="" type="text" placeholder="<?php echo $this->translate('Type Your Options','default'); ?>" ng-model="option2[$index]"   />
											</div>
											<div class="clear"></div>
										</div>
										<div class="add-outer-container">
										<a href="javascript:void(0)" ng-click="addmoreOptions($index)" ng-if="selectedOptionRange[1]<10" class="add_more_question"><?php echo $this->translate('add','default'); ?><i></i></a>
										<a href="javascript:void(0)" ng-click="removeOptions($index)" ng-if="selectedOptionRange[1]>3" class="remove_more_question"><?php echo $this->translate('remove','default'); ?><i></i></a>
										</div>
									</div>
									<div class="clear"></div>                            
									<div ng-if="$index==2">
										<div  ng-repeat="opt in optionrange(selectedOptionRange[2]) track by $index">
											<div class="group_select_col-left">
												<input name="" type="text" placeholder="<?php echo $this->translate('Type Your Options','default'); ?>" ng-model="option3[$index]"   />
											</div>
											<div class="clear"></div>
										</div>
										<div class="add-outer-container">
										<a href="javascript:void(0)" ng-click="addmoreOptions($index)" ng-if="selectedOptionRange[2]<10" class="add_more_question"><?php echo $this->translate('add','default'); ?><i></i></a>
										<a href="javascript:void(0)" ng-click="removeOptions($index)" ng-if="selectedOptionRange[2]>3" class="remove_more_question"><?php echo $this->translate('remove','default'); ?><i></i></a>
										</div>
									</div>
									<div class="clear"></div>
								</div>
								<div class="clear"></div>
							</div>                 
							<div class="error-common" id="edit_questionniare-error"></div>
							<div class="signup_button">
								<div class="signup-link" ng-if="ajaxUpdateQuistionnaire==0">
									<a href="javascript:void(0);" class="default_butn_blue" id="" ng-click="SaveQuestionniare(group.group_id)"><?php echo $this->translate('Save','default'); ?></a>
									<a href="javascript:void(0);" class="default_butn_grey" id="" ng-click="cancelQuestionniare()"><?php echo $this->translate('Cancel','default'); ?></a>
								</div>
								<div class="signup-link" ng-if="ajaxUpdateQuistionnaire==1"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"></div>
								<div class="clear"></div>
							</div>                
						</div>
                    </div>          
				</div>
			</div>
		</div>
		<div class="pop_bg modal fade" id="leaveGroup_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog login_popup">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
						<div class="clear"></div>
					</div>
					<div class="modal-body signup_body">
						<div id="signup_step1">
							<div class="step1_outer">
								<h3><?php echo $this->translate('Please Confirm','default'); ?></h3>
								 <div class="already_member"> <?php echo $this->translate('You are about to leave the group','default'); ?> <span>{{selectedGroupRemoved}}</span>.<?php echo $this->translate('Are you sure?','default'); ?>
								 <div class="leave_group_btn">
								 <a href="javascript:void(0);" class="default_butn_blue" ng-click="leaveGroup()"><?php echo $this->translate("Yes I'm sure",'default'); ?></a>
								 <a href="javascript:void(0);" class="default_butn_red" id="cancel_reply" ng-click="showReply=0;removeLeaveBox()" data-dismiss="modal"><?php echo $this->translate("No",'default'); ?></a>
								 </div>
								</div>
							</div>
						</div>
					</div>          
				</div>
			</div>
		</div>
		<div class="pop_bg modal fade" id="join_group" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog join_group_popup">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate("Close",'default'); ?></span></button>
						<div class="clear"></div>
					</div>
					<div class="modal-body signup_body">
						<div class="step1_join" id="step_1" ng-if="(profile.user_profile_about_me==''||profile.user_profile_about_me==null||profile.user_profile_about_me=='null')&&joingroupStep==1">
							<h3><?php echo $this->translate("Introduce Yourself",'default'); ?></h3>
							 <div class="already_member signup_po-link"><?php echo $this->translate("Looks like you haven’t written your bio, why don’t you introduce yourself to the group? *You can edit this later on your profile page",'default'); ?><br />&nbsp;</div>
							<div class="login-field introduce_textarea">
								<textarea name="Introduction" placeholder="<?php echo $this->translate("Tell something interesting about yourself",'default'); ?>" ng-model="aboutme"></textarea>
							</div>                
							<div class="login_button">
								<!-- <a href="javascript:void(0);" class="default_butn_normal" ng-click="profile.user_profile_about_me='';closeJoinWindow();">Cancel</a> -->
								<a href="javascript:void(0);" class="default_butn_grey" ng-click="aboutme='';skipJoinRequest(1)"><?php echo $this->translate("Skip",'default'); ?></a>
								<div ng-if="aboutmeAjax==1" class="loading"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> </div>
								<a ng-if="aboutmeAjax==0" href="javascript:void(0);" class="default_butn_blue" id="step_2_join" ng-click="SaveAboutMe(aboutme)"><?php echo $this->translate("Continue",'default'); ?></a>
							</div>
						</div>
						<div class="step1_join" id="step_2" ng-if="joingroupStep==2">
							<h3><?php echo $this->translate("Upload Your Photo",'default'); ?></h3>
							<div class="upload_photo-outer">
								<div class="browse_photo profile_img-edit">
									<a href="javascript:void(0);"  data-toggle="modal" data-target="#upload_profile-image" ng-click="loadProfileUpload()" id="loadProfileUpload">
										<span>
											<i class="change_cover"></i><br>
											 <?php echo $this->translate("Upload",'default'); ?>
										</span>
									</a>
								</div>
								 <div class="photo_details"><?php echo $this->translate("Looks like you haven’t uploaded your profile photo. You can do it now (this improves your credibility on Jeera).",'default'); ?> <br />*<?php echo $this->translate("You can change this later on your profile page",'default'); ?>.</div>
								<div class="clear"></div>
							</div>
							<div class="login_button"> 
								<a href="javascript:void(0);" class="default_butn_grey" ng-click="skipJoinRequest(2)"><?php echo $this->translate("Skip",'default'); ?></a>
								<a href="javascript:void(0);" class="default_butn_blue" id="step_3_join" ng-click="gotoGroupJoiningStep3()"><?php echo $this->translate("Continue",'default'); ?></a>
								<div class="clear"></div>
							</div>
						</div>
						<div class="step1_join" id="step_3"  ng-if="joingroupStep==3">
							<h2 class="question_title"><?php echo $this->translate("How about knowing a bit more about you?",'default'); ?></h2>
							<span ng-repeat="items in  joingingquestionnaire">
							<h3>{{items.question}}</h3>
							<div class="login-field introduce_textarea" ng-if="items.answer_type == 'Textarea'">
								<textarea name="answer" placeholder="<?php echo $this->translate("Your Answer",'default'); ?>" ng-model="md_questionnaire[$index]"></textarea>
							</div>				                 
							<div class="login-field introduce_textarea" ng-if="items.answer_type == 'radio'">
								<div class="select_group-type join_radio" ng-repeat="option in items.options">
									<input type="radio" value="{{option.option_id}}"  name="group_type_{{items.questionnaire_id}}" id="Public-group-{{$parent.$index}}{{$index}}" ng-click="selectedOptionRadio(items.questionnaire_id,option.option_id)">
									<label for="Public-group-{{$parent.$index}}{{$index}}"><i class="radio-styled"></i> {{option.option}}</label>
									<div class="clear"></div>
								</div>                     
							</div>				
							<div class="login-field introduce_textarea" ng-if="items.answer_type == 'checkbox'">                   
								<div class="checkbox_outer">
									<ul class="notify_list">
										<li ng-repeat="option in items.options"><a href="javascript:void(0)" ng-click="selectedOptionCheckbox(items.questionnaire_id,option.option_id,$parent.$index)">
										<i class="check_blue" ng-if="!checkInList(items.questionnaire_id,option.option_id,$parent.$index)"></i>
										<i class="check_blue_checked" ng-if="checkInList(items.questionnaire_id,option.option_id,$parent.$index)"></i>
										{{option.option}}</a></li>
									</ul>                        
								</div>  
								<div class="clear"></div>                     
							</div>				
							</span>				
							<div class="login_button">
								<a href="javascript:void(0);" class="default_butn_grey" ng-click="skipJoinRequest(3)"><?php echo $this->translate("Skip",'default'); ?></a>
								<div ng-if="aboutmeAjax==1" class="loading"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> </div>
								<a href="javascript:void(0);" ng-if="aboutmeAjax!=1" class="default_butn_blue" id="step_4_join" ng-click="saveQuestionnaireAnswers()"><?php echo $this->translate("Continue",'default'); ?></a>
								<div class="clear"></div>
							</div>
						</div>            
						<div class="step1_join" id="step_4"  ng-if="joingroupStep==4">
							<h3 ng-if="JoiningItemType == 'public'||JoiningItemType == 'private'"><?php echo $this->translate("Your request has been sent",'default'); ?>.</h3>
							<h3 ng-if="JoiningItemType == 'open'"><?php echo $this->translate("Thank you for joining this group",'default'); ?>.</h3>						
							<div class="login_button">
								<a href="<?php echo $this->basePath(); ?>/explore?similar={{JoiningItem}}" class="default_butn_yellow"><?php echo $this->translate("Show Me Some More Similar Groups",'default'); ?></a>
								<a href="javascript:void(0);" class="default_butn_blue" id="" ng-click="reloadPage()"><?php echo $this->translate("Continue",'default'); ?></a>
							</div>
						</div>           
					</div>          
				</div>
			</div>
		</div>
		<div class="pop_bg modal fade" id="upload_profile-image" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog upload-img_popup">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate("Close",'default'); ?></span></button>
						<div class="clear"></div>
					</div>
					<div class="modal-body signup_body">
						<div class="step1_outer">
							<h3><?php echo $this->translate("Position and Size Your Photo",'default'); ?></h3>
							<div class="profile-pic_preview_outer">
								<div class="image-editor" id="profile_pic_editor">
									<div class="browse-profile_image"><input type="file" class="cropit-image-input" id="profile_image_file"></div>
									<!-- .cropit-image-preview-container is needed for background image to work -->
									<div class="cropit-image-preview-container">
										<div class="cropit-image-preview"></div>
									</div>
									<div class="image_zoom-bar">
										<input type="range" class="cropit-image-zoom-input">
									</div>
									<div id="profilepic_process"></div>
									<div class="upload-img_butns">
										<a href="javascript:void(0);" class="default_butn_red" ng-click="cancelImageUpload()"><?php echo $this->translate("Cancel",'default'); ?></a>
										<div ng-if="aboutmeAjax==1" class="loading"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> </div>
										<a href="javascript:void(0);"  ng-if="aboutmeAjax==0" class="default_butn_blue" ng-click="cropImage()"><?php echo $this->translate("Apply",'default'); ?></a>
									</div>								  
								</div>
							</div>						
						</div>            
					</div>          
				</div>
			</div>
		</div>
		<div class="pop_bg modal fade" id="invite_group" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog login_popup">
				<div class="modal-content group_invite <?php echo $language_class; ?>">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate("Close",'default'); ?></span></button>
						<div class="clear"></div>
					</div>
					<div class="modal-body signup_body">
						<div id="signup_step1">
							<div class="step1_outer">
								<div class="error-common" id="invite_error"></div>
								<div class="success-common" id="invite_success"></div>
								<h3 ><?php echo $this->translate("Invite People To Group",'default'); ?></h3>
								<div class="invited_names comn_profile_img" ng-repeat="item in objSelectedUsers" ng-click="RemoveFromInvitedUsers(item.user_id)">
										<img alt="" ng-if="item.user_image!=null&&item.user_image!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{item.user_id}}/{{ item.user_image }}">
										<img alt="" ng-if="(item.user_image==null||item.user_image=='')&&(item.user_fbid!=null&&item.user_fbid!='')" src="https://graph.facebook.com/{{item.user_fbid}}/picture?width=66&&height=66">
										<img alt="" ng-if="(item.user_image==null||item.user_image=='')&&(item.user_fbid==null||item.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">{{item.user_name}}<span></span>
									</div>
								<div class="login-field">
									<div class="fixed-search invite_search">
										<input name="name" id="invite_list_friend"  ng-keypress="getAllfriendsNotAMember()" type="text" ng-model="friend_search" placeholder="+ <?php echo $this->translate("Add more people",'default'); ?>" ng-focus="enablelist=1"   />
										<a href="javascript:void(0);"></a>
									</div>
									<div class="add-all_friends">
									<a ng-click="selectInviteAll()" href="javascript:void(0)">
									<i class="check_blue " ng-if="inviteAll!=1"></i>
									<i class="check_blue_checked" ng-if="inviteAll==1"></i>
									<?php echo $this->translate("Add all my friends",'default'); ?> 
									</a>
									</div>
									<div class="listed_members_container" id="listed_members_container" ng-if="filteredfriends.length>0"  style="display:none">
										<div id="listed_members_container_inner" ng-init="enableScrollbarInvite()">
										<ul id="invite_list_friend_ul">
											<li ng-repeat="item in filteredfriends" class="invite_user_container" remove-on-click ng-click="AddToInvitedUsers(item.user_id,item.user_given_name,item.profile_photo,item.user_fbid);remove();" id="myfriend{{$index}}">
												<div class="profile_imaage comn_profile_img">
													<img alt="" ng-if="item.profile_photo!=null&&item.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{item.user_id}}/{{ item.profile_photo }}">
													<img alt="" ng-if="(item.profile_photo==null||item.profile_photo=='')&&(item.user_fbid!=null&&item.user_fbid!='')" src="https://graph.facebook.com/{{item.user_fbid}}/picture?width=66&&height=66">
													<img alt="" ng-if="(item.profile_photo==null||item.profile_photo=='')&&(item.user_fbid==null||item.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
												</div>
												<div class="invite_user_name">{{item.user_given_name}}</div>	
											</li>
										</ul>
										</div>							
										<div ng-if="filteredfriends.length==0" class="matching_profile_messages"><?php echo $this->translate("No matching profiles",'default'); ?></div>
									</div>
									<div class="invited_friends">									 
										<div class="login_button">
										<a ng-click="sendInvite()"   class="default_butn_blue" href="javascript:void(0);"><?php echo $this->translate("Invite",'default'); ?></a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>          
				</div>
			</div>
		</div>
		<div class="pop_bg modal fade" id="reportGroup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog login_popup">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate("Close",'default'); ?></span></button>
						<div class="clear"></div>
					</div>
					<div class="modal-body signup_body">
						<div id="signup_step1" ng-if="groups_ajax_loader_reportpost==1">
							<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
						</div>
						<div id="signup_step1" ng-if="groups_ajax_loader_reportpost==0">
							<div class="step1_outer">
								<div class="error-common" id="groupreport_error"></div>
								<div class="success-common" id="groupreport_success"></div>
								<div class="select_group-type" ng-repeat="items in groups_reasons">			 
									<input type="radio" name="spam_type" id="{{items.reason_id}}" value="{{items.reason_id}}" ng-click="groups_selectReason(items.reason_id,items.reason)" ng-model="groups_spam.reason_id">
									<label for="{{items.reason_id}}"><i class="radio-styled"></i> <i class="group-public_black"></i>{{items.reason}}</label>                       
									<div class="clear"></div>
								</div>
								<div class="login-field" ng-if="groups_enableReportReason==1">
									<textarea placeholder="<?php echo $this->translate("Please type your reason",'default'); ?>" ng-model="groups_spam.otherReason"></textarea>
								</div>
								<div class="clear"></div>
								<div class="signup_button" ng-if="groups_reportAjaxLoader==0">                        
									 <a ng-click="groups_sendReport(groups_spam)" id="go_step-2" class="default_butn_blue" href="javascript:void(0);"><?php echo $this->translate("Submit",'default'); ?></a>
								</div>
								<div class="signup_button" ng-if="groups_reportAjaxLoader==1">                        
								   <img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
								</div>
								<div class="clear"></div>
							</div>
							<div class="clear"></div>
						</div> 
					</div>
				</div>          
			</div>
		</div>
		<div class="pop_bg modal fade" id="ownership_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog login_popup">
				<div class="modal-content">
					<div class="modal-header">             
						<div class="clear"></div>
					</div>
					<div class="modal-body signup_body">
						<div id="signup_step1" ng-if="ajax_member_loader==1">
							<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
						</div>
						<div class="error-common" id="groupowner_error"></div>
						<div class="success-common" id="groupowner_success"></div>
						<div id="signup_step1" ng-if="ajax_member_loader==0">
							<div class="step1_outer" ng-if="confirm_changes==0">
								<?php echo $this->translate("Are you sure you want to change the ownership of your group?",'default'); ?>
								<a href="javascript:void(0)" class="default_butn_blue" ng-click="processOwnership()"><?php echo $this->translate("Yes",'default'); ?></a>
								<a href="javascript:void(0)" class="default_butn_red" ng-click="cancelOwnership()"><?php echo $this->translate("No",'default'); ?></a>
							</div>
							<div class="step1_outer" ng-if="confirm_changes==1">					
								<div><?php echo $this->translate("Choose one from the members",'default'); ?> </div>
								<div class="select_group-type" ng-repeat="items in members">
									<div ng-if="profile_user_id!=items.user_id" class="memberlist_wrapper" ng-click="selectOwnerUser(items.user_id)" ng-class="{'active':selectedOwnerUser==items.user_id}">
										<div class="header-profile_image">						 	
											<img alt="" ng-if="items.profile_photo!=null&&items.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.user_id}}/{{ items.profile_photo }}">
											<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid!=null&&items.user_fbid!='')" src="https://graph.facebook.com/{{items.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid==null||items.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">							 
											<span class="owner-badge" ng-if="items.is_admin"></span>
											<span id="star{{items.user_id}}"></span>
										</div>
										<div class="post_profile-name">
											{{items.user_given_name}}
											<span><i class="group-location"></i>{{items.city}}, {{items.country_code}}</span>
										</div>
									</div>						
								</div>
								<div><a href="javascript:void(0)" ng-click="loadmoreMembers()" ng-if="showOwnershipLoadmore==1"><?php echo $this->translate("Loadmore",'default'); ?> </a></div>					
								<div class="clear"></div>
								<div class="signup_button" ng-if="ajax_process_changeOwnership==0">                        
									 <a ng-click="groups_ChangeOwnership()"  class="default_butn_blue" href="javascript:void(0);"><?php echo $this->translate("Submit",'default'); ?></a>
								</div>
								<div class="signup_button" ng-if="ajax_process_changeOwnership==1">                        
									<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
								</div>
								<div class="clear"></div>
							</div>
							<div ng-if="confirm_changes==2">
								<?php echo $this->translate("Successfully update your changes",'default'); ?>.
								<?php echo $this->translate("You want to quit from this group?",'default'); ?>
								<div ng-if="ajax_process_quitGroup==0">
								<a href="javascript:void(0)" class="default_butn_blue" ng-click="quitFromGroup()"><?php echo $this->translate("Yes",'default'); ?></a>
								<a href="javascript:void(0)" class="default_butn_red" ng-click="finishOwnershipProcess()"><?php echo $this->translate("No",'default'); ?></a>
								</div>
								<div class="signup_button" ng-if="ajax_process_quitGroup==1">                        
									<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
								</div>
							</div>
							<div class="clear"></div>
						</div> 
					</div>
				</div>          
			</div>
		</div>
		<div class="pop_bg modal fade" id="deleteGroup_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog login_popup">
				<div class="modal-content">
					<div class="modal-header">             
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate("Close",'default'); ?></span></button>
						<div class="clear"></div>
					</div>
					<div class="modal-body signup_body">
						<div id="signup_step1" ng-if="ajax_loader_deleteGroup==1">
							<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
						</div>
						<div class="error-common" id="groupdelete_error"></div>
						<div class="success-common" id="groupdelete_success"></div>
						<div id="signup_step1" ng-if="ajax_loader_deleteGroup==0&&processCompleted==0">
							<div class="step1_outer" >
								<div class="confirm_group_delete">
								<?php echo $this->translate("Are you sure you want to delete this group?",'default'); ?><br />
								<?php echo $this->translate("Note:You won't  be able to cancel or reverse this action",'default'); ?>.
								</div>
								<a href="javascript:void(0)" class="default_butn_blue" ng-click="processDelete()"><?php echo $this->translate("Yes",'default'); ?></a>
								<a href="javascript:void(0)" class="default_butn_red" ng-click="cancelDelete()"><?php echo $this->translate("No",'default'); ?></a>
							</div>
							<div ng-if="deleteMethod=='admin'&&processCompleted==1">
								<?php echo $this->translate("Your request is successfully submitted. Admin approval pending",'default'); ?>.
							</div>
							<div ng-if="deleteMethod=='direct'&&processCompleted==1">
								<?php echo $this->translate("Successfully deleted your group",'default'); ?>
							</div>							 
							<div class="clear"></div>
						</div> 
					</div>
				</div>          
			</div>
		</div>
	</div> 
</div>
 
<div id="feedapp" ng-app="feed_app" ng-cloak>    
	<div ng-controller="feedsController">
	<div ng-if="hideAll==0">
    <div class="feed-filter_outer <?php echo $language_class; ?>">
    	<div class="home-container">
        	<div class="row">
            	<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                	<div class="feed-refresh"><a href="javascript:void(0);" ng-click="getFeeds(0)"><img src="<?php echo $this->basePath(); ?>/public/images/refresh-icon.svg" alt="" /></a></div>
                    <div class="show-sorting">
                    	<?php echo $this->translate('Show','default'); ?>: 
                        <span><a href="javascript:void(0);" ng-class="{'active': feedType=='All'}" ng-click="feedSort('All');"><?php echo $this->translate('All','default'); ?></a></span>
                        <span><a href="javascript:void(0);" ng-class="{'active': feedType=='Text'}" ng-click="feedSort('Text');"><?php echo $this->translate('Text','default'); ?></a></span>
                        <span><a href="javascript:void(0);" ng-class="{'active': feedType=='Media'}" ng-click="feedSort('Media');"><?php echo $this->translate('Media','default'); ?></a></span>
                        <span><a href="javascript:void(0);" ng-class="{'active': feedType=='Event'}" ng-click="feedSort('Event');"><?php echo $this->translate('Event','default'); ?></a></span>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                	<div class="feed-filters">
                    	<?php echo $this->translate('Filter By','default'); ?>:              
                        <div class="filter_group-outer">
                            <a href="javascript:void(0);" class="filter_group" data-toggle="dropdown" id="by_activity">{{ActivityFilter}}<span></span></a>
                            <ul class="dropdown-menu sort-group_dropdown color-trans arrow_box" role="menu" aria-labelledby="by_activity">
                                <li ng-repeat="item in activityFilterList"><a href="javascript:void(0);" ng-class="{'active': ActivityFilterSelected==item.0}" ng-click="selectActivityFilters(item.0,item.1)"><i></i>{{item.1}}</a></li>                                
                            </ul>
                        </div>                        
                    </div>
                    <div class="clear"></div>
                </div>
                <div class="clear"></div>
            </div>
        </div>
    </div><!-- Filter Feeds Close --->
    
    <div class="home-container feeds-container" ng-init="getFeeds(0)" scroller>
		<div class="row">
			<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12" id="feed_row1">
				<div class="item" id="statusbar" ng-if="is_member==1">
					<div class="create_status-outer border_radius">
						<div class="create_status-header">
							<div class="header-profile_image create_status-profile">
								<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
								<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
								<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							</div> 
							<ul class="color-trans">
								<li><a href="javascript:void(0);" ng-class="{'active': status_selected=='text'}" id="status_header_text" ng-click="status_selected='text'"><i class="text"></i><?php echo $this->translate('Text','default'); ?></a></li> 
									  <li><a href="javascript:void(0);"  ng-class="{'active': status_selected=='media'}" id="status_header_media" ng-click="status_selected='media';"><i class="media"></i><?php echo $this->translate('Media','default'); ?></a></li> 
									  <li><a href="javascript:void(0);" id="event_tab" ng-class="{'active': status_selected=='event'}" id="status_header_event" ng-click="status_selected='event';"><i class="event"></i><?php echo $this->translate('Event','default'); ?></a></li> 
								 </ul> 
						 <div class="clear"></div> 
						  </div> 
						  <div id="status_text" ng-if="status_selected=='text'"> 
						  <div class="create_status-textarea"> 
								<textarea name="status" placeholder="<?php echo $this->translate('Whats on your mind?','default'); ?>" ng-model="mypost.statusText"></textarea> 
							   </div>                      
					  </div> 
						   <div id="status_media" ng-if="status_selected=='media'">
								<div class="status_media-outer">    
									<div ng-if="media_type=='image'"> 
										<div class="drag_drop-media group_drag-drop" id="uplodbtn"> 
											<div class="drag-caption"  > 
												<center><div id="ImageUploadStatus"></div></center> 
												<div id="default_img" onClick="getFile()"> 
													<img src="<?php echo $this->basePath();?>/public/images/drag_drop-img.svg" alt=""   /> 
													<br /><?php echo $this->translate('Choose a photo to upload','default'); ?>
												</div> 
												<div id="uploaded_img" style="display:none"> 
													<img src="<?php echo $this->basePath();?>/public/images/drag_drop-img.svg" alt="" id="imgUserImage" /> 
													<a href="javascript:void(0)" id="removeUploaded" class="media_upload_close"><?php echo $this->translate('Close','default'); ?></a> 
												</div> 
												<input type="file" name="btnUploadImage" id="btnUploadImage"   style="width:0;height:0" multiple >                                 
											</div>						 	
										</div> 
										<div class="status_media-caption"><input name="caption" type="text" placeholder="<?php echo $this->translate('Add caption','default'); ?>..."  ng-model="mypost.caption" /></div> 
										<div id="uploaded_images"></div>
									 </div>			 				 
									 <div id="status-media_video"  ng-if="media_type=='video'"> 
										<span > 
											<div class="status-video_link"><input name="caption" type="text" placeholder="<?php echo $this->translate('Enter youtube url','default'); ?>"  ng-model="mypost.videourl" /></div> 
											<div class="status-video_butn"><a href="javascript:void(0);" class="default_butn_grey" ng-click="addVideo()"><?php echo $this->translate('Add','default'); ?></a></div> 
											<div class="clear"></div> 
										</span> 
										<span class="video_preview"> 
											<div ng-repeat="videos in video" class="list_selected_video">
											<img class="youtube-image" src="http://img.youtube.com/vi/{{videos.video_id}}/0.jpg" /> 
											<a href="javascript:void(0)" ng-click="RemoveVideo(videos.video_id)" class="media_upload_close"><?php echo $this->translate('Close','default'); ?></a> 
											<br/> 
											</div>
										 </span>  
										<div class="status_media-caption"><input name="caption" type="text" placeholder="<?php echo $this->translate('Add text','default'); ?>..." ng-model="mypost.videoCaption" /></div>
																					
									 </div> 
									 
									 <div class="status_select-filetype"> 
										<a href="javascript:void(0);" class="media_photo" ng-class="{'active': media_type=='image'}" ng-click="changeMediaType('image')"></a>                                
										  <a href="javascript:void(0);" class="media_video" ng-class="{'active': media_type=='video'}" ng-click="changeMediaType('video')"></a> 
										 <div class="clear"></div> 
									 </div> 
									 <div id="progress">
									</div>
								  </div> 
								
							  </div> 
							
							 <div id="status_event" ng-if="status_selected=='event'"> 
								<div class="status_events-outer"> 
									<div class="event_fields-outer"> 
										<input name="event_title" type="text" placeholder="<?php echo $this->translate('Event Title','default'); ?>" ng-model="mypost.event_title" /> 
									 </div> 
									 <div class="event_fields-outer"> 
										<div class="event_date-out border_radius"> 
											<div class="event_date-pick"> 
												  <i class="grey-calender"></i> 
												  <input name="event_date" id="event_date" type="text" value="" ng-model="mypost.event_date" /> 
												 <div class="clear"></div> 
											  </div> 
											  <div class="event_time-pick"> 
												 <input name="event_time" id="event_time" type="text" value="" ng-model="mypost.event_time" placeholder="00:00:AM" /> 
											 </div> 
											 <div class="clear"></div> 
										 </div> 
									 </div> 
									  <div class="event_fields-outer"> 
										<div class="event_date-out border_radius"> 
											<i class="grey-location status_event_location"></i> 
											 <input class="status_event_location-text event_add_location" name="event_location" id="location" type="text" placeholder="<?php echo $this->translate('Event Location','default'); ?>" ng-model="mypost.event_location" /> 
											 <div class="clear"></div> 
										 </div> 
									 </div> 
									  <div class="status_event_pin-map"> 
										<div class="gmap-addevent"><div id="map-canvas"  ></div> </div>
										<div class="clear"></div> 
									  </div> 
									  <div class="status_event-details"> 
										<textarea name="event_description" placeholder="<?php echo $this->translate('Event Description','default'); ?>" class="border_radius" ng-model="mypost.event_description" ></textarea> 
									  </div> 
								 </div>                      
							 </div> 
							 <div class="create_status-footer"> 
								<div class="error-common" id="new_status_error" ></div>
								<div class="postin_group-outer"> 
									 
									<span ng-if="status_selected=='event'"> 
									<span><a href="javascript:void(0);" class="filter_group" data-toggle="dropdown" id="post_members">{{selectedMemberType_locale}}<span></span></a> 
									<ul class="dropdown-menu post-group_dropdown color-trans arrow_box" role="menu" aria-labelledby="post_members"> 
										<li ng-repeat="item in memberTypes"><a href="javascript:void(0);"  ng-click="changeMemberType(item.0,item.1,item.2)">{{item.2}}</a></li> 
										 
									</ul></span> 
									
									</span> 
									<span ng-if="status_selected=='media'"  class="album_container"> 
										<?php echo $this->translate('Albums','default'); ?>: <span><a href="javascript:void(0);" class="filter_albums" data-toggle="dropdown" id="post_in_albums">{{selectedAlbum}}<span></span></a> 
										<ul class="dropdown-menu post-group_dropdown color-trans arrow_box" role="menu" aria-labelledby="post_in_albums"> 
											<li ng-repeat="item in groupAlbums"><a href="javascript:void(0);" ng-click="changeAlbum(item.album_id,item.album_title)">{{item.album_title}}</a></li>	 							 
										</ul></span>
										<span class="btn_create_album"> <a href="javascript:void(0);" ng-click="loadCreateAlbum()"><?php echo $this->translate('Creat new Album','default'); ?></a></span>
									</span> 
									<div ng-show="inviteSelected" class="invite_common_container" ng-if="status_selected=='event'&&selectedMemberType=='Invite people'"> 
									 <input name="event_invite" id="event_invite" type="text" value="" ng-model="event_search"  ng-focus="enablelist=1" ng-blur="hideList()" /> 
									 <div class="selected_members"> 
										<div ng-repeat="item in objSelectedUsers" class="invite_user_container" ng-click="RemoveFromInvitedUsers(item.user_id)"> 
											<div class="profile_imaage comn_profile_img"> 
												<img alt="" ng-if="item.user_image!=null&&item.user_image!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{item.user_id}}/{{ item.user_image }}"> 
												<img alt="" ng-if="(item.user_image==null||item.user_image=='')&&(item.user_fbid!=null&&item.user_fbid!='')" src="https://graph.facebook.com/{{item.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(item.user_image==null||item.user_image=='')&&(item.user_fbid==null||item.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</div> 
											<div class="invite_user_name">{{item.user_name}}</div> 
										</div> 
									 </div> 
									  <div class="listed_members_container"  ng-mouseover="OnListHover()" ng-mouseleave="OnListOut()"  ng-if="enablelist"> 
										<div ng-repeat="item in allMembers|filter:event_search" class="invite_user_container" remove-on-click ng-click="AddToInvitedUsers(item.user_id,item.user_given_name,item.profile_photo,item.user_fbid);remove();"> 
											<div class="profile_imaage comn_profile_img"> 
												<img alt="" ng-if="item.profile_photo!=null&&item.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{item.user_id}}/{{ item.profile_photo }}"> 
												<img alt="" ng-if="(item.profile_photo==null||item.profile_photo=='')&&(item.user_fbid!=null&&item.user_fbid!='')" src="https://graph.facebook.com/{{item.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(item.profile_photo==null||item.profile_photo=='')&&(item.user_fbid==null||item.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</div> 
											<div class="invite_user_name">{{item.user_given_name}}</div> 
										</div> 
									 </div> 
									 </div> 
								</div> 
								<div class="post-butns" ng-switch on="submit.switch"> 
									<div ng-switch-when="2" class="loading"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> </div> 
									<a href="javascript:void(0);" class="default_butn_violet" ng-click="submitStatus(status_selected)" ng-switch-when="1"> <?php echo $this->translate('Post','default'); ?></a></div> 
								<div class="clear"></div> 
							</div> 
						  </div> 
					  </div> 
				 
			
			<div class="clear"></div>
			<div class="item" ng-repeat="items in feeds_row1">
					<div ng-switch="items.type" >
						<div class="post-outer border_radius <?php echo $language_class; ?>"  ng-switch-when='New Status' ng-init="selectedIndex = $index" >
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>						 
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span><?php echo $this->translate('posted in','default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Discussion',items.content.group_discussion_id,1,$index)"><?php echo $this->translate('Edit this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Discussion',items.content.group_discussion_id,1,$index)"><?php echo $this->translate('Delete this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Discussion',items.content.group_discussion_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate('Report this post','default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_status-text" >{{items.content.group_discussion_content}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Discussion_{{items.content.group_discussion_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<a href="javascript:void(0);" ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" ng-mouseover="loadToolTip('Discussion',items.content.group_discussion_id)" ng-mouseout="unloadToolTip('Discussion',items.content.group_discussion_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom"  ng-click="LoadLikedUsers('Discussion',items.content.group_discussion_id,items.content.like_count,items.content.is_liked)" >{{items.content.like_count}} <?php echo $this->translate('likes','default'); ?></a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Discussion_{{items.content.group_discussion_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate('More','default'); ?>..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate('More','default'); ?>..</span>					 
											</div> 							 
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Discussion_{{items.content.group_discussion_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Discussion_{{items.content.group_discussion_id}}" class="post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,1,$index,1)"> {{items.content.comment_counts}} <?php echo $this->translate('comments','default'); ?></a>							 
								</span>
								<div class="clear"></div>
								
								<div id="comment_Discussion_list_{{items.content.group_discussion_id}}" ng-if="items.viewComment==1">
									<div id="comment_Discussion_{{items.content.group_discussion_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Discussion_{{items.content.group_discussion_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Discussion',items.content.group_discussion_id);"></div>
											<div id="hashingUsers_Discussion_{{items.content.group_discussion_id}}"></div>
											<span id="hashed_users_Discussion_{{items.content.group_discussion_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Discussion',items.content.group_discussion_id,1,$index)"><?php echo $this->translate('Post','default'); ?></a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>			
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-if="comments.likes_count==0" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate('likes','default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,1,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,1,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,1,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate('More comments','default'); ?></a></div>
								</div>								
							</div>
						</div>
						<div class="post-outer border_radius <?php echo $language_class; ?>" ng-switch-when='New Media' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span ><?php echo $this->translate('posted','default'); ?> {{items.content.media_files.length}} <?php echo $this->translate('media to the album in','default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>									 
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Media',items.content.group_media_id,1,$index)"><?php echo $this->translate('Edit this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Media',items.content.group_media_id,1,$index)"><?php echo $this->translate('Delete this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Media',items.content.group_media_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate('Report this post','default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_post-image">
								<div ng-class="{'singleGrid' :items.content.media_files.length==1, 'doubleGrid' : items.content.media_files.length==2,'trilpleGrid' : items.content.media_files.length==3,'multiGrid' : items.content.media_files.length>3}">										
									<ul class="media_image_list"   >
										<li ng-repeat="media_file in items.content.media_files| limitTo:4">
											<a href="javascrip:void(0);" class="media_list"  data-toggle="modal" data-target="#post-img_popup" ng-click="loadMedia(media_file.id)">
												<img ng-if="media_file.media_type=='image'"  src="<?php echo $this->basePath(); ?>/public/{{image_paths.group}}{{items.content.group_id}}/media/{{media_file.files}}" alt=""   />
												<img ng-if="media_file.media_type=='youtube'"  src="http://img.youtube.com/vi/{{media_file.video_id}}/0.jpg" alt="" /><span></span>
											</a>
										</li>
									</ul>									 	
									<span ng-if="items.content.media_files.length>4" class="feed_more_media">+{{items.content.media_files.length-4}}</span> 
								</div>
							</div>
							<div class="post_status-text" >{{items.content.media_caption}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Media_{{items.content.group_media_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<a href="javascript:void(0);"  ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" class="post_likes_count" ng-mouseover="loadToolTip('Media',items.content.group_media_id)" ng-mouseout="unloadToolTip('Media',items.content.group_media_id)" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Media',items.content.group_media_id,items.content.like_count,items.content.is_liked)"  >{{items.content.like_count}} <?php echo $this->translate('likes','default'); ?></a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Media_{{items.content.group_media_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate('More','default'); ?>..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate('More','default'); ?>..</span>
											</div> 							 
										</span>	
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Media_{{items.content.group_media_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Media',items.content.group_media_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_reply post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,1,$index)" ng-if="items.content.is_commented!=1"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Media_{{items.content.group_media_id}}" class="post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,1,$index,1)"> {{items.content.comment_counts}} <?php echo $this->translate('comments','default'); ?></a>
								</span>
								<div class="clear"></div>
											
								<div id="comment_Media_list_{{items.content.group_media_id}}" ng-if="items.viewComment==1">
									<div id="comment_Media_{{items.content.group_media_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Media_{{items.content.group_media_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Media',items.content.group_media_id);"></div>
											<div id="hashingUsers_Media_{{items.content.group_media_id}}"></div>
											<span id="hashed_users_Media_{{items.content.group_media_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Media',items.content.group_media_id,1,$index)"><?php echo $this->translate('Post','default'); ?></a>
										</div>
									</div>
								</div>	
								<div class="clear"></div>	
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-if="comments.likes_count==0" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate('likes','default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,1,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,1,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Media',items.content.group_media_id,1,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate('More comments','default'); ?></a></div>
								</div>
							</div>
						</div>
						<div class="post-outer border_radius <?php echo $language_class; ?>" ng-switch-when='New Activity' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
										<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span><?php echo $this->translate('posted in','default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);"  data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Activity',items.content.group_activity_id,1,$index)"><?php echo $this->translate('Edit this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Activity',items.content.group_activity_id,1,$index)"><?php echo $this->translate('Delete this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Activity',items.content.group_activity_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate('Report this post','default'); ?></a></li>
										<li ng-if="items.content.allow_join==1&&items.content.is_going==1"><a href="javascript:void(0);" ng-click="QuitRSVP(items.content.group_activity_id,1,$index)"><?php echo $this->translate('Quit event','default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_event-map" id="map_Activity_{{items.content.group_activity_id}}">
								<div class="google-map" hello-maps="" latitude="
								{{items.content.group_activity_location_lat}}" longitude="{{items.content.group_activity_location_lng}}"  location="{{items.content.group_activity_location}}" going="{{items.content.is_going}}"></div>
							</div>
							<div class="post_event-header" >
								<i class="event-calender"></i><span>{{items.content.group_activity_start_timestamp}}</span>
								<div ng-if="items.content.allow_join==1">
									<span ng-if="items.content.is_going==1" class="event_butn" id="activityrsvp_{{items.content.group_activity_id}}"><?php echo $this->translate("I'm Going",'default'); ?></span>
									<span class="event_butn" ng-if="items.content.is_going!=1" id="activityrsvp_{{items.content.group_activity_id}}"><a href="javascript:void(0);" class="default_butn_blue" ng-click="JoinRSVP(items.content.group_activity_id,1,$index)" ><?php echo $this->translate("Join",'default'); ?></a></span>
								</div>
								<div class="clear"></div>
							</div>
							<div class="post_status-text" >
								<h5>{{items.content.group_activity_title}}</h5>
								<div class="event_joined-member">
									<div class="event_joined-left">
										<span class="event_going_members" id="activityrsvpcount_{{items.content.group_activity_id}}">{{items.content.rsvp_count}}</span>
										<a href="javascript:void(0)"  ng-click="loadRsvpList(items.content.group_activity_id,'All',1)"><?php echo $this->translate("GOING",'default'); ?> </a>   /    <span class="event_going_members">{{items.content.rsvp_friend_count}}</span> <a href="javascript:void(0)" ng-click="loadRsvpList(items.content.group_activity_id,'friends',1)"> <?php echo $this->translate("friends",'default'); ?> </a>
									</div>
									<div class="event_member-img">
										<a ng-repeat="attending_users_list in items.content.attending_users" href="<?php echo $this->basePath(); ?>/{{attending_users_list.user_profile_name}}"><span class="event_profile-img_joined comn_profile_img">
											<img alt="" ng-if="attending_users_list.profile_photo!=null&&attending_users_list.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{attending_users_list.user_id}}/{{ attending_users_list.profile_photo }}">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid!=null&&attending_users_list.user_fbid!='')" src="https://graph.facebook.com/{{attending_users_list.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid==null||attending_users_list.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</span></a>							
									</div>
									<div class="clear"></div>
								</div>
								{{items.content.group_activity_content}}
							</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Activity_{{items.content.group_activity_id}}">
										<a ng-if="items.content.is_liked==1" href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<a ng-if="items.content.is_liked!=1" href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<span class="tootltip_outer"><a href="javascript:void(0);" ng-mouseover="loadToolTip('Activity',items.content.group_activity_id)" ng-mouseout="unloadToolTip('Activity',items.content.group_activity_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Activity',items.content.group_activity_id,items.content.like_count,items.content.is_liked)">{{items.content.like_count}} <?php echo $this->translate('likes','default'); ?></a>
										<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Activity_{{items.content.group_activity_id}}" style="display:none">
											<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
											<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate('More','default'); ?>..</span>
											<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate('More','default'); ?>..</span>
										</div>
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Activity_{{items.content.group_activity_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Activity',items.content.group_activity_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Activity',items.content.group_activity_id,1,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_comments" id="ButtonComment_Activity_{{items.content.group_activity_id}}"  ng-click="LoadCommentList('Activity',items.content.group_activity_id,1,$index,1)">{{items.content.comment_counts}} comments</a>
								</span>
								
								<div class="clear"></div>
								<div id="comment_Activity_list_{{items.content.group_activity_id}}" ng-if="items.viewComment==1">
									<div class="clear"></div>
								<div id="comment_Activity_{{items.content.group_activity_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Activity_{{items.content.group_activity_id}}"  contenteditable="true" data-text="<?php echo $this->translate("Start typing your comment here",'default'); ?>.." ng-keydown="keyPress($event,'Activity',items.content.group_activity_id);"></div>
											<div id="hashingUsers_Activity_{{items.content.group_activity_id}}"></div>
											<span id="hashed_users_Activity_{{items.content.group_activity_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Activity',items.content.group_activity_id,1,$index)"><?php echo $this->translate("Post",'default'); ?></a>
										</div>
									</div>
								</div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" ng-if="comments.likes_count==0" class="post_likes" data-toggle="tooltip" data-placement="bottom"  ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate('likes','default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate("Start typing your comment here",'default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate("Cancel",'default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,1,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate("Post",'default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,1,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Activity',items.content.group_activity_id,1,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate("More comments",'default'); ?></a></div>
								</div>
							</div>
						</div>
					</div>
				</div>
		</div>
			<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12" id="feed_row2">            
				<div class="item" ng-repeat="items in feeds_row2">
					<div ng-switch="items.type">
						<div class="post-outer border_radius <?php echo $language_class; ?>"  ng-switch-when='New Status' ng-init="selectedIndex = $index" >
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>						 
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span><?php echo $this->translate("posted in",'default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Discussion',items.content.group_discussion_id,2,$index)"><?php echo $this->translate("Edit this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Discussion',items.content.group_discussion_id,2,$index)"><?php echo $this->translate("Delete this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Discussion',items.content.group_discussion_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate("Report this post",'default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_status-text" >{{items.content.group_discussion_content}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Discussion_{{items.content.group_discussion_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<a href="javascript:void(0);" ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" ng-mouseover="loadToolTip('Discussion',items.content.group_discussion_id)" ng-mouseout="unloadToolTip('Discussion',items.content.group_discussion_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom"  ng-click="LoadLikedUsers('Discussion',items.content.group_discussion_id,items.content.like_count,items.content.is_liked)" >{{items.content.like_count}} <?php echo $this->translate('likes','default'); ?></a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Discussion_{{items.content.group_discussion_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>	
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate('More','default'); ?>..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate('More','default'); ?>..</span>
											</div> 							 
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Discussion_{{items.content.group_discussion_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Discussion_{{items.content.group_discussion_id}}" class="post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,2,$index,1)"> {{items.content.comment_counts}} <?php echo $this->translate("comments",'default'); ?></a>							 
								</span>
								<div class="clear"></div>
								
								<div id="comment_Discussion_list_{{items.content.group_discussion_id}}" ng-if="items.viewComment==1">
									<div id="comment_Discussion_{{items.content.group_discussion_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Discussion_{{items.content.group_discussion_id}}"  contenteditable="true" data-text="<?php echo $this->translate("Start typing your comment here",'default'); ?>.." ng-keydown="keyPress($event,'Discussion',items.content.group_discussion_id);"></div>
											<div id="hashingUsers_Discussion_{{items.content.group_discussion_id}}"></div>
											<span id="hashed_users_Discussion_{{items.content.group_discussion_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Discussion',items.content.group_discussion_id,2,$index)"><?php echo $this->translate("Post",'default'); ?></a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>		
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate('likes','default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate("Start typing your comment here",'default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate("Cancel",'default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,2,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate("Post",'default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,2,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,2,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate("More comments",'default'); ?></a></div>
								</div>								
							</div>
						</div>
						<div class="post-outer border_radius <?php echo $language_class; ?>" ng-switch-when='New Media' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span ><?php echo $this->translate('posted','default'); ?>{{items.content.media_files.length}} <?php echo $this->translate("media to the album in",'default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
									 
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Media',items.content.group_media_id,2,$index)"><?php echo $this->translate('Edit this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Media',items.content.group_media_id,2,$index)"><?php echo $this->translate('Delete this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Media',items.content.group_media_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate('Report this post','default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_post-image">
								<div ng-class="{'singleGrid' :items.content.media_files.length==1, 'doubleGrid' : items.content.media_files.length==2,'trilpleGrid' : items.content.media_files.length==3,'multiGrid' : items.content.media_files.length>3}">
									
									<ul class="media_image_list">
										<li ng-repeat="media_file in items.content.media_files| limitTo:4">
											<a href="javascrip:void(0);" class="media_list"  data-toggle="modal" data-target="#post-img_popup" ng-click="loadMedia(media_file.id)">
												<img ng-if="media_file.media_type=='image'" src="<?php echo $this->basePath(); ?>/public/{{image_paths.group}}{{items.content.group_id}}/media/{{media_file.files}}" alt=""   />
												<img ng-if="media_file.media_type=='youtube'" src="http://img.youtube.com/vi/{{media_file.video_id}}/0.jpg" alt="" /><span></span>
											</a>
										</li>
									</ul>
									 
									<span ng-if="items.content.media_files.length>4" class="feed_more_media">+{{items.content.media_files.length-4}}</span>  
									 
								</div>
							</div>
							<div class="post_status-text" >{{items.content.media_caption}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Media_{{items.content.group_media_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<a href="javascript:void(0);"  ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" class="post_likes_count" ng-mouseover="loadToolTip('Media',items.content.group_media_id)" ng-mouseout="unloadToolTip('Media',items.content.group_media_id)" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Media',items.content.group_media_id,items.content.like_count,items.content.is_liked)"  >{{items.content.like_count}} <?php echo $this->translate('likes','default'); ?></a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Media_{{items.content.group_media_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>	
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate('More','default'); ?>..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate('More','default'); ?>..</span>
											</div> 							 
										</span>	
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Media_{{items.content.group_media_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Media',items.content.group_media_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_reply post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,2,$index)" ng-if="items.content.is_commented!=1"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Media_{{items.content.group_media_id}}" class="post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,2,$index,1)"> {{items.content.comment_counts}} <?php echo $this->translate('comments','default'); ?></a>
								</span>
								
								<div class="clear"></div>				
								<div id="comment_Media_list_{{items.content.group_media_id}}" ng-if="items.viewComment==1">
									<div class="clear"></div>
								<div id="comment_Media_{{items.content.group_media_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Media_{{items.content.group_media_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Media',items.content.group_media_id);"></div>
											<div id="hashingUsers_Media_{{items.content.group_media_id}}"></div>
											<span id="hashed_users_Media_{{items.content.group_media_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Media',items.content.group_media_id,2,$index)"><?php echo $this->translate('Post','default'); ?></a>
										</div>
									</div>
								</div>	
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate('likes','default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,2,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,2,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Media',items.content.group_media_id,2,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate('More comments','default'); ?></a></div>
								</div>
							</div>
						</div>
						<div class="post-outer border_radius <?php echo $language_class; ?>" ng-switch-when='New Activity' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
										<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span><?php echo $this->translate("posted in",'default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);"  data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Activity',items.content.group_activity_id,2,$index)"><?php echo $this->translate("Edit this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Activity',items.content.group_activity_id,2,$index)"><?php echo $this->translate("Delete this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Activity',items.content.group_activity_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate("Report this post",'default'); ?></a></li>
										<li ng-if="items.content.allow_join==1&&items.content.is_going==1"><a href="javascript:void(0);"  ng-click="QuitRSVP(items.content.group_activity_id,2,$index)"><?php echo $this->translate("Quit event",'default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_event-map" id="map_Activity_{{items.content.group_activity_id}}">
								<div class="google-map" hello-maps="" latitude="
								{{items.content.group_activity_location_lat}}" longitude="{{items.content.group_activity_location_lng}}"  location="{{items.content.group_activity_location}}" going="{{items.content.is_going}}"></div>
							</div>
							<div class="post_event-header" >
								<i class="event-calender"></i><span>{{items.content.group_activity_start_timestamp}}</span>
								<div ng-if="items.content.allow_join==1">
									<span ng-if="items.content.is_going==1" class="event_butn" id="activityrsvp_{{items.content.group_activity_id}}"><?php echo $this->translate("I'm Going",'default'); ?></span>
									<span class="event_butn" ng-if="items.content.is_going!=1" id="activityrsvp_{{items.content.group_activity_id}}"><a href="javascript:void(0);" class="default_butn_blue" ng-click="JoinRSVP(items.content.group_activity_id,2,$index)" ><?php echo $this->translate("Join",'default'); ?></a></span>
								</div>
								<div class="clear"></div>
							</div>
							<div class="post_status-text" >
								<h5>{{items.content.group_activity_title}}</h5>
								<div class="event_joined-member">
									<div class="event_joined-left">
										<span class="event_going_members" id="activityrsvpcount_{{items.content.group_activity_id}}">{{items.content.rsvp_count}}</span>
										<a href="javascript:void(0)"  ng-click="loadRsvpList(items.content.group_activity_id,'All',1)"><?php echo $this->translate("GOING",'default'); ?> </a>   /    <span class="event_going_members">{{items.content.rsvp_friend_count}}</span> <a href="javascript:void(0)" ng-click="loadRsvpList(items.content.group_activity_id,'friends',1)"> <?php echo $this->translate("friends",'default'); ?> </a>
									</div>
									<div class="event_member-img">
										<a ng-repeat="attending_users_list in items.content.attending_users" href="<?php echo $this->basePath(); ?>/{{attending_users_list.user_profile_name}}"><span class="event_profile-img_joined comn_profile_img">
											<img alt="" ng-if="attending_users_list.profile_photo!=null&&attending_users_list.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{attending_users_list.user_id}}/{{ attending_users_list.profile_photo }}">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid!=null&&attending_users_list.user_fbid!='')" src="https://graph.facebook.com/{{attending_users_list.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid==null||attending_users_list.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</span></a>							
									</div>
									<div class="clear"></div>
								</div>
								{{items.content.group_activity_content}}
							</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Activity_{{items.content.group_activity_id}}">
										<a ng-if="items.content.is_liked==1" href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<a ng-if="items.content.is_liked!=1" href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<span class="tootltip_outer"><a href="javascript:void(0);" ng-mouseover="loadToolTip('Activity',items.content.group_activity_id)" ng-mouseout="unloadToolTip('Activity',items.content.group_activity_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Activity',items.content.group_activity_id,items.content.like_count,items.content.is_liked)">{{items.content.like_count}} <?php echo $this->translate('likes','default'); ?></a>
										<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Activity_{{items.content.group_activity_id}}" style="display:none">
											<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>		
											<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate('More','default'); ?>..</span>
											<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate('More','default'); ?>..</span>
										</div>
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Activity_{{items.content.group_activity_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Activity',items.content.group_activity_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Activity',items.content.group_activity_id,2,$index)"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Activity_{{items.content.group_activity_id}}" class="post_comments" ng-click="LoadCommentList('Activity',items.content.group_activity_id,2,$index,1)">{{items.content.comment_counts}} <?php echo $this->translate("comments",'default'); ?></a>
								</span>
								<div class="clear"></div>
								
								<div id="comment_Activity_list_{{items.content.group_activity_id}}" ng-if="items.viewComment==1">
									<div id="comment_Activity_{{items.content.group_activity_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Activity_{{items.content.group_activity_id}}"  contenteditable="true" data-text="<?php echo $this->translate("Start typing your comment here",'default'); ?>.." ng-keydown="keyPress($event,'Activity',items.content.group_activity_id);"></div>
											<div id="hashingUsers_Activity_{{items.content.group_activity_id}}"></div>
											<span id="hashed_users_Activity_{{items.content.group_activity_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Activity',items.content.group_activity_id,2,$index)"><?php echo $this->translate("Post",'default'); ?></a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate('likes','default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate("Start typing your comment here",'default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,2,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,2,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Activity',items.content.group_activity_id,2,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate('More comments','default'); ?></a></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12" id="feed_row3">            
				<div class="item" ng-repeat="items in feeds_row3">
					<div ng-switch="items.type">
						<div class="post-outer border_radius <?php echo $language_class; ?>"  ng-switch-when='New Status' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>						 
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span><?php echo $this->translate("posted in",'default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Discussion',items.content.group_discussion_id,3,$index)"><?php echo $this->translate("Edit this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Discussion',items.content.group_discussion_id,3,$index)"><?php echo $this->translate("Delete this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Discussion',items.content.group_discussion_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate("Report this post",'default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_status-text" >{{items.content.group_discussion_content}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Discussion_{{items.content.group_discussion_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<a href="javascript:void(0);" ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Discussion',items.content.group_discussion_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" ng-mouseover="loadToolTip('Discussion',items.content.group_discussion_id)" ng-mouseout="unloadToolTip('Discussion',items.content.group_discussion_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom"  ng-click="LoadLikedUsers('Discussion',items.content.group_discussion_id,items.content.like_count,items.content.is_liked)" >{{items.content.like_count}} <?php echo $this->translate('likes','default'); ?></a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Discussion_{{items.content.group_discussion_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate('More','default'); ?>..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate('More','default'); ?>..</span>
											</div> 							 
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Discussion_{{items.content.group_discussion_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_comments" id="ButtonComment_Discussion_{{items.content.group_discussion_id}}" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,3,$index,1)"> {{items.content.comment_counts}} <?php echo $this->translate("comments",'default'); ?></a>							 
								</span>
								<div class="clear"></div>
								
								<div id="comment_Discussion_list_{{items.content.group_discussion_id}}" ng-if="items.viewComment==1">
									<div id="comment_Discussion_{{items.content.group_discussion_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Discussion_{{items.content.group_discussion_id}}"  contenteditable="true" data-text="<?php echo $this->translate("Start typing your comment here",'default'); ?>.." ng-keydown="keyPress($event,'Discussion',items.content.group_discussion_id);"></div>
											<div id="hashingUsers_Discussion_{{items.content.group_discussion_id}}"></div>
											<span id="hashed_users_Discussion_{{items.content.group_discussion_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Discussion',items.content.group_discussion_id,3,$index)"><?php echo $this->translate("Post",'default'); ?></a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate('likes','default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate("Start typing your comment here",'default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,3,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,3,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Discussion',items.content.group_discussion_id,3,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate('More comments','default'); ?></a></div>
								</div>								
							</div>
						</div>
						<div class="post-outer border_radius <?php echo $language_class; ?>" ng-switch-when='New Media' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
									<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
									<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span ><?php echo $this->translate('posted','default'); ?> {{items.content.media_files.length}} <?php echo $this->translate('media to the album in','default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Media',items.content.group_media_id,3,$index)"><?php echo $this->translate('Edit this post','default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Media',items.content.group_media_id,3,$index)"><?php echo $this->translate('Delete this post','default'); ?></a></li>
										<li><a href="javascript:void(0); " ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Media',items.content.group_media_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate('Report this post','default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_post-image">
								<div ng-class="{'singleGrid' :items.content.media_files.length==1, 'doubleGrid' : items.content.media_files.length==2,'trilpleGrid' : items.content.media_files.length==3,'multiGrid' : items.content.media_files.length>3}">
									
									<ul   class="media_image_list">
										<li ng-repeat="media_file in items.content.media_files| limitTo:4">
											<a href="javascrip:void(0);" class="media_list"  data-toggle="modal" data-target="#post-img_popup" ng-click="loadMedia(media_file.id)">
											<img ng-if="media_file.media_type=='image'" src="<?php echo $this->basePath(); ?>/public/{{image_paths.group}}{{items.content.group_id}}/media/{{media_file.files}}" alt=""   />
											<img ng-if="media_file.media_type=='youtube'" src="http://img.youtube.com/vi/{{media_file.video_id}}/0.jpg" alt="" /><span></span>
											</a>
										</li>
										
									</ul>
									 
									<span ng-if="items.content.media_files.length>4" class="feed_more_media">+{{items.content.media_files.length-4}}</span> 
									 
								</div>
							</div>
							<div class="post_status-text" >{{items.content.media_caption}}</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Media_{{items.content.group_media_id}}">
										<a href="javascript:void(0);" ng-if="items.content.is_liked==1" class="post_likes liked" ng-click="funUnLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<a href="javascript:void(0);"  ng-if="items.content.is_liked!=1" class="post_likes" ng-click="funLikeAction('Media',items.content.group_media_id)"><i></i></a>
										<span class="tootltip_outer">
											<a href="javascript:void(0);" class="post_likes_count" ng-mouseover="loadToolTip('Media',items.content.group_media_id)" ng-mouseout="unloadToolTip('Media',items.content.group_media_id)" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Media',items.content.group_media_id,items.content.like_count,items.content.is_liked)"  >{{items.content.like_count}} <?php echo $this->translate('likes','default'); ?></a>
											<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Media_{{items.content.group_media_id}}" style="display:none">
												<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>
												<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate('More','default'); ?>..</span>
												<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate('More','default'); ?>..</span>
											</div> 							 
										</span>	
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Media_{{items.content.group_media_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Media',items.content.group_media_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_reply post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,3,$index)" ng-if="items.content.is_commented!=1"><i></i></a>
									<a href="javascript:void(0);" id="ButtonComment_Media_{{items.content.group_media_id}}" class="post_comments" ng-click="LoadCommentList('Media',items.content.group_media_id,3,$index,1)"> {{items.content.comment_counts}} <?php echo $this->translate('comments','default'); ?></a>
								</span>
								<div class="clear"></div>
								 				
								<div id="comment_Media_list_{{items.content.group_media_id}}" ng-if="items.viewComment==1">
									<div id="comment_Media_{{items.content.group_media_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Media_{{items.content.group_media_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Media',items.content.group_media_id);"></div>
											<div id="hashingUsers_Media_{{items.content.group_media_id}}"></div>
											<span id="hashed_users_Media_{{items.content.group_media_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Media',items.content.group_media_id,3,$index)"><?php echo $this->translate('Post','default'); ?></a>
										</div>
									</div>
								</div>	
								<div class="clear"></div>
									<div class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img">
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate('likes','default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,3,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,3,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Media',items.content.group_media_id,3,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate('More comments','default'); ?></a></div>
								</div>
							</div>
						</div>
						<div class="post-outer border_radius <?php echo $language_class; ?>" ng-switch-when='New Activity' ng-init="selectedIndex = $index">
							<div class="post_header">
								<span class="vertical_align"></span>
								<div class="header-profile_image">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">
										<img alt="" ng-if="items.content.profile_photo!=null&&items.content.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.content.user_id}}/{{ items.content.profile_photo }}">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid!=null&&items.content.user_fbid!='')" src="https://graph.facebook.com/{{items.content.user_fbid}}/picture?width=66&&height=66">
										<img alt="" ng-if="(items.content.profile_photo==null||items.content.profile_photo=='')&&(items.content.user_fbid==null||items.content.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
									</a>
									<span class="owner-badge" ng-if="items.content.is_admin"></span>
								</div>
								<div class="post_profile-name">
									<a href="<?php echo $this->basePath(); ?>/{{items.content.user_profile_name}}">{{items.content.user_given_name}}</a>
									<span><?php echo $this->translate("posted in",'default'); ?> <a href="<?php echo $this->basePath(); ?>/groups/{{items.content.group_seo_title}}">{{items.content.group_title}}</a></span>
								</div>
								<div class="post_time noti_time"><i></i>{{items.time}}</div>
								<div class="clear"></div>
								<div class="post_option-outer">
									<a href="javascript:void(0);" data-toggle="dropdown" id="post_option"><i></i></a>
									<ul class="dropdown-menu post-option_dropdown color-trans" role="menu" aria-labelledby="post_in_group">
										<li><a href="javascript:void(0);"  data-toggle="modal" data-target="#feed_edit" ng-if="items.content.user_id==profile.user_id"  ng-click="editFeed('Activity',items.content.group_activity_id,3,$index)"><?php echo $this->translate("Edit this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#feed_delete" ng-if="items.content.is_logged_user_admin==1||items.content.user_id==profile.user_id"  ng-click="deleteFeed('Activity',items.content.group_activity_id,3,$index)"><?php echo $this->translate("Delete this post",'default'); ?></a></li>
										<li><a href="javascript:void(0);" ng-if="items.content.user_id!=profile.user_id" ng-click="ReportPost('Activity',items.content.group_activity_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate("Report this post",'default'); ?></a></li>
										<li ng-if="items.content.allow_join==1&&items.content.is_going==1"><a href="javascript:void(0);"  ng-click="QuitRSVP(items.content.group_activity_id,3,$index)"><?php echo $this->translate("Quit event",'default'); ?></a></li>
									</ul>
								</div>
							</div>
							<div class="post_event-map" id="map_Activity_{{items.content.group_activity_id}}">
								<div class="google-map" hello-maps="" latitude="
								{{items.content.group_activity_location_lat}}" longitude="{{items.content.group_activity_location_lng}}"  location="{{items.content.group_activity_location}}" going="{{items.content.is_going}}"></div>
							</div>
							<div class="post_event-header" >
								<i class="event-calender"></i><span>{{items.content.group_activity_start_timestamp}}</span>
								<div ng-if="items.content.allow_join==1">
									<span ng-if="items.content.is_going==1" class="event_butn" id="activityrsvp_{{items.content.group_activity_id}}"><?php echo $this->translate("I'm Going",'default'); ?></span> 
									<span class="event_butn" ng-if="items.content.is_going!=1" id="activityrsvp_{{items.content.group_activity_id}}"><a href="javascript:void(0);" class="default_butn_blue" ng-click="JoinRSVP(items.content.group_activity_id,3,$index)" ><?php echo $this->translate("Join",'default'); ?></a></span>
								</div>
								<div class="clear"></div>
							</div>
							<div class="post_status-text" >
								<h5>{{items.content.group_activity_title}}</h5>
								<div class="event_joined-member">
									<div class="event_joined-left">
										<span class="event_going_members" id="activityrsvpcount_{{items.content.group_activity_id}}">{{items.content.rsvp_count}}</span>
										<a href="javascript:void(0)"  ng-click="loadRsvpList(items.content.group_activity_id,'All',1)"><?php echo $this->translate("GOING",'default'); ?> </a>   /    <span class="event_going_members">{{items.content.rsvp_friend_count}}</span> <a href="javascript:void(0)" ng-click="loadRsvpList(items.content.group_activity_id,'friends',1)"> <?php echo $this->translate("friends",'default'); ?> </a>
									</div>
									<div class="event_member-img">
										<a ng-repeat="attending_users_list in items.content.attending_users" href="<?php echo $this->basePath(); ?>/{{attending_users_list.user_profile_name}}"><span class="event_profile-img_joined comn_profile_img">
											<img alt="" ng-if="attending_users_list.profile_photo!=null&&attending_users_list.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{attending_users_list.user_id}}/{{ attending_users_list.profile_photo }}">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid!=null&&attending_users_list.user_fbid!='')" src="https://graph.facebook.com/{{attending_users_list.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(attending_users_list.profile_photo==null||attending_users_list.profile_photo=='')&&(attending_users_list.user_fbid==null||attending_users_list.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</span></a>							
									</div>
									<div class="clear"></div>
								</div>
								{{items.content.group_activity_content}}
							</div>
							<div class="post_status-footer">
								<span class="like_comment_outer">
									<span class="Activity_{{items.content.group_activity_id}}">
										<a ng-if="items.content.is_liked==1" href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<a ng-if="items.content.is_liked!=1" href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Activity',items.content.group_activity_id)" ><i></i></a>
										<span class="tootltip_outer"><a href="javascript:void(0);" ng-mouseover="loadToolTip('Activity',items.content.group_activity_id)" ng-mouseout="unloadToolTip('Activity',items.content.group_activity_id)"  class="post_likes_count" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Activity',items.content.group_activity_id,items.content.like_count,items.content.is_liked)">{{items.content.like_count}} <?php echo $this->translate('likes','default'); ?></a>
										<div ng-if="items.content.like_count>0" class="like_tooltip" id="tooltip_Activity_{{items.content.group_activity_id}}" style="display:none">
											<span ng-repeat="likedusers in items.content.liked_users">{{likedusers}}</span>	
											<span ng-if="items.content.like_count>2&&items.content.is_liked==0"><?php echo $this->translate('More','default'); ?>..</span>
											<span ng-if="items.content.like_count>3&&items.content.is_liked==1"><?php echo $this->translate('More','default'); ?>..</span>
										</div>
										</span>
									</span>
								</span>
								<span class="post_comment-right" id="CntComment_Activity_{{items.content.group_activity_id}}">
									<a href="javascript:void(0);" ng-if="items.content.is_commented==1" class="post_reply post_comments comented" ng-click="LoadCommentList('Activity',items.content.group_activity_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" ng-if="items.content.is_commented!=1" class="post_reply post_comments" ng-click="LoadCommentList('Activity',items.content.group_activity_id,3,$index)"><i></i></a>
									<a href="javascript:void(0);" class="post_comments" id="ButtonComment_Activity_{{items.content.group_activity_id}}" ng-click="LoadCommentList('Activity',items.content.group_activity_id,3,$index,1)">{{items.content.comment_counts}} <?php echo $this->translate("comments",'default'); ?></a>
								</span>
								<div class="clear"></div>
								 
								<div id="comment_Activity_list_{{items.content.group_activity_id}}" ng-if="items.viewComment==1">
									<div id="comment_Activity_{{items.content.group_activity_id}}">
									<div class="post_comment-outer" id="post_reply">
										<div class="header-profile_image comment_profile-img">
											<img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
											<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="commentTextArea" id="commentText_Activity_{{items.content.group_activity_id}}"  contenteditable="true" data-text=" <?php echo $this->translate("Start typing your comment here",'default'); ?>.." ng-keydown="keyPress($event,'Activity',items.content.group_activity_id);"></div>
											<div id="hashingUsers_Activity_{{items.content.group_activity_id}}"></div>
											<span id="hashed_users_Activity_{{items.content.group_activity_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">
											<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment('Activity',items.content.group_activity_id,3,$index)"><?php echo $this->translate("Post",'default'); ?></a>
										</div>
									</div>
								</div>
								<div class="clear"></div>
									<div  class="post_comment-outer" ng-repeat="comments in items.content.comments" id="comment_list_{{comments.comment_id}}">
										<div class="header-profile_image comment_profile-img" >
											<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
												<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
												<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
											</a>
										</div>
										<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
											<span class="profile_name-comment">
												<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name}}</a>											
											</span>
											<div   id="comment_content_text_{{comments.comment_id}}">{{showCommentText(comments.comment_content,comments.comment_id)}}</div>
											<div class="comment_likes">
												<span class="Comment_{{comments.comment_id}}">
												<div ng-if="comments.islike==1">
													<span class="tootltip_outer">
														<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
												</div>
												<div ng-if="comments.islike!=1">
													<span class="tootltip_outer" ng-if="comments.likes_count>0">
														<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a>
														<a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadToolTip('Comment',comments.comment_id)" ng-mouseout="unloadToolTip('Comment',comments.comment_id)" >{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
														<div class="like_tooltip" id="tooltip_Comment_{{comments.comment_id}}" style="display:none">
															<span ng-repeat="likedusers in comments.liked_users">{{likedusers}}</span>
															<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
															<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>	
														</div>
													</span>
													<a href="javascript:void(0);"  ng-if="comments.likes_count==0" class="post_likes" ng-click="funLikeAction('Comment',comments.comment_id)" ><i></i></a><a href="javascript:void(0);" class="post_likes" ng-if="comments.likes_count==0" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" >0 <?php echo $this->translate('likes','default'); ?></a>
												</div>
												</span>
												<div class="post_time noti_time comment_time"><i></i>{{comments.comment_time}}</div>
												<div class="clear"></div>
											</div>
										</div>
										<div class="post_comment_text post_comment_reply">
											<div class="comment-edit" style="display:none" id="edit-comment-outer-{{comments.comment_id}}">
												<div   >
													
													<div class="commentTextArea" id="editcomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate("Start typing your comment here",'default'); ?>.." ng-keydown="keyPress($event,'Comment',comments.comment_id);">
														 
													</div>
													<div id="hashingUsers_Comment_{{comments.comment_id}}"></div>
													<span id="hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
													 												
												</div>
												<div class="clear"></div>
												<div class="post_comment_reply-butns">												 
													<span>
														<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
														<a ng-click="SendEditComment(comments.comment_id,3,selectedIndex);" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>
													</span>
												</div>
											</div>
											<div class="clear"></div>
											<div class="comment_actions">
												<a class="comment_edit" ng-if="comments.user_id==profile.user_id" href="javascript:void(0);" title="Edit" ng-click="enableCommentEdit(comments.comment_id,comments.comment_content);"></a>
												<a class="comment_delete" href="javascript:void(0);" ng-if="comments.allowedit==1" title="Delete" ng-click="DeleteComment(comments.comment_id,3,selectedIndex)"></a>
												<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
											</div>
											<div class="clear"></div>
										</div>
										
									</div>
									<div><a class="loadmore-comments" href="javascript:void(0)" ng-if="items.content.comments.length>=(items.content.comment_page*1)*10" ng-click="LoadCommentList('Activity',items.content.group_activity_id,3,$index,(items.content.comment_page*1)+1)"><?php echo $this->translate('More comments','default'); ?></a></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<a href="javascript:void(0)" id="hid_loader" style="width:0;height:0;overflow:hidden" ng-click="loadAllMedia(group.group_id,1)" ></a>
<!-- Post Images Pop Up -->
<div class="pop_bg modal fade" id="post-img_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

	<div class="modal-content postimg_content" >
		<div class="modal-header">
			<!-- <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> -->
			<div class="clear"></div>
		</div>
		
		<div class="modal-body postimg_body <?php echo $language_class; ?>">
			<span ng-if="mediaLoader ==1" class="media_loader"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"></span>
			
			<span ng-if="media_view=='Images'" class="image-popup-outer" >
				<div class="post-img_preview-outer">
					<div class="post-img_preview">
						<div class="post-img_preview_nav">
							<div class="image_preview-previous" ng-if="media.prev_id!=''">
								<a href="javascript:void(0);" ng-click="loadMedia(media.prev_id)"><i></i></a>
							</div>
							<div class="image_show-all">
								<a href="javascript:void(0);" ng-click="LoadAlbum(media.group_id,media.album_id)"><i></i></a>
							</div>
							<div class="image_preview-next" ng-if="media.next_id!=''">
								<a href="javascript:void(0);" ng-click="loadMedia(media.next_id)"><i></i></a>
							</div>
							<div class="clear"></div>
						</div>
						<div class="pop_image-preview" ng-if="media.media_type=='image'">
							<img ng-if="media.media_type=='image'" src="<?php echo $this->basePath(); ?>/public/datagd/group/{{media.group_id}}/media/{{media.media_file}}" alt="{{media.media_file}}" />				 
						</div>
						<div id="video_content"></div>
						<div class="pop_img-footer">
							<div ng-if="media.album_name!=''">
								<?php echo $this->translate('Album','default'); ?>:<span>{{media.album_name}}</span>
							</div>						
							<?php echo $this->translate('in group','default'); ?>: <a href="<?php echo $this->basePath(); ?>/groups/{{media.group_seo_title}}">{{media.group_title}}</a>
							<div  ng-if="media.event_name!=''">
								link to:<a href="<?php echo $this->basePath(); ?>/groups/{{media.group_seo_title}}/events/{{media.event_id}}">{{media.event_name}}</a>
							</div>
						</div>
					</div>
				</div>
				<div class="image_postdetails" ng-if="medialist==0">
				<div class="post_header">
					<span class="vertical_align"></span>
					<div class="image_option-outer">
						<a href="javascript:void(0);" data-toggle="dropdown" id="image_option"><i></i> <?php echo $this->translate('Options','default'); ?></a>
						<ul class="dropdown-menu  color-trans" role="menu" aria-labelledby="post_in_group">
							<li><a href="javascript:void(0);" data-toggle="modal" data-target="#popup_delete" ng-if="media.is_logged_user_admin==1||media.is_added==1||media.is_album_creator==1"  ng-click="deletePostFromPopup('Image',media.media_file_id)"><?php echo $this->translate('Delete this post','default'); ?></a></li>
							<li><a href="javascript:void(0);" ng-if="media.user_id!=profile.user_id" ng-click="ReportPost('Image',media.media_file_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate('Report this post','default'); ?></a></li>
						</ul>
					</div>
					<div class="header-profile_image">
						<img alt="" ng-if="media.profile_photo!=null&&media.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{media.user_id}}/{{ media.profile_photo }}">
						<img alt="" ng-if="(media.profile_photo==null||media.profile_photo=='')&&(media.user_fbid!=null&&media.user_fbid!='')" src="https://graph.facebook.com/{{media.user_fbid}}/picture?width=66&&height=66">
						<img alt="" ng-if="(media.profile_photo==null||media.profile_photo=='')&&(media.user_fbid==null||media.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
						<span class="owner-badge" ng-if="media.is_admin==1"></span>
					</div>
					<div class="post_profile-name">
						<a href="<?php echo $this->basePath(); ?>/{{media.user_profile_name}}">{{media.user_given_name}}</a>
						<span><?php echo $this->translate('posted in','default'); ?>  <a href="<?php echo $this->basePath(); ?>/groups/{{media.group_seo_title}}">{{media.group_title}}</a></span>
					</div>
					<div class="post_time noti_time"><i></i>{{media.added_time}}</div>
					<div class="clear"></div>
				</div>
				<div class="post_status-text">
					{{media.media_caption}}
				</div>
				<div class="post_status-footer">
					<span class="like_comment_outer">
						<span id="Image_modelwindow">
							<span ng-if="medialike_ajaxloader == 1">
								<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif">
							</span>
							<span class="tootltip_outer" ng-if="medialike_ajaxloader == 0">
								<a class="post_likes" ng-class="{'liked': media.is_liked==1}" ng-if="media.is_liked ==1" href="javascript:void(0);" ng-click="funUnLikeAction('Image',media.media_file_id)"  ><i></i></a>
								<a class="post_likes" ng-if="media.is_liked ==0" href="javascript:void(0);" ng-click="funLikeAction('Image',media.media_file_id)" ><i></i></a>
								<a href="javascript:void(0)"   ng-click="LoadLikedUsers('Image',media.media_file_id,media.likes_counts,media.is_liked)" ng-mouseover="loadPopupToolTip('Image',media.media_file_id)"  ng-mouseleave="unloadPopupToolTip('Image',media.media_file_id)"  >{{media.likes_counts}} <?php echo $this->translate('likes','default'); ?></a>							
								 
								<div class="like_tooltip"  ng-if="media.likes_counts>0" id="tooltip_popup_Media_{{media.media_file_id}}" style="display:none">	
									<span ng-repeat="items in media.likedUsers">{{items}}</span> 
									<span ng-if="media.likes_counts>2&&media.is_liked ==0"><?php echo $this->translate('More','default'); ?>..</span>
									<span ng-if="media.likes_counts>3&&media.is_liked ==1"><?php echo $this->translate('More','default'); ?>..</span>									
								</div>
							</span>						
						</span>
					</span>
					<span  class="post_comment-right">
						<a class="post_comments" ng-class="{'comented': media.is_commented==1}" href="javascript:void(0);" ng-click="enableCommentReplyMedia()"><i></i></a>
						<a class="post_comments" href="javascript:void(0);" ng-click="enableCommentReplyMedia()"><span >{{media.comment_count}} <?php echo $this->translate('comments','default'); ?></span></a>
					</span>					
					<div class="clear"></div>
					<div class="post_comment-outer" id="post_reply-media" ng-show="showReply==1">
						<div class="header-profile_image comment_profile-img">
							 <img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
							 <img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							 
						</div>
						<div class="post_comment_text post_comment_reply">
                             <div class="commentTextArea" contenteditable="true" ng-keydown="keyPressMedia($event,'Image',media.media_file_id);" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." id="txtMediaComment"></div>
							<div id="txtMediaCommenthashed"></div>
							<span id="media_hashed_users_Media_{{media.media_file_id}}" data-items=""></span>
						</div>
						<div class="clear"></div>
						<div class="post_comment_reply-butns">
							<!-- <a href="javascript:void(0);" class="default_butn_grey" id="cancel_reply" ng-click="showReply=0;removeCommentBox()">Cancel</a> -->
							<a href="javascript:void(0);" class="default_butn_violet" ng-click="postComment('Image',media.media_file_id)"><?php echo $this->translate('Post','default'); ?></a>
						</div>
					</div>
				</div>
				 
				<div id="comment_container_outer" ng-init="enableScrollbar()">
					<div class="post_comment-outer" ng-repeat="comments in media_comments">
						<div class="header-profile_image comment_profile-img">
							<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
							<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
							<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							 </a>
						</div>
						<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
							<span class="profile_name-comment"><a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name }}</a></span><span id="comment_text_{{$index}}">{{loadCommmentText($index,comments.comment_content)}}</span>
							<div class="comment_likes">								 
								<span class="Comment_{{comments.comment_id}}">
								<span class="tootltip_outer">
								<a href="javascript:void(0);" class="post_likes liked" ng-if="comments.islike==1" ng-click="funUnLikeAction('Comment',comments.comment_id)"><i></i></a>
								<a href="javascript:void(0)" ng-if="comments.islike == 1" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadPopupToolTip('Comment',comments.comment_id)" ng-mouseleave="unloadPopupToolTip('Comment',comments.comment_id)">{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
								<a href="javascript:void(0);" class="post_likes" ng-if="comments.islike==0" ng-click="funLikeAction('Comment',comments.comment_id)"><i></i></a>
								<a href="javascript:void(0)" ng-if="comments.islike==0"  ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadPopupToolTip('Comment',comments.comment_id)" ng-mouseleave="unloadPopupToolTip('Comment',comments.comment_id)">{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
								
								<div class="like_tooltip" ng-if="comments.likes_count>0" id="tooltip_popup_Comment_{{comments.comment_id}}" style="display:none">	
									<span ng-repeat="items in comments.likedUsers">{{items}}</span> 
									<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
									<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>
								</div>
								</span>
								</span>
								<div class="post_time noti_time comment_time "><i></i>{{comments.comment_time}}</div>
								<div class="clear"></div>
							</div>
						</div>
						<div class="post_comment_text post_comment_reply">
									<div class="comment-edit"  style="display:none" id="edit-mediacomment-outer-{{comments.comment_id}}">
										 
										 
										<div >
											<div class="commentTextArea" id="editmediacomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPressMedia($event,'Comment',comments.comment_id);">
														 
											</div>
											<div id="txtMediaEditCommenthashed_{{comments.comment_id}}"></div>
											<span id="media_hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">											 
											<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
											<a ng-click="SendMediaEditComment(comments.comment_id,'Image')" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>											 
										</div>
									</div>
								</div>
								<div class="clear"></div>
								<div >
									<div class="comment_actions">
										<a class="comment_edit" href="javascript:void(0);" ng-if="comments.user_id==profile.user_id" title="Edit" ng-click="MediaenableCommentEdit(comments.comment_id,comments.comment_content)"></a>
										<a ng-if="comments.allowedit==1" class="comment_delete" href="javascript:void(0);" title="Delete" ng-click="DeleteCommentMedia(comments.comment_id,media.group_media_id)"></a>
										<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
									</div>
								</div>
						<div class="clear"></div>
					</div>
					<div ng-if= "media.comment_count>10&&hideloadmore==0" ng-click="loadmoreCommentFromPopup(media.group_media_id)"> <a href="javascript:void(0)" class="loadmore-comments"><?php echo $this->translate('More comments','default'); ?></a></div>  	  
				</div>
			</div>
			<div class="clear"></div>
			</span>
			<span ng-if="mediaLoader ==0&&media_view=='AlbumImages'" class="image-popup-outer"> 
				<div class="post-img_preview-outer">
					<div >
						<div class="post-img_preview_nav">					 
							<div class="image_show-old">
								<a href="javascript:void(0);" ng-click="loadMedia(open_id)"><i></i></a>
							</div>					 
							<div class="clear"></div>
						</div>
						<div class="image_pop_options">
							<?php echo $this->translate('Show','default'); ?>:<ul>
								<li><a href="javascript:void(0)" ng-click="loadAllMedia(media_group_id,1)" ><?php echo $this->translate('All Photos','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllGroupAlbums(media_group_id,1)"><?php echo $this->translate('Albums','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllEventAlbums(media_group_id,1)"><?php echo $this->translate('Events','default'); ?></a></li>
							</ul>
						</div>
						<h3><?php echo $this->translate('All Media of','default'); ?> {{albumDetails.album_name}}</h3>
						<div  id="media_list"  style="height:500px;overflow:hidden" ng-init="enableScrollbarMedia()"> 
						<span ng-if="albumDetails.media_files.length==0"><?php echo $this->translate('No more images','default'); ?></span>
						<ul ng-if="albumDetails.media_files.length>0" class="album_images_list">
							<li ng-repeat="items in albumDetails.media_files"><a href="javascript:void(0)" ng-click="loadMedia(items.id)" >
							<img  ng-if="items.media_type=='image'" src="<?php echo $this->basePath(); ?>/public/datagd/group/{{albumDetails.group_id}}/media/{{items.files}}">
							<img ng-if="items.media_type=='youtube'" src="http://img.youtube.com/vi/{{items.video_id}}/0.jpg" />
							</a></li>
							<div class="clear"></div>
							<a href="javascript:void(0)" ng-click="LoadmoreAlbum(albumDetails.group_id,albumDetails.album_id);" ng-if="showLoadmore==1" class="media_loadmore"><?php echo $this->translate('Loadmore','default'); ?></a>
						</ul>
						</div>
					</div>		
				</div>
				<div class="image_postdetails" ng-if="medialist==0&&albumDetails.album_id!='unsorted'"  >
				<div class="post_header">
					<span class="vertical_align"></span>
					<div class="image_option-outer" >
						<a href="javascript:void(0);" data-toggle="dropdown" id="image_option"><i></i> <?php echo $this->translate('Options','default'); ?></a>
						<ul class="dropdown-menu  color-trans" role="menu" aria-labelledby="post_in_group">
							<li><a href="javascript:void(0);" data-toggle="modal" data-target="#popup_delete" ng-if="albumDetails.is_logged_user_admin==1||albumDetails.is_album_creator==1||albumDetails.is_event_creator==1"  ng-click="deletePostFromPopup('Album',albumDetails.album_id)"><?php echo $this->translate('Delete this Album','default'); ?></a></li>
							<li><a href="javascript:void(0);" ng-if="albumDetails.creator_id!=profile.user_id" ng-click="ReportPost('Album',albumDetails.album_id)" data-toggle="modal" data-target="#report_post"><?php echo $this->translate('Report this post','default'); ?></a></li>
							<li><a href="javascript:void(0);" ng-if="albumDetails.creator_id==profile.user_id||albumDetails.is_logged_user_admin==1" ng-click="PrepareToEditAlbum(albumDetails.album_id)" ><?php echo $this->translate('Edit album','default'); ?></a></li>
						</ul>
					</div>
					<div class="frm_album_edit" ng-if="AlbumEdit==1">
						<div class="error-common" id="album_edit_error" ></div>
						<div><input type="text" id="album_edit_title" ng-model="album_edit_title" /></div>
						<div><textarea id="album_edit_description" ng-model="album_edit_description"></textarea></div>
						<div><?php echo $this->translate('Tag Event','default'); ?>:
							<div class="album_event_outer">
								<?php echo $this->translate('Select events related to','default'); ?>
								<span><a href="javascript:void(0);" class="filter_albums" data-toggle="dropdown" id="post_in_albums">{{album_edit_event_title}}<span></span></a> 
								<ul class="dropdown-menu post-group_dropdown color-trans arrow_box" role="menu" aria-labelledby="post_in_albums"> 
									<li ><a href="javascript:void(0);" ng-click="selectAlbumEditEvent('','Choose Event')"><?php echo $this->translate('Choose Event','default'); ?></a></li>
									<li ng-repeat="item in album_edit_event_list"><a href="javascript:void(0);" ng-click="selectAlbumEditEvent(item.group_activity_id,item.group_activity_title)">{{item.group_activity_title}}</a></li>
								</ul></span>
							</div>
						</div>
						<div><a  ng-click="EditAlbum(albumDetails.album_id,album_edit_title,album_edit_description)" class="default_butn_violet ng-scope" href="javascript:void(0);"> <?php echo $this->translate('Update','default'); ?></a>
						<a  ng-click="CancelEditAlbum()" class="default_butn_violet ng-scope" href="javascript:void(0);"> <?php echo $this->translate('Cancel','default'); ?></a>
						</div>
					</div>
					<span ng-if="AlbumEdit==0">
						<div class="header-profile_image">
							<img alt="" ng-if="albumDetails.profile_photo!=null&&albumDetails.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{albumDetails.user_id}}/{{ albumDetails.profile_photo }}">
							<img alt="" ng-if="(albumDetails.profile_photo==null||albumDetails.profile_photo=='')&&(albumDetails.user_fbid!=null&&albumDetails.user_fbid!='')" src="https://graph.facebook.com/{{albumDetails.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(albumDetails.profile_photo==null||albumDetails.profile_photo=='')&&(albumDetails.user_fbid==null||albumDetails.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							<span class="owner-badge" ng-if="albumDetails.is_admin==1"></span>
						</div>
						<div class="post_profile-name">
							<a href="<?php echo $this->basePath(); ?>/{{albumDetails.user_profile_name}}">{{albumDetails.user_given_name}}</a>
							<span><?php echo $this->translate('Created album','default'); ?> {{albumDetails.album_name}} in  <a href="<?php echo $this->basePath(); ?>/groups/{{albumDetails.group_seo_title}}">{{albumDetails.group_title}}</a></span>
						</div>
						<div class="post_time noti_time"><i></i></div>
						<div class="clear"></div>
					</span>
				</div>
				<div class="post_status-text">
					 
				</div>
				<div class="post_status-footer">
					<span class="like_comment_outer">
						<span id="Album_modelwindow">
							<span ng-if="medialike_ajaxloader == 1">
								<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif">
							</span>
							<span class="tootltip_outer" ng-if="medialike_ajaxloader == 0">
								<a class="post_likes" ng-class="{'liked': albumDetails.is_liked==1}" ng-if="albumDetails.is_liked ==1" href="javascript:void(0);" ng-click="funUnLikeAction('Album',albumDetails.album_id)"  ><i></i></a>
								<a class="post_likes" ng-if="albumDetails.is_liked ==0" href="javascript:void(0);" ng-click="funLikeAction('Album',albumDetails.album_id)" ><i></i></a>
								<a href="javascript:void(0)"   ng-click="LoadLikedUsers('Album',albumDetails.album_id,albumDetails.likes_counts,albumDetails.is_liked)" ng-mouseover="loadPopupToolTip('Album',albumDetails.album_id)"  ng-mouseleave="unloadPopupToolTip('Album',albumDetails.album_id)"  >{{albumDetails.likes_counts}} <?php echo $this->translate('likes','default'); ?></a>							
								 
								<div class="like_tooltip"  ng-if="albumDetails.likes_counts>0" id="tooltip_popup_Media_{{albumDetails.album_id}}" style="display:none">	
									<span ng-repeat="items in albumDetails.likedUsers">{{items}}</span> 
									<span ng-if="albumDetails.likes_counts>2&&albumDetails.is_liked ==0"><?php echo $this->translate('More','default'); ?>..</span>
									<span ng-if="albumDetails.likes_counts>3&&albumDetails.is_liked ==1"><?php echo $this->translate('More','default'); ?>..</span>									
								</div>
							</span>						
						</span>
					</span>
					<span  class="post_comment-right">
						<a class="post_comments" ng-class="{'comented': albumDetails.is_commented==1}" href="javascript:void(0);" ng-click="enableCommentReplyMedia()"><i></i></a>
						<a class="post_comments" href="javascript:void(0);" ng-click="enableCommentReplyMedia()"><span >{{albumDetails.comment_count}} comments</span></a>
					</span>					
					<div class="clear"></div>
					<div class="post_comment-outer" id="post_reply-media" ng-show="showReply==1">
						<div class="header-profile_image comment_profile-img">
							 <img alt="" ng-if="profile.profile_photo!=null&&profile.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{profile.user_id}}/{{ profile.profile_photo }}">
							 <img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid!=null&&profile.user_fbid!='')" src="https://graph.facebook.com/{{profile.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(profile.profile_photo==null||profile.profile_photo=='')&&(profile.user_fbid==null||profile.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							 
						</div>
						<div class="post_comment_text post_comment_reply">
                             <div class="commentTextArea" contenteditable="true" ng-keydown="keyPressMedia($event,'Album',albumDetails.album_id);" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?> .." id="txtMediaComment"></div>
							<div id="txtMediaCommenthashed"></div>
							<span id="media_hashed_users_Media_{{albumDetails.album_id}}" data-items=""></span>
						</div>
						<div class="clear"></div>
						<div class="post_comment_reply-butns">
							<!-- <a href="javascript:void(0);" class="default_butn_grey" id="cancel_reply" ng-click="showReply=0;removeCommentBox()">Cancel</a> -->
							<a href="javascript:void(0);" class="default_butn_violet" ng-click="postComment('Album',albumDetails.album_id)"><?php echo $this->translate('Post','default'); ?> </a>
						</div>
					</div>
				</div>
				 
				<div id="comment_container_outer" ng-init="enableScrollbar()">
					<div class="post_comment-outer" ng-repeat="comments in album_comments">
						<div class="header-profile_image comment_profile-img">
							<a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">
							<img alt="" ng-if="comments.profile_photo!=null&&comments.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{comments.user_id}}/{{ comments.profile_photo }}">
							<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid!=null&&comments.user_fbid!='')" src="https://graph.facebook.com/{{comments.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(comments.profile_photo==null||comments.profile_photo=='')&&(comments.user_fbid==null||comments.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
							 </a>
						</div>
						<div class="post_comment_text" ng-if="!ifexistinEditList(comments.comment_id)">
							<span class="profile_name-comment"><a href="<?php echo $this->basePath(); ?>/{{comments.user_profile_name}}">{{comments.user_given_name }}</a></span><span id="comment_text_{{$index}}">{{loadCommmentText($index,comments.comment_content)}}</span>
							<div class="comment_likes">								 
								<span class="Comment_{{comments.comment_id}}">
								<span class="tootltip_outer">
								<a href="javascript:void(0);" class="post_likes liked" ng-if="comments.islike==1" ng-click="funUnLikeAction('Comment',comments.comment_id)"><i></i></a>
								<a href="javascript:void(0)" ng-if="comments.islike == 1" ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadPopupToolTip('Comment',comments.comment_id)" ng-mouseleave="unloadPopupToolTip('Comment',comments.comment_id)">{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
								<a href="javascript:void(0);" class="post_likes" ng-if="comments.islike==0" ng-click="funLikeAction('Comment',comments.comment_id)"><i></i></a>
								<a href="javascript:void(0)" ng-if="comments.islike==0"  ng-click="LoadLikedUsers('Comment',comments.comment_id,comments.likes_count,comments.islike)" ng-mouseover="loadPopupToolTip('Comment',comments.comment_id)" ng-mouseleave="unloadPopupToolTip('Comment',comments.comment_id)">{{comments.likes_count}} <?php echo $this->translate('likes','default'); ?></a>
								
								<div class="like_tooltip" ng-if="comments.likes_count>0" id="tooltip_popup_Comment_{{comments.comment_id}}" style="display:none">	
									<span ng-repeat="items in comments.likedUsers">{{items}}</span> 
									<span ng-if="comments.like_count>2&&comments.islike==0"><?php echo $this->translate('More','default'); ?>..</span>
									<span ng-if="comments.like_count>3&&comments.islike==1"><?php echo $this->translate('More','default'); ?>..</span>
								</div>
								</span>
								</span>
								<div class="post_time noti_time comment_time "><i></i>{{comments.comment_time}}</div>
								<div class="clear"></div>
							</div>
						</div>
						<div class="post_comment_text post_comment_reply">
									<div class="comment-edit"  style="display:none" id="edit-mediacomment-outer-{{comments.comment_id}}">
										 
										 
										<div >
											<div class="commentTextArea" id="editmediacomment_text_{{comments.comment_id}}"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPressMedia($event,'Comment',comments.comment_id);">
														 
											</div>
											<div id="txtMediaEditCommenthashed_{{comments.comment_id}}"></div>
											<span id="media_hashed_users_Comment_{{comments.comment_id}}" data-items=""></span>
										</div>
										<div class="clear"></div>
										<div class="post_comment_reply-butns">											 
											<a ng-click="RemoveCommentEditWindow(comments.comment_id)" id="cancel_reply" class="default_butn_grey" href="javascript:void(0);"><?php echo $this->translate('Cancel','default'); ?></a>
											<a ng-click="SendMediaEditComment(comments.comment_id,'AlbumImages')" class="default_butn_violet" href="javascript:void(0);"><?php echo $this->translate('Post','default'); ?></a>											 
										</div>
									</div>
								</div>
								<div class="clear"></div>
								<div >
									<div class="comment_actions">
										<a class="comment_edit" href="javascript:void(0);" ng-if="comments.user_id==profile.user_id" title="Edit" ng-click="MediaenableCommentEdit(comments.comment_id,comments.comment_content)"></a>
										<a ng-if="comments.allowedit==1" class="comment_delete" href="javascript:void(0);" title="Delete" ng-click="DeleteCommentMedia(comments.comment_id,media.group_media_id)"></a>
										<a class="comment_report" href="javascript:void(0);" title="Report" ng-if="comments.user_id!=profile.user_id" ng-click="ReportPost('Comment',comments.comment_id)" data-toggle="modal" data-target="#report_post" ></a>
									</div>
								</div>
						<div class="clear"></div>
					</div>
					<div ng-if= "media.comment_count>10&&hideloadmore==0" ng-click="loadmoreCommentFromPopup(media.group_media_id)"> <a href="javascript:void(0)" class="loadmore-comments"><?php echo $this->translate('More comments','default'); ?></a></div>  	  
				</div>
			</div>
			<div class="clear"></div>
			</span>
			<span ng-if="mediaLoader ==0&&media_view=='AllImages'" class="image-popup-outer">
				<div class="post-img_preview-outer">
					<div>
						<div class="post-img_preview_nav">					 
							<div class="image_show-old">
								<a href="javascript:void(0);" ng-click="loadMedia(open_id)"><i></i></a>
							</div>					 
							<div class="clear"></div>
						</div>
						<div class="image_pop_options">
							<?php echo $this->translate('Show','default'); ?>:<ul>
								<li><a href="javascript:void(0)" ng-click="loadAllMedia(media_group_id,1)" class="active"><?php echo $this->translate('All Photos','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllGroupAlbums(media_group_id,1)"><?php echo $this->translate('Albums','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllEventAlbums(media_group_id,1)"><?php echo $this->translate('Events','default'); ?></a></li>
							</ul>
						</div>
						<div id="media_list"  style="height:500px;overflow:hidden"  ng-init="enableScrollbarMedia()" >
						<span ng-if="groupAllMediaContent.length==0"><?php echo $this->translate('No more images','default'); ?></span>
						<ul ng-if="groupAllMediaContent.length>0">
							<li ng-repeat="items in groupAllMediaContent"><a href="javascript:void(0)" ng-click="loadMedia(items.id)" >
							<img  ng-if="items.media_type=='image'" src="<?php echo $this->basePath(); ?>/public/datagd/group/{{items.group_id}}/media/{{items.files}}">
							<img ng-if="items.media_type=='youtube'" src="http://img.youtube.com/vi/{{items.video_id}}/0.jpg" />
							</a></li>
							<div class="clear"></div>
							<a href="javascript:void(0)" ng-click="LoadmoreMedia(albumDetails.group_id);" ng-if="showLoadmoreAllPhoto==1" class="media_loadmore"><?php echo $this->translate('Loadmore','default'); ?></a>
						</ul>
						</div>
					</div>		
				</div>
			</span>
			<span ng-if="mediaLoader ==0&&media_view=='AllAlbums'" class="image-popup-outer">
				<div class="post-img_preview-outer">
					<div >
						<div class="post-img_preview_nav">					 
							<div class="image_show-old">
								<a href="javascript:void(0);" ng-click="loadMedia(open_id)"><i></i></a>
							</div>					 
							<div class="clear"></div>
						</div>
						<div class="image_pop_options">
							<?php echo $this->translate('Show','default'); ?>:<ul>
								<li><a href="javascript:void(0)" ng-click="loadAllMedia(media_group_id,1)"><?php echo $this->translate('All Photos','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllGroupAlbums(media_group_id,1)" class="active"><?php echo $this->translate('Albums','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllEventAlbums(media_group_id,1)"><?php echo $this->translate('Events','default'); ?></a></li>
							</ul>
						</div>
						<div id="media_list"  style="height:500px;overflow:hidden"  ng-init="enableScrollbarMedia()">
						<span ng-if="GroupAlbumList.length==0"><?php echo $this->translate('No more albums','default'); ?></span>
						<ul ng-if="GroupAlbumList.length>0">
							<li ng-repeat="items in GroupAlbumList" class="media_album_list"><a href="javascript:void(0);"  ng-click="LoadAlbum(items.group_id,items.album_id)" >
							<img src="{{items.album_icon_url}}" />
							<span ng-if="items.albumImage_count>0" class="album_image_count">{{items.albumImage_count}}<i><?php echo $this->translate('Images','default'); ?></i></span>
							<span class="album_created_date">{{items.created_date}}</span>
							</a>
							<span class="album_title"><i ng-if="items.event_id!=0"></i>{{items.album_title}}</span>
							</li>
							<div class="clear"></div>
							<a href="javascript:void(0)" ng-click="LoadmoreGroupAlbum(media_group_id);" ng-if="showLoadmoreGroupAlbum==1" class="media_loadmore"><?php echo $this->translate('Loadmore','default'); ?></a>
						</ul>
						</div>
					</div>		
				</div>
			</span>
			<span ng-if="mediaLoader ==0&&media_view=='EventAlbums'" class="image-popup-outer">
				<div class="post-img_preview-outer">
					<div >
						<div class="post-img_preview_nav">					 
							<div class="image_show-old">
								<a href="javascript:void(0);" ng-click="loadMedia(open_id)"><i></i></a>
							</div>					 
							<div class="clear"></div>
						</div>
						<div class="image_pop_options">
							<?php echo $this->translate('Show','default'); ?>:<ul>
								<li><a href="javascript:void(0)" ng-click="loadAllMedia(media_group_id,1)"><?php echo $this->translate('All Photos','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllGroupAlbums(media_group_id,1)"><?php echo $this->translate('Albums','default'); ?></a></li>
								<li><a href="javascript:void(0)" ng-click="loadAllEventAlbums(media_group_id,1)" class="active"><?php echo $this->translate('Events','default'); ?></a></li>
							</ul>
						</div>
						<div id="media_list"  style="height:500px;overflow:hidden" ng-init="enableScrollbarMedia()" >
						<span ng-if="EventAlbumList.length==0"><?php echo $this->translate('No more albums','default'); ?></span>
						<ul  ng-if="EventAlbumList.length>0">
							<li ng-repeat="items in EventAlbumList" class="media_album_list"><a href="javascript:void(0);"  ng-click="LoadAlbum(items.group_id,items.album_id)" >
							<img src="{{items.album_icon_url}}" />
							<span ng-if="items.albumImage_count>0" class="album_image_count">{{items.albumImage_count}}<i><?php echo $this->translate('Images','default'); ?></i></span>
							<span class="album_created_date">{{items.created_date}}</span>
							</a>
							<span class="album_title"><i ng-if="items.event_id!=0"></i>{{items.album_title}}</span>
							</li>
							<div class="clear"></div>
							<a href="javascript:void(0)" ng-click="LoadmoreEventAlbum(media_group_id);" ng-if="showLoadmoreEventAlbum==1" class="media_loadmore"><?php echo $this->translate('Loadmore','default'); ?></a>
						</ul>
						</div>
					</div>		
				</div>
			</span>
			
		</div>
	</div>
</div>
<div class="pop_bg modal fade" id="likes_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
				<div ng-if="loadpeople==1"><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"></div>
          		<div class="likes_pop-outer" ng-if="loadpeople==0">
                	<div class="like_profile-outer" ng-repeat="items in likedpeoples">
                    	<div class="like_profile-img comn_profile_img">
							<img alt="" ng-if="items.profile_photo!=null&&items.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.user_id}}/{{ items.profile_photo }}">
							<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid!=null&&items.user_fbid!='')" src="https://graph.facebook.com/{{items.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid==null||items.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
						</div>
                        <div class="like_profile-name"><a href="javascript:void(0);">{{items.user_given_name}}</a></div>
                        <a href="javascript:void(0);" class="button_small_blue like_add-friend" ng-if="items.is_friend"><?php echo $this->translate('Friends','default'); ?></a>
						<div class="like_add-friend"><a href="javascript:void(0);" class="friend_accept" ng-if="items.get_request" ng-click="acceptFriendRequest(items.user_profile_name);remove()" title="Accept request"></a>
						<a href="javascript:void(0);" remove-on-click ng-if="items.get_request" class="friend_ignore" ng-click="rejectFriendRequest(items.user_profile_name);remove()" title="Ignore Request"></a>
						</div>
						<a ng-if="items.is_requested" href="javascript:void(0);" class="button_small_grey like_add-friend"><?php echo $this->translate('Pending','default'); ?></a>
						<a href="javascript:void(0);" remove-on-click ng-if="items.is_requested!= 1 && items.get_request!= 1 && items.is_friend!= 1" class="button_small_blue like_add-friend" ng-click="sentFriendRequest(items.user_profile_name);remove()"><?php echo $this->translate('Add Friend','default'); ?></a>		 
                    </div>                  
                </div>
          </div>          
        </div>
      </div>
    </div>	
	<div class="pop_bg modal fade" id="rsvp_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
				 
          		<div class="likes_pop-outer" id="rsvplist_outer" >
                	<div class="like_profile-outer" ng-repeat="items in rsvplist">
                    	<div class="like_profile-img comn_profile_img">
							<img alt="" ng-if="items.profile_photo!=null&&items.profile_photo!=''" src="<?php echo $this->basePath(); ?>/public/datagd/profile/{{items.user_id}}/{{ items.profile_photo }}">
							<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid!=null&&items.user_fbid!='')" src="https://graph.facebook.com/{{items.user_fbid}}/picture?width=66&&height=66">
							<img alt="" ng-if="(items.profile_photo==null||items.profile_photo=='')&&(items.user_fbid==null||items.user_fbid=='')" src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">
						 
						</div>
                        <div class="like_profile-name"><a href="javascript:void(0);">{{items.user_given_name}}</a></div>
                        <a href="javascript:void(0);" class="button_small_blue like_add-friend" ng-if="items.is_friend"><?php echo $this->translate('Friends','default'); ?></a>
						<a href="javascript:void(0);" class="button_small_blue friend_accept" ng-if="items.get_request" ng-click="acceptFriendRequest(items.user_profile_name);remove()" title="Accept request"></a>
						<a href="javascript:void(0);" remove-on-click ng-if="items.get_request" class="friend_ignore" ng-click="rejectFriendRequest(items.user_profile_name);remove()" title="Ignore Request"></a>
						<a ng-if="items.is_requested" href="javascript:void(0);" class="default_butn_grey"><?php echo $this->translate('Pending','default'); ?></a>
						<a href="javascript:void(0);" remove-on-click ng-if="items.is_requested!= 1 && items.get_request!= 1 && items.is_friend!= 1 &&profile.user_id!=items.user_id" class="default_butn_blue" ng-click="sentFriendRequest(items.user_profile_name);remove()"><?php echo $this->translate('Add Friend','default'); ?></a>		
                    </div> 
					<div><a href="javascript:void(0)"  class="loadmore-comments" ng-if="rsvplist.length<=0" ><?php echo $this->translate('No members joined','default'); ?></a></div>
					<div><a href="javascript:void(0)" class="loadmore-comments" ng-click="loadRsvpList(selectedActivity,filter_by,'')" ng-if="loadmore==1"><?php echo $this->translate('Loadmore','default'); ?></a>
					 
					</div>
                </div>
          </div>
          
        </div>
      </div>
    </div>
	<div class="pop_bg modal fade" id="feed_edit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content  feed-edit <?php echo $language_class; ?>">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
			<div id="signup_step1" ng-if="ajax_loader_feededit==1">
			
				<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
			</div>
			<div id="signup_step1" >
			
					<div id="feed_edit_error" class="error-common"></div>
					<div id="feed_edit_success" class="success-common"></div>
				<div class="step1_outer">
					<div ng-if="feedEditSystemType == 'Discussion'">
						<div class="create_status-textarea"><textarea id="editDiscussion">{{EditFeedDiscussionContent.group_discussion_content}}</textarea></div>
						<div  class="post-butns"> 
							 <a ng-click="UpdateStatus('Discussion',EditFeedDiscussionContent.group_discussion_id,EditFeedrow_count,EditFeedrow_index)" class="default_butn_violet ng-scope" href="javascript:void(0);"><?php echo $this->translate('Update Post','default'); ?></a>
						</div>
						<div class="clear"></div>
					</div>
					<div ng-if="feedEditSystemType == 'Media'">
						<div>
							<img ng-if="EditFeedMediaContent.media_type=='image'"  src="<?php echo $this->basePath(); ?>/public/{{image_paths.group}}{{EditFeedMediaContent.media_added_group_id}}/media/{{EditFeedMediaContent.media_content}}" alt=""   />
							<img ng-if="EditFeedMediaContent.media_type=='video'" src="http://img.youtube.com/vi/{{getYouTubeIdFromURL(EditFeedMediaContent.media_content)}}/0.jpg" alt="" />
						</div>
						<div class="create_status-textarea edit_media_textarea">
						<input type="text"  placeholder="<?php echo $this->translate('Add caption','default'); ?>..." name="feed_edit_caption" id="feed_edit_caption" value="{{EditFeedMediaContent.media_caption}}" />
						</div>
						<div  class="post-butns"> 
							 <a ng-click="UpdateStatus('Media',EditFeedMediaContent.group_media_id,EditFeedrow_count,EditFeedrow_index)" class="default_butn_violet ng-scope" href="javascript:void(0);"><?php echo $this->translate('Update Post','default'); ?></a>
						</div>
						<div class="clear"></div>
					</div>
					<div ng-if="feedEditSystemType == 'Activity'">
						<div class="edit_event_outer"> 
							<a href="javascript:void(0)" id="enableDatepiker" style="display:block;height:0;width:0">&nbsp</a>
							<div class="event_fields-outer"> 
								<input   id="event_title_edit" type="text" placeholder="<?php echo $this->translate('Event Title','default'); ?>" value="{{EditFeedActivityContent.group_activity_title}}" /> 
							 </div> 
							 <div class="event_fields-outer"> 
								<div class="event_date-out border_radius"> 
									<div class="event_date-pick"> 
										  <i class="grey-calender"></i> 
										  <input name="event_date_edit" id="event_date_edit" type="text" value="{{EditFeedActivityContent.group_activity_start_date}}"   /> 
										 <div class="clear"></div> 
									  </div> 
									  <div class="event_time-pick"> 
										 <input name="event_time" id="event_time_edit" type="text" value="{{EditFeedActivityContent.group_activity_start_time}}" placeholder="00:00:AM" ng-model="mypost.event_time" /> 
									 </div> 
									 <div class="clear"></div> 
								 </div> 
							 </div> 
							  <div class="event_fields-outer"> 
								<div class="event_date-out border_radius"> 
									<i class="grey-location status_event_location"></i> 
									 <input class="status_event_location-text edit_location" name="event_location" id="edit_location" type="text" placeholder="<?php echo $this->translate('Event Location','default'); ?>" value="{{EditFeedActivityContent.group_activity_location}}"  /> 
									 <div class="clear"></div> 
								 </div> 
							 </div> 
							  <div class="status_event_pin-map"> 
								<div class="event-edit-map"><div id="map-canvasedit"  ></div> </div>
								<div class="clear"></div> 
							  </div> 
							  <div class="status_event-details"> 
								<textarea name="event_description_edit" id="event_description_edit" placeholder="<?php echo $this->translate('Event Description','default'); ?>" class="border_radius" >{{EditFeedActivityContent.group_activity_content}}</textarea> 
							  </div> 
						 </div>  
						 <div  class="post-butns"> 
							 <a ng-click="UpdateStatus('Activity',EditFeedActivityContent.group_activity_id,EditFeedrow_count,EditFeedrow_index)" class="default_butn_violet ng-scope" href="javascript:void(0);"><?php echo $this->translate('Update Post','default'); ?></a>
						</div>
						<div class="clear"></div>
					</div>
				</div>
			</div>
          </div>
          
        </div>
      </div>
    </div>
</div>
	<div class="pop_bg modal fade" id="feed_delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
			<div id="signup_step1" ng-if="ajax_loader_feeddelte==1">
				<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
			</div>
			<div id="signup_step1" ng-if="ajax_loader_feeddelte==0">
				<div class="step1_outer">
					<div ng-if="feedDeleteSystemType == 'Discussion'">
						<?php echo $this->translate('Are you sure you want to remove this status?','default'); ?>
					</div>
					<div ng-if="feedDeleteSystemType == 'Media'">
						<?php echo $this->translate('Are you sure you want to remove this media?','default'); ?>
					</div>
					<div ng-if="feedDeleteSystemType == 'Activity'">
						<?php echo $this->translate('Are you sure you want to remove this activity?','default'); ?>
					</div>
					<div  class="post-butns"> 
					<a ng-click="RemovePost(feedDeleteSystemType,DeleteFeedrow_content_id,DeleteFeedrow_count,DeleteFeedrow_index)" class="default_butn_blue" href="javascript:void(0);"><?php echo $this->translate('Yes','default'); ?></a>
					<a ng-click="CancelRemovePost()" class="default_butn_red" href="javascript:void(0);"><?php echo $this->translate('No','default'); ?></a>
					</div>
					<div class="clear"></div>
				</div> 
			</div>
			 
          </div>
          
        </div>
      </div>
    </div>
	<div class="pop_bg modal fade" id="report_post" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content report-spam <?php echo $language_class; ?>">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
			<div id="signup_step1" ng-if="ajax_loader_reportpost==1">
				<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
			</div>
			<div id="signup_step1" ng-if="ajax_loader_reportpost==0">
				<div class="step1_outer">
					<div class="error-common" id="report_error"></div>
					<div class="success-common" id="report_success"></div>
					<div class="select_group-type" ng-repeat="items in reasons">			 
                    	<input type="radio" name="spam_type" id="{{items.reason_id}}" value="{{items.reason_id}}" ng-click="selectReason(items.reason_id,items.reason)" ng-model="spam.reason_id">
                        <label for="{{items.reason_id}}"><i class="radio-styled"></i> <i class="group-public_black"></i>{{items.reason}}</label>                       
                        <div class="clear"></div>
                    </div>
					<div class="login-field" ng-if="enableReportReason==1">
					<textarea placeholder="<?php echo $this->translate('Please type your reason','default'); ?>" ng-model="spam.otherReason"></textarea>
					</div>
					<div class="clear"></div>
					 
					<div class="signup_button" ng-if="reportAjaxLoader==0">                        
                         <a ng-click="sendReport(spam)" id="go_step-2" class="default_butn_blue" href="javascript:void(0);"><?php echo $this->translate('Submit','default'); ?></a>
					</div>
					<div class="signup_button" ng-if="reportAjaxLoader==1">                        
                       <img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
					</div>
                        <div class="clear"></div>
                    </div>
					<div class="clear"></div>
				</div> 
			</div>
          </div>
          
        </div>
      </div>
	  <div class="pop_bg modal fade" id="create_album" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
				<div class="clear"></div>
			</div>
			<div class="modal-body signup_body">
				<div ng-if="AlbumCreateWindowAjaxLoader==1" ><img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> </div>
				<div class="error-common" id="album_error" ></div>
				<div class="success-common" id="album_success" ></div>
				<div ng-if="AlbumCreateWindowAjaxLoader!=1" class="createalbum_outer">
					
					<div class="createalbum_content"><input type="text" name="album_title" placeholder="<?php echo $this->translate('Album Title','default'); ?>" ng-model="album.title" /></div>
					<div class="createalbum_content"><textarea id="album_description" placeholder="<?php echo $this->translate('About the album','default'); ?>" ng-model="album.description"></textarea></div>
					<div class="album_event_outer">
						<?php echo $this->translate('Select events related to','default'); ?>
						<span><a href="javascript:void(0);" class="filter_albums" data-toggle="dropdown" id="post_in_albums">{{selectedEventTitle}}<span></span></a> 
						<ul class="dropdown-menu post-group_dropdown color-trans arrow_box" role="menu" aria-labelledby="post_in_albums"> 
							<li ng-repeat="item in UserEvents"><a href="javascript:void(0);" ng-click="selectEvent(item.group_activity_id,item.group_activity_title)">{{item.group_activity_title}}</a></li>
						</ul></span>
					</div>
					<div class="create_album_outer"> <a   ng-click="createAlbum(album)" class="default_butn_violet ng-scope" href="javascript:void(0);"> <?php echo $this->translate('Create','default'); ?></a></div>
				</div>
			</div>
		</div>
	   </div>
      </div>
	  <div class="pop_bg modal fade" id="popup_delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog login_popup">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"><?php echo $this->translate('Close','default'); ?></span></button>
            <div class="clear"></div>
          </div>
          <div class="modal-body signup_body">
			<div id="signup_step1" ng-if="ajax_loader_popupdelte==1">
				<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> 
			</div>
			<div id="signup_step1" ng-if="ajax_loader_popupdelte==0" >
				<div class="step1_outer">
					<div class="error-common" id="errordeletePost"></div>
					<div ng-if="popUpRemoveType == 'Image'">
						<?php echo $this->translate('Are you sure you want to remove this Image?','default'); ?>
					</div>
					<div ng-if="popUpRemoveType == 'Album'">
						<?php echo $this->translate('Are you sure you want to remove this album?','default'); ?>
					</div>					 
					<div  class="post-butns">  
					<a ng-click="RemovePopupPost(popUpRemoveType,popUpRemoveContent_id)" class="default_butn_blue" href="javascript:void(0);"><?php echo $this->translate('Yes','default'); ?></a>
					<a ng-click="CancelRemovePopupPost()" class="default_butn_red" href="javascript:void(0);"><?php echo $this->translate('No','default'); ?></a>
					</div>
					<div class="clear"></div>
				</div> 
			</div>
			 
          </div>
          
        </div>
      </div>
    </div>
</div>
<div ng-if="hideAll==1">
	
</div>
</div>
</div>
<div id="group_dialog" title="" style="display:none" class="common_error"></div>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/public/js/jquery.cropit.js"></script> 
<script src="<?php echo $this->basePath(); ?>/public/js/jquery.plugin.js"></script>
<script src="<?php echo $this->basePath(); ?>/public/js/jquery.timeentry.js"></script>
<link href="<?php echo $this->basePath(); ?>/public/css/prettify.css" type="text/css" rel="stylesheet" />
<link href="<?php echo $this->basePath(); ?>/public/css/jquery.timepicker.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/public/js/prettify.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/public/js/jquery.slimscroll.js"></script>
<script src="<?php echo $this->basePath(); ?>/public/js/jquery.timepicker.js"></script>
<script>  
	var current_lat = 25.271139000000000000;
	var current_lng =55.307485000000040000;	
	var image_paths = <?php echo json_encode($image_folders); ?>;
	var enableHashing = 0;
	var str_search = ''; 
	var hashedUser = [];
	var rsvppage=1;
	var media_page =1;
	var album_page=1;
	var albumList_page =1;
	var eventalbumList_page =1;
	var group_banner_new = 0;
	var post_images=[];
	var group = <?php echo json_encode($group_info); ?>;
    var groupapp = angular.module('groupapp',[]);
    groupapp.config(function ($httpProvider) {
		$httpProvider.defaults.transformRequest = function(data){
			if (data === undefined) {
				return data;
			}
			return $.param(data);
		}
	}); 	 
    groupapp.controller('groupController',function($scope, $http){
		$scope.tag_limit = 25;
        $scope.tag_inc_limit = 25;
		$scope.group = <?php echo json_encode($group_info); ?>;
        $scope.group_picture = '<?php echo $this->basePath(); ?>/public/images/group-img_def.jpg';
		if($scope.group.group_photo_photo!=''&&$scope.group.group_photo_photo!=null){
			$scope.group_picture = '<?php echo $this->basePath(); ?>/public/datagd/group/'+$scope.group.group_id+'/'+$scope.group.group_photo_photo;
		}
		$scope.categoryImagePath=(image_paths.tag_category!='')?baseurl+"/public/"+image_paths.tag_category:baseurl+'/public/images/';
		$scope.intrest = {};
		$scope.imageEdit = 0;
		$scope.intrest.switch = 2; 
		$scope.tagCategory=[];
		$scope.selectedCategory = '';
		$scope.selectedIndex = 0;
		$scope.profile_user_id = '<?php echo $userinfo->user_id; ?>';
		$scope.grouptags =  <?php echo json_encode($tags); ?>;
		$scope.grouptagCategory =  <?php echo json_encode($tag_category); ?>;
		<?php if($enableEdit == 1){ ?>
			$scope.editGroupFlag =1;
		<?php }else{ ?>
			$scope.editGroupFlag =0;
		<?php } ?>		
		$scope.fromData = {},
		$scope.fromData.groupTitle = $scope.group.group_title;
		$scope.fromData.groupDescription = $scope.group.group_description;
		$scope.groupUsers = <?php echo json_encode($groupUsers); ?>;
		$scope.QuestionType = [];
		$scope.QuestionType.push({
			type:"Select Question Type",locale:"<?php echo $this->translate('Select Question Type','default'); ?>"
		});
		$scope.QuestionType.push({
			type:"Textarea",locale:"<?php echo $this->translate('Textarea','default'); ?>"
		});
		$scope.QuestionType.push({
			type:"checkbox",locale:"<?php echo $this->translate('CheckBox','default'); ?>"
		});
		$scope.QuestionType.push({
			type:"radio",locale:"<?php echo $this->translate('Radiobutton','default'); ?>"
		});
        $scope.TextType            = [];
		$scope.TextType[0]            = "Select Question Type";
		$scope.TextType[1]            = "Select Question Type";
		$scope.TextType[2]            = "Select Question Type";
		$scope.fromData.groupTypeEdit  = $scope.group.group_type;
		$scope.fromData.groupTypeEdit_locale  = '<?php $this->translate($group_info['group_type'],'default') ?>';
		$scope.myIntrest = <?php echo json_encode($myIntrests); ?>;
		$scope.objSelectedCategory =  new Array();		 
		$scope.objSelectedTags = new Array();	
		$scope.inviteAll = 0;
		$scope.selectedIntrestCategory = '';
		$scope.selectedIntrestCategoryIcon = '';
		$scope.questiondrpClass = [];
		$scope.checkCommonIntrests = function(tag_id){
			var is_exist = -1;
			for(i=0;i<$scope.myIntrest.length;i++){
				if($scope.myIntrest[i].tag_id == tag_id){	
					is_exist =i;
				}
			}
			if(is_exist!=-1){return true;}else{return false;}
		}
		$scope.enableGroupScrollbar = function(){
			$('#about_group_container').slimScroll({				   
				height: '140px'
			});
		}
		$scope.enableScrollbarInvite= function(){
			$('#listed_members_container_inner').slimScroll({
				height: '140px'
			});
		}
		$scope.loadPopup = function(){ 
			$scope.intrest.switch = 2;
			$scope.tag_limit = 25;
			url = baseurl+'/tag/getAllActiveCategories';
			$http({
				method: 'POST',
				url: url
			}).success(function(data, status, headers, config) {
			   $scope.tagCategory=data.tag_category;
			   console.log($scope.tagCategory);
			   // $scope.selectedCategory = data.tag_category[0].tag_category_id;
			   $scope.getTags(data.tag_category[0].tag_category_id);
			   $scope.selectedCategory ='All';
			   //$scope.getTags('All');
			   $scope.selectedIntrestCategory = data.tag_category[0].tag_category_title_locale;
			   $scope.selectedIntrestCategoryIcon = data.tag_category[0].tag_category_icon;
			   $scope.intrest.switch = 1;
			   $scope.selectedIndex = 0;
			}).error(function(data, status, headers, config) {
				//alert("Error occured. Please try again");
			});
			url = baseurl+'/groups/getAllGroupTags';
			$http.post(url,{group:$scope.group.group_id}, {headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_info==''){
					$scope.objSelectedTags = [];
					$scope.objSelectedCategory =  [];
					angular.forEach(data.return_array.tag_category, function(dataset){ 
						$scope.objSelectedCategory.push({
							category:dataset.tag_category_id,category_title:dataset.tag_category_title,category_icon:dataset.tag_category_icon
						});										 
					});
					angular.forEach(data.return_array.group_tags, function(dataset){ 
						$scope.objSelectedTags.push({
							category:dataset.category_id,tag_id:dataset.tag_id,tag_name:dataset.tag_title
						});										 
					});
				}else{
				   $("#group_dialog").html(data.return_array.process_info);
				   $("#group_dialog").dialog();
				}
			}).error(function(data, status, headers, config) {
				 //alert("Error occured. Please try again");
			});
		};
		$scope.isVisible = 0;
		$scope.drpClass = "dropdown_close";
		$scope.selectedIndex = 0;	
		$scope.tags = {};
		$scope.showtags = 0;
		$scope.showmoretags = 0;			
		$scope.selectedCategory = '';
		
		$scope.enableIntrestScrollBar = function(){
			 $('#intrest_category_list').slimScroll({
			  color: '#00f',height:'250px'
			});				 
		}
		$scope.selectCategory = function(category,icon,title){  
			$scope.selectedIntrestCategory = title;
			$scope.selectedIntrestCategoryIcon = icon; 
			$scope.selectedCategory = category;
			$scope.tag_limit = 25;
			$scope.showmoretags = 0;
			$scope.showtags = 0;	
			$scope.getTags(category);	
		};
		$scope.getTags = function(category){
			$scope.showtags = 0;
			url  = baseurl+'/tag/getAllTagsOfSelectedCategory';				
			$http.post(url,{category_id:category,search:$scope.tag_search}, {headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) { 
				if(data.tags.length>0){
				$scope.tags = data.tags; 	
				$scope.showtags = 1;
				}else{$scope.showtags = 0;}
				if(data.tags.length > $scope.tag_limit) {
				$scope.showmoretags=1; } else { $scope.showmoretags =0; }
			}).error(function(data, status, headers, config) {
			// alert("Error occured. Please try again");
			});
		};
		$scope.objSelectedTags = new Array();
		$scope.addToSelected = function(category,tag_id,tag_name){ 
			var incexist = 0;
			angular.forEach($scope.objSelectedTags, function(dataset){ 
				if(dataset.tag_name == tag_name){incexist++;}
			});				
			if(incexist == 0){
				$scope.objSelectedTags.push({
					category:category,tag_id:tag_id,tag_name:tag_name
				});
			}
			angular.forEach($scope.tagCategory, function(dataset){ 
				if(dataset.tag_category_id == category){
					var incexist = 0;
					angular.forEach($scope.objSelectedCategory, function(datasets){ 
						if(datasets.category_icon == dataset.tag_category_icon){incexist++;}
						 
					});	
					if(incexist ==0){
						$scope.objSelectedCategory.push({
							category:dataset.tag_category_id,category_title:dataset.tag_category_title,category_icon:dataset.tag_category_icon
						});	
					}
				}
			});			 
		};
		$scope.removeFromSelected = function(tag_name,category){ 			 
			var array_index = $scope.getArrayIndex($scope.objSelectedTags,'tag_name',tag_name);
			$scope.objSelectedTags.splice( array_index, 1 );
			var incexist = 0;
			angular.forEach($scope.objSelectedTags, function(dataset){ 
				if(dataset.category == category){incexist++;}
			});				
			if(incexist == 0){
				var array_index = $scope.getArrayIndex($scope.objSelectedCategory,'category',category);
				$scope.objSelectedCategory.splice( array_index, 1 );
			}
		};
		$scope.getArrayIndex = function(arr_elemnt,key,item){ 
			var incexist = -1;
			for(i=0;i<arr_elemnt.length;i++) {
				if(arr_elemnt[i][key] == item){incexist = i;}
			}
			return incexist;
		};
		$scope.AddToIntrest = function(){
			var newtags = new Array();
			var incexist = 0;
			angular.forEach($scope.objSelectedTags, function(dataset){ 
				newtags[incexist] = dataset.tag_id;
				incexist++;
			});
			 url  = baseurl+'/groups/updateTag';			
			$http.post(url,{tags:newtags,group:$scope.group.group_id}, {headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) { 
				$scope.grouptags=data.return_array.tags;
				$scope.grouptagCategory=data.return_array.tag_category;
				$('#interest_popup').modal('hide');
			}).error(function(data, status, headers, config) {
			 //alert("Error occured. Please try again");
			});
		};
		$scope.enableEditForm = function(){
			$scope.editGroupFlag = 1;
		}
		$scope.cancelGroupEdit = function(){
			$scope.editGroupFlag = 0;
			$scope.groupTitle = $scope.group.title;
			$scope.groupDescription = $scope.group.group_description;
		}
		$scope.updateGroup = function(fromData){
			var error = 0;  
			if(fromData.groupTitle==''){ 
				$("#group_dialog").html("<?php echo $this->translate('Group Title Required','default'); ?>");				 
				$("#group_dialog").dialog();
				error++;
			}
			if(fromData.groupDescription==''){		 
				$("#group_dialog").html("<?php echo $this->translate('Group Description Required','default'); ?>");			 
				$("#group_dialog").dialog();
				error++;
			}
			if(error==0){
				 url  = baseurl+'/groups/updateGroup';			
				$http.post(url,
				{
					group_title:fromData.groupTitle,
					group_description:fromData.groupDescription,
					group:$scope.group.group_id,
					group_type:$scope.fromData.groupTypeEdit,
				}
				, {headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) { 
					if(data.return_array.process_status == 'success'){
						$scope.group.group_title = fromData.groupTitle;
						$scope.group.group_description = fromData.groupDescription;
						$scope.fromData.groupTitle = fromData.groupTitle;
						$scope.fromData.group_description = fromData.groupDescription;
						$scope.group.group_type = $scope.fromData.groupTypeEdit;
						$scope.editGroupFlag = 0;
					}else{
						$("#group_dialog").html(data.return_array.process_info);						 
						$("#group_dialog").dialog();
					}
				}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
				});
			}
		}
		$scope.ajaxloadQuestionnaire = 0;
		$scope.selectedOptionRange=[3,3,3];
		$scope.questionnaire = [];
		$scope.selectedType=[];
		$scope.question = [];
		$scope.option1 = [];
		$scope.option2 = [];
		$scope.option3= [];
		$scope.questionId = [];
		$scope.ajaxUpdateQuistionnaire = 0;
		$scope.loadQuestionnaire = function(group_id){ 
			$scope.ajaxloadQuestionnaire = 1;
			url  = baseurl+'/groups/getQuestionnaire';
			$http.post(url,
			{	
				group_id:group_id,					 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
			
				if(data.return_array.process_status == 'success'){		
					$scope.questionnaire = data.return_array.questionnaire;
					var index = 0;
					if($scope.questionnaire.length>0){
						for(i=0;i<$scope.questionnaire.length;i++){
							$scope.selectedType[i]=$scope.questionnaire[i].answer_type;
							if($scope.questionnaire[i].answer_type!=''&&$scope.questionnaire[i].answer_type!=undefined){
								$scope.questiondrpClass[i] = {selected:$scope.questionnaire[i].answer_type};
								if($scope.questionnaire[i].answer_type=='checkbox'){
									$scope.questiondrpClass[i] = {locale:'<?php echo $this->translate('CheckBox','default'); ?>'};
								}
								if($scope.questionnaire[i].answer_type=='radio'){
									$scope.questiondrpClass[i] = {locale:'<?php echo $this->translate('Radiobutton','default'); ?>'};
								}
								if($scope.questionnaire[i].answer_type=='Textarea'){
									$scope.questiondrpClass[i] = {locale:'<?php echo $this->translate('Textarea','default'); ?>'};
								}
							}		 
							$scope.question[i]=$scope.questionnaire[i].question;
							$scope.questionId[i]=$scope.questionnaire[i].questionnaire_id;
							if($scope.questionnaire[i].answer_type=='radio'||$scope.questionnaire[i].answer_type=='checkbox'){
								if($scope.questionnaire[i].options.length>3){
									$scope.selectedOptionRange[i] = $scope.questionnaire[i].options.length;
								}								
								for(increment=0;increment<$scope.questionnaire[i].options.length;increment++){
									if(i==0){
										$scope.option1[increment]=$scope.questionnaire[i].options[increment].option;
										console.log($scope.option1[i]);
									}
									if(i==1){
										$scope.option2[increment]=$scope.questionnaire[i].options[increment].option;
									}
									if(i==2){
										$scope.option3[increment]=$scope.questionnaire[i].options[increment].option;
									}
								}					 
							}
						}
					}
					$scope.ajaxloadQuestionnaire = 0;
				}else{
					$("#group_dialog").html(data.return_array.process_info);						 
					$("#group_dialog").dialog();				 
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.range = function() {			 
			return new Array(3);
	    }	  
		$scope.cancelQuestionniare = function(){
			$("#edit_question").modal("hide");
		}
	    $scope.SaveQuestionniare = function(group_id){
			var index = 0;
			var error = 0;
			angular.forEach($scope.selectedType, function(dataset){ 
				 switch(dataset){
					case 'Textarea':
						if($scope.question[index]==null||$scope.question[index]==undefined||$scope.question[index]==''){
							$("#edit_questionniare-error").html("<?php echo $this->translate("Please enter question",'default'); ?>"+((index*0)+1));
							$("#edit_questionniare-error").fadeIn("slow");
							error++;
							return false;
						}
					break;
					case 'checkbox':
						if($scope.question[index]==null||$scope.question[index]==undefined||$scope.question[index]==''){
							$("#edit_questionniare-error").html("<?php echo $this->translate("Please enter question",'default'); ?>"+((index*0)+1));
							$("#edit_questionniare-error").fadeIn("slow");
							error++;
							return false;
						}
						var options = [];
						if(index==0){  
							
							for (var i = 0; i < $scope.option1.length; i++) {
							  if ($scope.option1[i] !== undefined && $scope.option1[i] !== null && $scope.option1[i] !== "") {
								options.push($scope.option1[i]);
							  }
							}
						 
						}
						if(index==1){  
							for (var i = 0; i < $scope.option2.length; i++) {
							  if ($scope.option2[i] !== undefined && $scope.option2[i] !== null && $scope.option2[i] !== "") {
								options.push($scope.option2[i]);
							  }
							}
						}
						if(index==2){  
							for (var i = 0; i < $scope.option3.length; i++) {
							  if ($scope.option3[i] !== undefined && $scope.option3[i] !== null && $scope.option3[i] !== "") {
								options.push($scope.option3[i]);
							  }
							}
						}
						 
						if(options.length<2){
							$("#edit_questionniare-error").html("<?php echo $this->translate("Please enter atleast two options for question",'default'); ?>"+((index*0)+1));
							$("#edit_questionniare-error").fadeIn("slow");
							error++;
							return false;
						}						 
					break;
					case 'radio':
						if($scope.question[index]==null||$scope.question[index]==undefined||$scope.question[index]==''){
							$("#edit_questionniare-error").html("<?php echo $this->translate("Please enter question",'default'); ?>"+((index*0)+1));
							$("#edit_questionniare-error").fadeIn("slow");
							error++;
							return false;
						}
						if(index==0){  
							var options = $scope.option1.filter(function(n){ return n != undefined });
						}
						if(index==1){  
							var options = $scope.option2.filter(function(n){ return n != undefined });
						}
						if(index==2){  
							var options = $scope.option3.filter(function(n){ return n != undefined });
						}
						if(options.length<2){
							$("#edit_questionniare-error").html("<?php echo $this->translate("Please enter atleast two options for question",'default'); ?>"+((index*0)+1));
							$("#edit_questionniare-error").fadeIn("slow");
							error++;
							return false;
						}					 
					break;
				 }
				 index++;
			});			
			if(error == 0){
				$("#edit_questionniare-error").fadeOut("slow");
				$scope.ajaxUpdateQuistionnaire = 1;
				url  = baseurl+'/groups/updateQuestionnaire';
				$http.post(url,
				{	
					group_id:group_id,
					type:$scope.selectedType,
					question:$scope.question,
					option1:$scope.option1,
					option2:$scope.option2,
					option3:$scope.option3,
					questionId:$scope.questionId,
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					$scope.ajaxloadQuestionnaire = 0;
					if(data.return_array.process_status == 'success'){						 
						$("#group_dialog").html("<?php echo $this->translate("The questionnaire is successfully updated",'default'); ?>");
						$("#group_dialog").dialog();
						$scope.ajaxUpdateQuistionnaire = 0;						
					}else{
						$("#group_dialog").html(data.return_array.process_info);
						$("#group_dialog").dialog();						 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}
	   }
	   $scope.EditBanner = function(){
		  $scope.imageEdit = 1;
	   }
	   $scope.cropGroupBannerAjax =0;
	   $scope.cancelcropImage = function(){
		  $scope.imageEdit = 0;
	   }
	   $scope.cropGroupImage = function(){
		    $scope.cropGroupBannerAjax =1;
			var imageData = $('.image-editor-group').cropit('export');			 
			url = baseurl + '/groups/updatProfilePic';
			var formData = new FormData();	
			formData.append("orginalImage",groupbanneredit);
			formData.append("imageData",imageData);
			formData.append("group_id",$scope.group.group_id);
			formData.append("group_banner_new",group_banner_new);
			$http.post(url,formData,{withCredentials: true, headers: {'Content-Type': undefined }, transformRequest: angular.identity
			}).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.cropGroupBannerAjax =0;
					$scope.aboutmeAjax =0;		
					window.location.reload();					
				}else{
					$scope.cropGroupBannerAjax =0;
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();
					$scope.aboutmeAjax =0;		
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			}); 
	   }
	   $scope.removeGroupBanner = function(){
		   url = baseurl + '/groups/removeBanner';
			$http.post(url,{ group:$scope.group.group_id},{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					window.location.reload();						
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});		   
	   }
	   $scope.cancelRemove=function(){
		   $('#bannerdelete_popup').modal('hide');
	   }
		$scope.addmoreOptions = function(optionindex){	 
			$scope.selectedOptionRange[optionindex] =  $scope.selectedOptionRange[optionindex]+1; 
		}
		$scope.removeOptions = function(optionindex){
			$scope.selectedOptionRange[optionindex] =  $scope.selectedOptionRange[optionindex]-1;
			if(optionindex == 0){
				$scope.option1.pop();
			}
			if(optionindex == 1){
				$scope.option2.pop();
			}
			if(optionindex == 2){
				$scope.option3.pop();
			}
		}	
		$scope.optionrange = function(n) {
			return new Array(n);
		}
		$scope.selectedGroupRemoved = '';
	   $scope.selectedGroupIdRemoved = '';
	   $scope.selectLeavingGroup = function(item_id,item_title){
			$scope.selectedGroupRemoved = item_title;
			$scope.selectedGroupIdRemoved = item_id;
	   }
	   $scope.removeLeaveBox= function(){
			$scope.selectedGroupRemoved = '';
			$scope.selectedGroupIdRemoved = '';
	   }
	   $scope.leaveGroup = function(){
			url = baseurl + '/groups/leavegroup';
			$http.post(url,{groupId:$scope.selectedGroupIdRemoved},{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}
			).success(function(data, status, headers, config) {
				 if(data.return_array.process_status == 'success'){
					 window.location.reload();						
				 }else{
					 $("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();
				 }

			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.aboutmeAjax = 0;
		$scope.profile ={};
		$scope.USERprofile = <?php echo json_encode($profile_data); ?>;
		$scope.profile.profile_photo = '<?php echo $profile_data->profile_photo; ?>';
		$scope.profile.user_id = '<?php echo $profile_data->user_id; ?>';
		$scope.profile.user_fbid = '<?php echo $profile_data->user_fbid; ?>';
		$scope.profile.user_profile_about_me = $scope.USERprofile.user_profile_about_me;
		$scope.aboutme = '';
		$scope.JoiningItem = '';
		$scope.JoiningItemTitle = '';
		$scope.JoiningItemType = '';
		$scope.JoiningItemseoTitile = '';
		$scope.joingingquestionnaire = [];
		$scope.md_questionnaire = [];
		$scope.md_option = [];
		$scope.md_checkbox0 = [];
		$scope.md_checkbox1 = [];
		$scope.md_checkbox2 = [];
		$scope.cancelImageUpload = function(){
			$('#upload_profile-image').modal('hide');
			$('#join_group').modal('show');
			$scope.gotoGroupJoiningStep2();
			$scope.aboutmeAjax =0;
			$('.image-editor').cropit('imageSrc', '<?php echo $this->basePath();?>/public/images/profile-default-crop.jpg'); 
			$("#profilepic_process").html('');
		}
		$scope.selectJoiningGroup= function(item_id,item_title,type,seoTitile){
			$scope.JoiningItem =item_id;
			$scope.JoiningItemTitle = item_title;
			$scope.JoiningItemType = type;
			$scope.JoiningItemseoTitile = seoTitile;
			if($scope.profile.user_profile_about_me!=''&&$scope.profile.user_profile_about_me!=null&&$scope.profile.user_profile_about_me!='null'&&$scope.profile.user_profile_about_me!=undefined){
				$scope.gotoGroupJoiningStep2();
			}else{ 	
				$scope.joingroupStep =1;
			}
		}
		$scope.gotoGroupJoiningStep2 = function(){
			if(($scope.profile.profile_photo!=''&&$scope.profile.profile_photo!=null&&$scope.profile.profile_photo!='null'&&$scope.profile.profile_photo!=undefined)||($scope.profile.user_fbid!=''&&$scope.profile.user_fbid!=null&&$scope.profile.user_fbid!='null'&&$scope.profile.user_fbid!=undefined)){
				$scope.gotoGroupJoiningStep3();
			}else{
				$scope.joingroupStep =2;
			}
		}
		$scope.gotoGroupJoiningStep3 = function(){
			url = baseurl + '/groups/getQuestionnaire';
			$http.post(url,{group_id:$scope.JoiningItem},{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.questionnaire.length>0){
						$scope.joingingquestionnaire = data.return_array.questionnaire;
						$scope.joingroupStep =3;
					}else{
						$scope.gotoGroupJoiningStep4();
					}
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();					 
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});						 
		}
		$scope.gotoGroupJoiningStep4 = function(){
			url = baseurl + '/groups/joinGroup';
			$http.post(url,
			{										 
				group_id:$scope.JoiningItem,
			},{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if($scope.group.group_type == 'public'){
						$scope.group.is_requested = 1;
					}else{
						$scope.group.is_member = 1;
					} 
					$scope.joingroupStep =4;						
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();								
				}
			}).error(function(data, status, headers, config) {
			// alert("Error occured. Please try again");
			});	
		}
		$scope.closeJoinWindow = function(){
			$("#join_group").modal("hide");
		}
		$scope.skipJoinRequest = function(step){
			if(step==1){
				$scope.gotoGroupJoiningStep2();
			}
			if(step==2){
				$scope.gotoGroupJoiningStep3();
			}
			if(step==3){
				$scope.gotoGroupJoiningStep4();
			}
		}
		$scope.SaveAboutMe = function(content){
			$scope.aboutme = content;
			if($scope.aboutme!=''&&$scope.aboutme!=null&&$scope.aboutme!='null'&&$scope.aboutme!=undefined){
				$scope.aboutmeAjax =1;
				url = baseurl + '/user/updateBio';
				$http.post(url,{bio:$scope.aboutme},{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$scope.gotoGroupJoiningStep2(); 						 
						$scope.aboutmeAjax =0;							 
					}else{
						$("#group_dialog").html(data.return_array.process_info);
						$("#group_dialog").dialog();
						$scope.aboutmeAjax =0;		
					}
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}else{
				$scope.gotoGroupJoiningStep2();
			}
		}
		$scope.loadProfileUpload = function(){
			$('#join_group').modal('hide');
			$('.image-editor').cropit('imageSrc', '<?php echo $this->basePath();?>/public/images/profile-default-crop.jpg'); 
			$("#profilepic_process").html('');
		}
		$scope.aboutmeAjax =0;
		$scope.cropImage = function(){				
			var imageData = $('.image-editor').cropit('export');
			if(imageData!=''){
				$scope.aboutmeAjax =1;	
				url = baseurl + '/user/updatProfilePic';
				$http.post(url,{imageData:imageData},{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$('#upload_profile-image').modal('hide');								 
						$('#join_group').modal('show');	
						$scope.gotoGroupJoiningStep3();
						$scope.aboutmeAjax =0;												 
					}else{
						$("#group_dialog").html(data.return_array.process_info);
						$("#group_dialog").dialog();
						$scope.aboutmeAjax =0;		
					}
				}).error(function(data, status, headers, config) {
				//	alert("Error occured. Please try again");
				}); 
			}else{
				$scope.gotoGroupJoiningStep3();
			}
		}
		$scope.checkInList = function(question_id,option_id,index){ 
			if(index==0){
				if($scope.md_checkbox0[question_id]&&$scope.md_checkbox0[question_id]!=''&&$scope.md_checkbox0[question_id]==option_id) {return true;}
				else{return false;}
			}
			if(index==1){
				if($scope.md_checkbox1[question_id]&&$scope.md_checkbox1[question_id]!=''&&$scope.md_checkbox1[question_id]==option_id) {return true;}
				else{return false;}
			}
			if(index==2){
				if($scope.md_checkbox2[question_id]&&$scope.md_checkbox2[question_id]!=''&&$scope.md_checkbox2[question_id]==option_id) {return true;}
				else{return false;}
			}
			return false;				
		}
		$scope.checkInList = function(question_id,option_id,index){ 
			if(index==0){
					var index = $scope.md_checkbox0.indexOf(option_id);
					if(index!=-1) {return true;}
					else{return false;}
				}
				if(index==1){
					var index = $scope.md_checkbox1.indexOf(option_id);
					if(index!=-1) {return true;}
					else{return false;}
				}
				if(index==2){
					var index = $scope.md_checkbox2.indexOf(option_id);
					if(index!=-1) {return true;}
					else{return false;}
				}
				return false;				
		}
		$scope.selectedOptionRadio = function(question_id,option_id){ 
			$selectedOption = option_id;
			$scope.md_option[question_id] =  option_id
		}
		$scope.selectedOptionCheckbox = function(question_id,option_id,index){ 
			 if(index==0){	
				var itemindex = $scope.md_checkbox0.indexOf(option_id);
				if(itemindex!=-1) {
					$scope.md_checkbox0.splice(itemindex,1); 
				}else{
					$scope.md_checkbox0.push(option_id); 
				}
			}
			if(index==1){						 	
				var itemindex = $scope.md_checkbox1.indexOf(option_id);
				if(itemindex!=-1) {
					$scope.md_checkbox1.splice(itemindex,1); 
				}else{
					$scope.md_checkbox1.push(option_id); 
				}
			}
			if(index==2){					 
				var itemindex = $scope.md_checkbox2.indexOf(option_id);
				if(itemindex!=-1) {
					$scope.md_checkbox2.splice(itemindex,1); 
				}else{
					$scope.md_checkbox2.push(option_id); 
				}
			}			  
		}
		$scope.saveQuestionnaireAnswers = function(){
			ince = 0;
			var questionanswers = [];
			angular.forEach($scope.joingingquestionnaire, function(dataset){					
				 if(dataset.answer_type == 'Textarea'){
					questionanswers.push({'question_id':dataset.questionnaire_id,'answer':$scope.md_questionnaire[ince]});						
				 }
				 if(dataset.answer_type == 'checkbox'){
					  if(ince==0){
							 questionanswers.push({'question_id':dataset.questionnaire_id,'answer':$scope.md_checkbox0.join()});	
						 }
						  if(ince==1){
							 questionanswers.push({'question_id':dataset.questionnaire_id,'answer':$scope.md_checkbox1.join()});	
						 }
						  if(ince==2){
							 questionanswers.push({'question_id':dataset.questionnaire_id,'answer':$scope.md_checkbox2.join()});	
						 }
				 }
				  if(dataset.answer_type == 'radio'){
					questionanswers.push({'question_id':dataset.questionnaire_id,'answer':$scope.md_option[dataset.questionnaire_id]});				  
				 }
				 ince++;
			});
			url = baseurl + '/groups/saveUserQuestionnaire';
			$http.post(url,
			{
				questionanswers:questionanswers,
				group_id:$scope.JoiningItem,
			},{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}
			).success(function(data, status, headers, config) {
				 if(data.return_array.process_status == 'success'){
					$scope.joingroupStep = 4;	
					$scope.aboutmeAjax =0;	
					if($scope.group.group_type == 'public'){
						$scope.group.is_requested = 1;
					}else{
						$scope.group.is_member = 1;
					} 	
				 }else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();
					 $scope.aboutmeAjax =0;		
				 }

			}).error(function(data, status, headers, config) {
			//	 alert("Error occured. Please try again");
			});					
		}
		$scope.reloadPage = function(){	
			window.location.reload();
		}
		$scope.selectInviteAll = function(){
			if($scope.inviteAll==0){
				$scope.inviteAll =1;
			}else{
				$scope.inviteAll =0;
			}
		}
		$scope.objSelectedUsers = [];
		$scope.getAllfriendsNotAMember = function(){
			$('.listed_members_container').show();
			var group_id = $scope.group.group_id;
			url = baseurl + '/groups/getFriendsNotMemberOfGroupList';
			var search_str = $("#invite_list_friend").val();
			$http.post(url,
			{
				search_str:search_str,
				group_id:group_id,
			},{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.filteredfriends = data.return_array.members;
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();
					$scope.aboutmeAjax =0;		
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.AddToInvitedUsers = function(user_id,user_name,user_image,user_fbid){ 
			var incexist = 0;
			angular.forEach($scope.objSelectedUsers, function(dataset){ 
				if(dataset.user_id == user_id){incexist++;}
			});				
			if(incexist == 0){
				$scope.objSelectedUsers.push({
					user_id:user_id,user_name:user_name,user_image:user_image,user_fbid:user_fbid
				});
			}				
		}
		$scope.RemoveFromInvitedUsers = function(user_id){
			var array_index = $scope.getArrayIndex($scope.objSelectedUsers,'user_id',user_id);
			$scope.objSelectedUsers.splice( array_index, 1 );			 
		}
		$scope.sendInvite =function(){
			var users = '';
			if($scope.inviteAll==1){
				users = 'All';
			}else{
				if($scope.objSelectedUsers.length>0){
					users = $scope.objSelectedUsers;
				}else{						 
					$("#invite_error").html("<?php echo $this->translate("Select one to invite",'default'); ?>");
					$("#invite_error").fadeIn("slow");
				}
			}
			if(users!=''){
				var group_id = $scope.group.group_id;
				url = baseurl + '/groups/inviteMembers';					 
				$http.post(url,{
					users:users,
					group_id:group_id,
				},{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}}
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){							 
						$("#invite_error").html('');
						$("#invite_error").fadeOut();
						$("#invite_success").html('<?php echo $this->translate("Invitation sent to selected users",'default'); ?>');
						$("#invite_success").fadeIn();
						$scope.filteredfriends =[];
						$scope.objSelectedUsers=[];
						$("#listed_members_container").hide();
						//$("#invite_group").modal("hide");
						$("#invite_error").html('');
						$("#invite_error").hide();
						//$("#invite_success").html('');
						//$("#invite_success").hide();
					}else{							 
						$("#invite_error").html(data.return_array.process_info);
						$("#invite_error").fadeIn("slow");
						$scope.aboutmeAjax =0;		
					}
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}
		}
		$scope.enableScrollbar = function(){
			$('#comment_container_outer').slimScroll({
				color: '#00f'
			});
		}
		$scope.resetInviteForm = function(){
			$scope.filteredfriends =[];
			$scope.objSelectedUsers=[];
			$("#listed_members_container").hide();
			$("#invite_group").modal("hide");
			$("#invite_list_friend").val("");
			$("#invite_error").html('');
			$("#invite_error").hide();
			$("#invite_success").html('');
			$("#invite_success").hide();
		}
		$scope.groups_reasons= [];
		$scope.groups_ajax_loader_reportpost = 1;
		$scope.groups_reportSelectedContentId = '';
		$scope.groups_reportSelectedContentType = '';
		$scope.groups_selectedReasonId='';
		$scope.groups_selectedReasonType='';
		$scope.groups_enableReportReason=0;;
		$scope.groups_reportAjaxLoader = 0;
		$scope.groups_spam={};
		$scope.groups_ReportPost = function(type,content_id){
			$("#groupreport_error").html('');
			$("#groupreport_success").html('');
			$("#groupreport_error").fadeOut();
			$("#groupreport_success").fadeOut();
			$scope.groups_reasons= [];
			$scope.groups_reportSelectedContentId = content_id;
			$scope.groups_reportSelectedContentType = type;
			url  = baseurl+'/spam/getreasons';
			$http.post(url,
			{	
				type:type,content_id:content_id
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.groups_reasons=data.return_array.reasons;
					$scope.groups_ajax_loader_reportpost = 0;
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();	
					$("#reportGroup").modal("hide");
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});	
		}
		$scope.groups_selectReason = function(reason_id,reasontype){
			$scope.groups_selectedReasonId=reason_id;
			$scope.groups_selectedReasonType=reasontype;
			if(reasontype == 'Other'){
				$scope.groups_enableReportReason=1;
			}else{
				$scope.groups_enableReportReason=0;
			}
		}
		$scope.groups_sendReport = function(frmspam){
			$("#groupreport_success").html("");
			$("#groupreport_success").fadeOut();
			if($scope.groups_selectedReasonType == ''){
				$("#groupreport_error").html("<?php echo $this->translate("Select one reason",'default'); ?>");
				$("#groupreport_error").fadeIn("slow");
			}else if($scope.groups_selectedReasonType == 'Other'&&frmspam.otherReason=='' ){
				$("#groupreport_error").html("<?php echo $this->translate("Please enter the reason",'default'); ?>");
				$("#groupreport_error").fadeIn("slow");
			}else{
				$("#groupreport_error").html('');
				$("#groupreport_error").fadeOut('slow');
				$scope.groups_reportAjaxLoader = 1;
				url  = baseurl+'/spam/sentreport';
				$http.post(url,
				{	
					type:$scope.groups_reportSelectedContentType,content_id:$scope.groups_reportSelectedContentId,reason_id:frmspam.reason_id,otherReason:frmspam.otherReason
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					$scope.groups_reportAjaxLoader = 0;
					if(data.return_array.process_status == 'success'){
						
						$("#groupreport_success").html("<?php echo $this->translate("The report is submitted successfully",'default'); ?>");
						$("#groupreport_success").fadeIn("slow");
						$scope.groups_spam={};
						//$("#reportGroup").modal("hide");
					}else{						 	
						$("#groupreport_error").html(data.return_array.process_info);
						$("#groupreport_error").fadeIn("slow");
						//$("#reportGroup").modal("hide");
					}				     
				}).error(function(data, status, headers, config) {
					$scope.groups_reportAjaxLoader = 0;
					// alert("Error occured. Please try again");
				});	
			}
		}
		
		$scope.questiondrpClass[0] = {selected:"Select Question Type"}; 
		$scope.questiondrpClass[0] = {locale:"<?php echo $this->translate("Select Question Type",'default'); ?>"};
		$scope.questiondrpClass[1] = {selected:"Select Question Type"};
		$scope.questiondrpClass[1] = {locale:"<?php echo $this->translate("Select Question Type",'default'); ?>"};
		$scope.questiondrpClass[2] = {selected:"Select Question Type"};
		$scope.questiondrpClass[2] = {locale:"<?php echo $this->translate("Select Question Type",'default'); ?>"};
		$scope.selectedQuestionnaireType = function(row,item,locale){ 
			$scope.questiondrpClass[row].selected = item;
			$scope.questiondrpClass[row].locale = locale;
			$scope.selectedType[row] =  item; 
		}
		$scope.members =[];
		var member_page = 1;
		$scope.ajax_member_loader = 0;
		$scope.confirm_changes = 0;
		$scope.showOwnershipLoadmore = 1;
		$scope.memberPagination==0;
		$scope.ajax_process_changeOwnership = 0;
		$scope.ajax_process_quitGroup = 0;
		$scope.changeOwnership = function(){
			member_page = 1;
			$scope.confirm_changes = 0;
			$("#ownership_popup").modal({ backdrop: 'static'});
			//$scope.ajax_member_loader = 1;
			//$scope.showMembers(member_page);
		}
		$scope.loadmoreMembers = function(){
			member_page = member_page+1;
			$scope.memberPagination==1;
			$scope.showMembers(member_page);
		}
		$scope.processOwnership= function(){
			$scope.ajax_member_loader = 1;
			$scope.confirm_changes = 1;
			$scope.showMembers(member_page);
		}
		$scope.cancelOwnership= function(){
			$scope.confirm_changes = 0;
			$("#ownership_popup").modal("hide");
		}
		$scope.showMembers = function(member_page){			 
			url  = baseurl+'/groups/getMembers';
			$http.post(url,
			{	
				page:member_page,
				group_id:$scope.group.group_id,
				type:"All",
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				$scope.ajax_member_loader =0;
				$scope.loader=0;
				if(data.return_array.process_status == 'success'){
					if(data.return_array.members.length<10){
						$scope.showOwnershipLoadmore = 0;	
					}else{
						$scope.showOwnershipLoadmore = 1;	
					}				
					if(data.return_array.members.length>0){
						if($scope.memberPagination==1){ 
							$scope.members =$scope.members.concat(data.return_array.members);								
						}else{
							$scope.members =data.return_array.members;
						}
					}
					$scope.memberPagination=0;	
					$scope.scrollflag = 0;						
				}else{					 
					$("#groupowner_error").html(data.return_array.process_info);
					$("#groupowner_error").fadeIn();						
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
				 $scope.ajaxMemberLoader =0;
				 $scope.scrollflag = 0;
			});			 
		}
		$scope.selectedOwnerUser = '';
		$scope.selectOwnerUser = function(user_id){
			$scope.selectedOwnerUser = user_id;
		}		
		$scope.groups_ChangeOwnership = function(){
			$scope.ajax_process_changeOwnership=1;
			url  = baseurl+'/groups/changeOwner';
			$http.post(url,
			{	
				group_id:$scope.group.group_id,
				newowner:$scope.selectedOwnerUser,
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {		
				$scope.ajax_process_changeOwnership=0;
				if(data.return_array.process_status == 'success'){
					$scope.confirm_changes = 2;		
				}else{					 
					$("#groupowner_error").html(data.return_array.process_info);
					$("#groupowner_error").fadeIn();						
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
				 $scope.ajaxMemberLoader =0;
				 $scope.scrollflag = 0;
			});
		}
		$scope.finishOwnershipProcess = function(){
			window.location.reload();
		}
		$scope.quitFromGroup = function(){
			$scope.ajax_process_quitGroup = 1;
			url  = baseurl+'/groups/leavegroup';
			$http.post(url,
			{	
				groupId:$scope.group.group_id,				 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {			
				
				if(data.return_array.process_status == 'success'){
					 window.location.reload();
				}else{	
					$scope.ajax_process_quitGroup = 0;
					$("#groupowner_error").html(data.return_array.process_info);
					$("#groupowner_error").fadeIn();						
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
				 $scope.ajaxMemberLoader =0;
				 $scope.scrollflag = 0;
			});
		}
		$scope.ajax_loader_deleteGroup = 0;
		$scope.ajax_directDelete = 0;
		$scope.deleteMethod = '';
		$scope.processCompleted=0;
		$scope.deleteGroup = function(){
			$scope.ajax_loader_deleteGroup = 1;
			$("#deleteGroup_popup").modal();
			$scope.ajax_process_quitGroup = 1;
			url  = baseurl+'/groups/checkBeforeDelete';
			$http.post(url,
			{	
				group_id:$scope.group.group_id,				 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				$scope.ajax_loader_deleteGroup =0;
				if(data.return_array.process_status == 'success'){
					if(data.return_array.members<25){
						$scope.deleteMethod = 'direct';
					}else{
						$scope.deleteMethod = 'admin';
					}
				}else{	
					$scope.ajax_process_quitGroup = 0;
					$("#groupdelete_error").html(data.return_array.process_info);
					$("#groupdelete_error").fadeIn();						
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
				 $scope.ajaxMemberLoader =0;
				 $scope.scrollflag = 0;
			}); 
		}
		$scope.cancelDelete = function(){
			$scope.deleteMethod = '';
			$scope.ajax_loader_deleteGroup = 0;
			$("#deleteGroup_popup").modal("hide");
		}
		$scope.processDelete = function(){
			$scope.ajax_directDelete = 1; 
			$scope.ajax_loader_deleteGroup = 1;
			$("#deleteGroup_popup").modal();
			$scope.ajax_process_quitGroup = 1;
			url  = baseurl+'/groups/deleteGroup';
			$http.post(url,
			{	
				group_id:$scope.group.group_id,				 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
			
				if(data.return_array.process_status == 'success'){
					$scope.ajax_loader_deleteGroup =0;
					$scope.processCompleted=1;
					if($scope.deleteMethod == 'direct'){
						window.location.href = baseurl;
					}					
				}else{			
					$scope.ajax_loader_deleteGroup =0;
					$("#groupdelete_error").html(data.return_array.process_info);
					$("#groupdelete_error").fadeIn();						
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
				 $scope.ajaxMemberLoader =0;
				 $scope.scrollflag = 0;
			}); 
		}
    }); 
	groupapp.directive('removeOnClick', function() {
		return {
			link: function(scope, elt, attrs) {
				scope.remove = function() {
					elt.remove();
				};
			}
		}
	}); 
	angular.element(document).ready(function() {   
		angular.bootstrap(document.getElementById("group_right_container"), ["groupapp"]);
	});
	var upladedFile = [];
	var geo_latitude = ''; 
	var geo_longitude ='';
	var media_page =1;
	var feed_page =1;
	row_count = 2;
	var feedapp = angular.module('feed_app',[]);
	feedapp.config(function ($httpProvider) {
		$httpProvider.defaults.transformRequest = function(data){
			if (data === undefined) {return data;}
			return $.param(data);
		}
	});
	feedapp.directive('scroller', function ($window) {
    return {
        restrict: 'A',
        link: function(scope, element, attrs) {
		  var windowEl = angular.element($window);
		 
			var handler = function() { scope.handler();  }
			windowEl.on('scroll', scope.$apply.bind(scope, handler));
		  
		}
		};
	});
	feedapp.directive('helloMaps', function ($timeout) {
		return function (scope, elem, attrs) {
			$timeout(function(){
				var mapOptions,
				latitude = attrs.latitude,
				longitude = attrs.longitude,
				location = attrs.location,
				going = attrs.going,
				map;		  
				latitude = latitude && parseFloat(latitude, 10) || 43.074688;
				longitude = longitude && parseFloat(longitude, 10) || -89.384294;
				mapOptions = {
					zoom: 8,
					center: new google.maps.LatLng(latitude, longitude)
				};
				map = new google.maps.Map(elem[0], mapOptions);
				if(going==1){
					var marker = new google.maps.Marker({
						position: new google.maps.LatLng(latitude, longitude),
						icon: baseurl+"/public/images/map_pin-blue.svg",
						title:location
					});
				}else{
					var marker = new google.maps.Marker({
						position: new google.maps.LatLng(latitude, longitude),
						icon: baseurl+"/public/images/map_pin.svg",
						title:location
					});
				}
				// To add the marker to the map, call setMap();
				marker.setMap(map);
				google.maps.event.trigger(map, 'resize'); 
			}, 3000);

		};
    }); 
	//feeds controller .......
	feedapp.controller('feedsController',function($scope, $http,$compile){	
		$scope.hideAll = 0; 
		if(group.group_type == 'private'&&group.is_member==0){$scope.hideAll = 1;}
		$scope.is_member = group.is_member; 
		$scope.profile = {};
		$scope.profile.profile_name = '<?php echo $userinfo->user_profile_name; ?>';
		$scope.profile.user_given_name = '<?php echo $userinfo->user_given_name; ?>';
		$scope.profile.profile_photo = '<?php echo $userinfo->profile_photo; ?>';
		$scope.profile.user_id = '<?php echo $userinfo->user_id; ?>';
		$scope.profile.user_fbid = '<?php echo $userinfo->user_fbid; ?>';
		$scope.image_paths = <?php echo json_encode($image_folders); ?>;
		$scope.status_selected = 'text';
		$scope.mygroups = '';
		$scope.mypost = {};
		$scope.mypost.statusText = '';
		$scope.mypost.group_id = '';
		$scope.selectedGroup = '<?php echo $this->translate('Choose Group','default'); ?>';
		$scope.submit = {};
		$scope.submit.switch = 1;
		$scope.media_type = 'image';
		$scope.showVideoImage = 0;
		$scope.mypost.videourl = '';
		$scope.mypost.videoCaption = '';		 
		$scope.mypost.event_date = '<?php echo date("d-m-Y"); ?>';
		$scope.selectedMemberType = "All members";
		$scope.selectedMemberType_locale = "<?php echo $this->translate('All members','default'); ?>";
		$scope.memberTypes = [];
		$scope.memberTypes =[["all","All members","<?php echo $this->translate('All members','default'); ?>"],["friends","Friends","<?php echo $this->translate('Friends','default'); ?>"],["invite","Invite people","<?php echo $this->translate('Invite people','default'); ?>"]];
		$scope.inviteSelected = 0;
		$scope.allMembers = [];
		$scope.event_search = '';
		$scope.objSelectedUsers = [];
		$scope.enablelist = 0;
		$scope.onlist = 0;
		$scope.media = '';
		$scope.medialike_ajaxloader = 0;
		$scope.group = <?php echo json_encode($group_info); ?>;
		$scope.feeds_row1 = [];
		$scope.feeds_row2 = [];
		$scope.feeds_row3 = [];
		$scope.reportAjaxLoader =0;
		$scope.groupAlbums = [];
		$scope.albumAjaxLoader=0;
		$scope.selectedAlbum = '<?php echo $this->translate('Choose Album','default'); ?>';
		$scope.selectedAlbum_id = '';
		$scope.UserEvents = [];
		$scope.album=[];
		$scope.selectedEvent = '';
		$scope.selectedEventTitle = '<?php echo $this->translate('Choose event','default'); ?>';
		$scope.AlbumCreateWindowAjaxLoader=0;
		
		$scope.changeGroup = function(group_id,groupTitle){
			$scope.selectedGroup = groupTitle;
			$scope.mypost.group_id =group_id;
			if($scope.selectedMemberType=='Invite people'){
				$scope.listMembers();	
			}
		}
		$scope.loadAllAlbums = function(group_id){
			url  = baseurl+'/album/getAllGroupAlbums';
			$scope.albumAjaxLoader=1;				 
			$http.post(url,
			{	
				group_id:group_id,				 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				$scope.albumAjaxLoader=0;
				if(data.return_array.process_status == 'success'){
					$scope.groupAlbums =  data.return_array.albums;
				}else{
					$("#new_status_error").html(data.return_array.process_info);
					$("#new_status_error").fadeIn("slow");					 
					 
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.loadAllAlbums($scope.group.group_id);
		$scope.changeAlbum = function(album_id,album_title){
			$scope.selectedAlbum = album_title;
			$scope.mypost.album_id =album_id;
			$scope.selectedAlbum_id =album_id;
		}
		$scope.loadCreateAlbum = function(){			
			if($scope.group.group_id!=''){
				$('#create_album').modal('show');
				$("#new_status_error").fadeOut();
				$scope.AlbumCreateWindowAjaxLoader = 1;
				url  = baseurl+'/activity/getAllEvents';
				$http.post(url,
				{	
					group_id:$scope.group.group_id,				 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					$scope.AlbumCreateWindowAjaxLoader=0;
					if(data.return_array.process_status == 'success'){
						$scope.UserEvents =  data.return_array.events;
					}else{
						$("#new_status_error").html(data.return_array.process_info);
						$("#new_status_error").fadeIn("slow");						 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}else{
				$("#new_status_error").html("<?php echo $this->translate('Select One Group','default'); ?>");
				$("#new_status_error").fadeIn("slow");
			}
		}
		$scope.selectEvent = function(event_id,event_title){
			$scope.selectedEvent = event_id;
			$scope.selectedEventTitle = event_title;
		}
		$scope.createAlbum = function(album){
			if(album.title==''||album.title==undefined){
				$("#album_error").html("<?php echo $this->translate('Add album title','default'); ?>");
				$("#album_error").fadeIn("slow");				
			}else{
				$("#album_error").fadeOut("slow");
				$scope.AlbumCreateWindowAjaxLoader = 1;
				url  = baseurl+'/album/create';
				$http.post(url,
				{	
					group_id:$scope.group.group_id,
					title:album.title,
					description:album.description,
					event_id:$scope.selectedEvent,
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					$scope.AlbumCreateWindowAjaxLoader=0;
					if(data.return_array.process_status == 'success'){
						$scope.groupAlbums =  data.return_array.albums;
						$scope.selectedEvent = '';
						$scope.selectedEventTitle = '<?php echo $this->translate('Choose event','default'); ?>';
						$scope.album = [];
						$("#album_success").html('<?php echo $this->translate('Successfully created your album','default'); ?>');
						$("#album_success").fadeIn("slow");	
					}else{
						$("#album_error").html(data.return_array.process_info);
						$("#album_error").fadeIn("slow");						 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}
		}
		$scope.changeMediaType = function(status){
			$scope.media_type = status;
		}
		$scope.video = [];
		$scope.addVideo = function(){  
			 $scope.videoid = $scope.getYouTubeIdFromURL($scope.mypost.videourl);
			 if($scope.videoid!=false){$scope.showVideoImage = 1;}else{$("#new_status_error").html("<?php echo $this->translate('Invalid video url','default'); ?>");$("#new_status_error").fadeIn("slow");}
        }
		$scope.RemoveVideo = function(){
			$scope.mypost.videourl = '';
			$scope.showVideoImage = 0;
			$scope.videoid = '';
		}
		$scope.getYouTubeIdFromURL = function(url){ 
			var regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]{11,11}).*/;
			var match = url.match(regExp);
			if (match) if (match.length >= 2) return match[2];
			return false;
		}
		
		$scope.submitStatus = function(slected_status){ 
			$scope.status_selected = slected_status;
			switch($scope.status_selected){
				case 'text':
					$scope.SubmitText();
				break;
				case 'media':
					$scope.SubmitMedia();
				break;
				case 'event':
					$scope.SubmitEvent(); 
				break;
			}
		}
		$scope.SubmitText = function(){  
			if($scope.mypost.statusText==''||$scope.mypost.statusText==undefined){
				$("#new_status_error").html("<?php echo $this->translate('Status is empty.. Please add something before you submit','default'); ?>");
				$("#new_status_error").fadeIn("slow");	
				return false;
			}			
			url  = baseurl+'/discussion/ajaxNewDiscussion';
			$scope.submit.switch =2;
			$http.post(url,
			{	
				group_id:$scope.group.group_id,
				statusText:$scope.mypost.statusText
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.submit.switch =1;
					$scope.mypost.statusText= ''; 
					$scope.mypost.group_id= '';
					$scope.selectedGroup = '<?php echo $this->translate('Choose Group','default'); ?>';
					$("#new_status_error").html("");
					$("#new_status_error").fadeOut("slow"); 
					$scope.getFeeds(2);
				}else{
					$("#new_status_error").html(data.return_array.process_info);
					$("#new_status_error").fadeIn("slow");		
					$scope.submit.switch = 1;
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.SubmitMedia = function(){  
			switch($scope.media_type){
				case 'image':					 
					if(post_images.length<=0){
						$("#new_status_error").html("<?php echo $this->translate('Select one file to upload','default'); ?>");
						$("#new_status_error").fadeIn("slow");						 
						return false;
					}
					if($scope.group.group_id==''||$scope.group.group_id==undefined){
						 
						$("#new_status_error").html("<?php echo $this->translate('Select group','default'); ?>");
						$("#new_status_error").fadeIn("slow");
						return false;
					}
					$scope.addMedia();					
				break;
				case 'video':					 
					if($scope.group.group_id==''||$scope.group.group_id==undefined){
						$("#new_status_error").html("<?php echo $this->translate('Select group','default'); ?>");
						$("#new_status_error").fadeIn("slow");
						return false;
					} 
					if($scope.mypost.videourl==''||$scope.mypost.group_id==undefined){						 
						$("#new_status_error").html("<?php echo $this->translate('Select one video to upload','default'); ?>");
						$("#new_status_error").fadeIn("slow");
						return false;
					}
					$scope.addMedia(); 
				break;
			}
		}
		$scope.addMedia =function(){
			url  = baseurl+'/groups/ajaxAddMedia';
			$scope.submit.switch =2;
			$("#new_status_error").html("");
			$("#new_status_error").fadeOut("slow");		
			var formData = new FormData();	
			if($scope.media_type == 'image'){
				formData.append("mediaImage",post_images);
				formData.append("imageCaption",$scope.mypost.caption);
				formData.append("album",$scope.selectedAlbum_id);
			}
			if($scope.media_type == 'video'){
				var videofiles = [];
				angular.forEach($scope.video, function(dataset){ 
					videofiles.push(dataset.url)
				});	
				formData.append("mediaVideo",videofiles);
				formData.append("videoCaption",$scope.mypost.videoCaption);
				formData.append("album",$scope.selectedAlbum_id);
			}
			formData.append("group_id",$scope.group.group_id);
			formData.append("media_type",$scope.media_type);
			$("#progress").html('<div class="progress_status"></div>');
			$http.post(url,formData,{withCredentials: true, headers: {'Content-Type': undefined }, transformRequest: angular.identity})
			.success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.submit.switch =1;
					$scope.mypost.videoCaption= ''; 
					$scope.mypost.caption= ''; 
					$scope.mypost.group_id= '';
					$scope.showVideoImage = 0;
					$scope.mypost.videourl = ''; 
					upladedFile = [];
					$scope.video=[];
					post_images = [];
					$scope.selectedGroup = '<?php echo $this->translate('Choose Group','default'); ?>';
					$scope.selectedAlbum = '<?php echo $this->translate('Choose Album','default'); ?>';
					$scope.selectedAlbum_id = '';
					$("#uploaded_img").hide();
					$("#default_img").show();
					$("#uploaded_images").html('');	
					$("#new_status_error").html("");
					$("#new_status_error").fadeOut("slow");
					$scope.getFeeds(0);
					
				}else{
					$("#new_status_error").html(data.return_array.process_info);
					$("#new_status_error").fadeIn("slow");
					$scope.submit.switch = 1;
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.changeMemberType =  function(id,type,locale){
			$scope.selectedMemberType = type;
			$scope.selectedMemberType_locale = locale;
			if(id == 'invite'){
				if($scope.group.group_id!=''){
					$scope.listMembers();	
				}else{
					$("#new_status_error").html("<?php echo $this->translate('Choose group','default'); ?>");
					$("#new_status_error").fadeIn("slow");
				}				
			}
		}
		$scope.listMembers =  function(){
			$scope.inviteSelected = 1;
			url  = baseurl+'/groups/getAllActiveMembersExceptMe';				 
			$http.post(url,
			{	
				group_id:$scope.group.group_id					 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.allMembers =data.return_array.members
				}else{
					$("#new_status_error").html(data.return_array.process_info);
					$("#new_status_error").fadeIn("slow");						  
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.AddToInvitedUsers = function(user_id,user_name,user_image,user_fbid){
			var incexist = 0;
			angular.forEach($scope.objSelectedUsers, function(dataset){ 
				if(dataset.user_id == user_id){incexist++;}
			});				
			if(incexist == 0){
				$scope.objSelectedUsers.push({
					user_id:user_id,user_name:user_name,user_image:user_image,user_fbid:user_fbid
				});
			}				
		}
		$scope.RemoveFromInvitedUsers = function(user_id){
			var array_index = $scope.getArrayIndex($scope.objSelectedUsers,'user_id',user_id);
			$scope.objSelectedUsers.splice( array_index, 1 );			 
		}
		$scope.getArrayIndex = function(arr_elemnt,key,item){ 
			var incexist = -1;
			for(i=0;i<arr_elemnt.length;i++) {
				if(arr_elemnt[i][key] == item){incexist = i;}
			}
			return incexist;
		}
		$scope.hideList = function(){  
			if(!$scope.onlist)$scope.enablelist = 0;
		}
		$scope.OnListHover = function(){ 
			$scope.onlist = 1;
		}
		$scope.OnListOut =  function(){ 
			$scope.onlist = 0;
			$scope.enablelist = 0;
		}
		$scope.SubmitEvent = function(){
			$scope.mypost.event_location = $(".event_add_location").val(); 
			if($scope.mypost.event_title==''||$scope.mypost.event_title==undefined){
				$("#new_status_error").html("<?php echo $this->translate('Event title required','default'); ?>");
				$("#new_status_error").fadeIn("slow");
				return false;
			}
			if($scope.mypost.event_date==''||$scope.mypost.event_date==undefined){
				$("#new_status_error").html("<?php echo $this->translate('Event date required','default'); ?>");
				$("#new_status_error").fadeIn("slow");
				return false;
			}
			
			if($scope.mypost.event_location==''||$scope.mypost.event_location==undefined){
				$("#new_status_error").html("<?php echo $this->translate('Event location required','default'); ?>");
				$("#new_status_error").fadeIn("slow");
				return false;
			}
			if($scope.mypost.event_description==''||$scope.mypost.event_description==undefined){
				$("#new_status_error").html("<?php echo $this->translate('Event description required','default'); ?>");
				$("#new_status_error").fadeIn("slow");
				return false;
			}			 
			$scope.submit.switch = 2;
			url  = baseurl+'/activity/ajaxAddActivity';	
			var invite_members = [];
			angular.forEach($scope.objSelectedUsers, function(dataset){ 
				 invite_members.push(dataset.user_id);
			});
			$("#new_status_error").html("");
			$("#new_status_error").fadeOut("slow");
			$http.post(url,
			{	
				group_id:$scope.group.group_id,
				event_title:$scope.mypost.event_title,
				event_date:$scope.mypost.event_date,
				event_location:$scope.mypost.event_location,
				event_description:$scope.mypost.event_description,
				event_time:$scope.mypost.event_time,
				selectedMemberType:$scope.selectedMemberType,
				invite_members:invite_members,
				event_location_lat:geo_latitude,
				event_location_lng:geo_longitude
				
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.submit.switch =1;
					$scope.mypost.event_title=''
					$scope.mypost.event_date = '<?php echo date("d-m-Y"); ?>';
					$scope.mypost.event_location ='';
					$scope.mypost.group_id= '';
					$scope.mypost.event_description = '';
					$scope.mypost.event_time = '';
					$scope.selectedMemberType = "All members";
					$scope.selectedMemberType_locale = "<?php echo $this->translate('All members','default'); ?>";
					$scope.objSelectedUsers = [];
					$scope.inviteSelected = 0;					 
					$scope.event_search = '';					 
					$scope.enablelist = 0;
					$scope.onlist = 0;
					$scope.selectedGroup = '<?php echo $this->translate('Choose Group','default'); ?>';
					$scope.getFeeds(0);
				}else{
					$("#new_status_error").html(data.return_array.process_info);
					$("#new_status_error").fadeIn("slow");		
					$scope.submit.switch = 1;
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		/*feeds*/
		$scope.feedType = "All";
		$scope.groupFilter = "<?php echo $this->translate('All Groups','default'); ?>";
		$scope.groupFilterSelected = "All";
		$scope.feedGroups ='';  
		$scope.activityFilterList = [];
		$scope.ActivityFilter = "<?php echo $this->translate('All Activity','default'); ?>";
		$scope.ActivityFilterSelected = "all";
		$scope.activityFilterList =[["all","<?php echo $this->translate('All Activity','default'); ?>"],["Interactions","<?php echo $this->translate('Interactions','default'); ?>"],["friends_post","<?php echo $this->translate('Posts By Friends','default'); ?>"],["goingto","<?php echo $this->translate('Events Im Going To','default'); ?>"]];
		$scope.feeds = [];	 
		$scope.selectActivityFilters = function(identity,name){
			$scope.ActivityFilter = name;
			$scope.ActivityFilterSelected = identity;
			$scope.getFeeds(0);
		}
		$scope.feedSort =function(type){
			$scope.feedType = type;
			$scope.getFeeds(0);
		}
		$scope.feedAjax = 0;
		$scope.getFeeds = function(scrolling){ 			
			if($scope.feedAjax ==0){  
				$scope.feedAjax =1;
				if(scrolling ==1){feed_page = feed_page+1;}else{
					feed_page = 1; console.log(feed_page);
					if($scope.is_member==1){row_count = 2;}else{row_count = 1;}					
					$scope.feeds_row1 = [];
					$scope.feeds_row2 = [];
					$scope.feeds_row3 = [];				 
				}
				url  = baseurl+'/groups/getGroupFeed';				
				$http.post(url,
				{	
					page:feed_page,
					type:$scope.feedType,
					group:$scope.group.group_seo_title,
					activity:$scope.ActivityFilterSelected,
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					$("#progress").html('');
					if(data.return_array.process_status == 'success'){
						if(data.return_array.feeds.length>0){
							$scope.feedsAppend(data.return_array.feeds);
						}
					}else{						 
						$("#group_dialog").html(data.return_array.process_info);
						$("#group_dialog").dialog();						
					}	
					$scope.feedAjax =0;					
				}).error(function(data, status, headers, config) {  
				//	 alert("Error occured. Please try again");
					 $scope.feedAjax =0;
				});
			}
		}
		$scope.feedsAppend = function(feeds){  
			var testINcrement = 0;
			var screenwidth = screen.width;
			var availablerows = 1;
			if(screenwidth<=450){
				availablerows = 1;
			}else if(screenwidth<=768){
				availablerows = 2;
			}else{
				availablerows = 3;
			}
			angular.forEach(feeds, function(dataset){ 
				dataset.viewComment = 0;
				if(availablerows==1){
					$scope.feeds_row1.push(dataset);
					row_count=1;
				}else if(availablerows==2){
					if(row_count==1){
						$scope.feeds_row1.push(dataset);
					}
					if(row_count==2){
						$scope.feeds_row2.push(dataset);
					}					 
					row_count++;
					if(row_count>2){row_count=1;}
				}else{
					if(row_count==1){
						$scope.feeds_row1.push(dataset);
					}
					if(row_count==2){
						$scope.feeds_row2.push(dataset);
					}
					if(row_count==3){
						$scope.feeds_row3.push(dataset);
					}
					row_count++;
					if(row_count>3){row_count=1;}
				} 	 
			});			 
		}
		$scope.funLikeAction = function(system_type,content_id){
			var holder_content = $("."+system_type+"_"+content_id).html();
			$("."+system_type+"_"+content_id).html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
			if(system_type == 'Media'){
				//$("#"+system_type+"_modelwindow").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
				$scope.medialike_ajaxloader = 1;
			}
			if(system_type == 'Image'){
				//$("#"+system_type+"_modelwindow").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
				$scope.medialike_ajaxloader = 1;
			}
			if(system_type == 'Album'){
				//$("#"+system_type+"_modelwindow").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
				$scope.medialike_ajaxloader = 1;
			}
			url  = baseurl+'/like/likes';				 
			$http.post(url,
			{	
				system_type:system_type,content_id:content_id,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.like_count>0){
						var likecontent = '';
						likecontent += '<span class="tootltip_outer">';
						likecontent += '<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction(\''+system_type+'\','+content_id+')" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers(\''+system_type+'\','+content_id+','+data.return_array.like_count+',1)" ng-mouseover="loadToolTip(\''+system_type+'\','+content_id+')" ng-mouseout="unloadToolTip(\''+system_type+'\','+content_id+')">'+data.return_array.like_count+' <?php echo $this->translate('likes','default'); ?></a>';
						likecontent += '<div class="like_tooltip" id="tooltip_'+system_type+'_'+content_id+'" style="display:none">'
							for(i=0;i<data.return_array.liked_users.length;i++){
								likecontent += '<span>'+data.return_array.liked_users[i]+'</span>';
							}
							if(data.return_array.like_count>3){
								likecontent += '<span><?php echo $this->translate('More','default'); ?>..</span>';
							}
						likecontent += '</div></span>';
						$("."+system_type+"_"+content_id).html($compile(likecontent)($scope)) ;
						
					}else{
						$("."+system_type+"_"+content_id).html($compile('<a href="javascript:void(0);" class="post_likes liked" ng-click="funUnLikeAction(\''+system_type+'\','+content_id+')" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers(\''+system_type+'\','+content_id+','+data.return_array.like_count+',1)" title="'+data.return_array.liked_users+'"> <?php echo $this->translate('likes','default'); ?></a>')($scope)) ;
					}
					if(system_type == 'Media'){			
						$scope.medialike_ajaxloader = 0;
						$scope.media.likes_counts = data.return_array.like_count;
						$scope.media.is_liked = 1;
						$scope.media.likedUsers = data.return_array.liked_users;						
					}
					if(system_type == 'Image'){			
						$scope.medialike_ajaxloader = 0;
						$scope.media.likes_counts = data.return_array.like_count;
						$scope.media.is_liked = 1;
						$scope.media.likedUsers = data.return_array.liked_users;						
					}
					if(system_type == 'Album'){			
						$scope.medialike_ajaxloader = 0;
						$scope.albumDetails.likes_counts = data.return_array.like_count;
						$scope.albumDetails.is_liked = 1;
						$scope.albumDetails.likedUsers = data.return_array.liked_users;						
					}					
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();
				$("."+system_type+"_"+content_id).html($compile(holder_content)($scope));					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
			$('[data-toggle="tooltip"]').tooltip();
		}
		$scope.funUnLikeAction = function(system_type,content_id){
			var holder_content = $("#"+system_type+"_"+content_id).html();
			$("."+system_type+"_"+content_id).html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
			if(system_type == 'Media'){
				$scope.medialike_ajaxloader = 1;
			}
			if(system_type == 'Image'){
				//$("#"+system_type+"_modelwindow").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
				$scope.medialike_ajaxloader = 1;
			}
			if(system_type == 'Album'){
				//$("#"+system_type+"_modelwindow").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif"> ');
				$scope.medialike_ajaxloader = 1;
			}
			url  = baseurl+'/like/unlikes';				 
			$http.post(url,
			{	
				system_type:system_type,content_id:content_id,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.like_count>0){
						var likecontent = '';
						likecontent += '<span class="tootltip_outer">';
						likecontent += '<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction(\''+system_type+'\','+content_id+')" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers(\''+system_type+'\','+content_id+','+data.return_array.like_count+',1)" ng-mouseover="loadToolTip(\''+system_type+'\','+content_id+')" ng-mouseout="unloadToolTip(\''+system_type+'\','+content_id+')">'+data.return_array.like_count+' <?php echo $this->translate('likes','default'); ?></a>';
						likecontent += '<div class="like_tooltip" id="tooltip_'+system_type+'_'+content_id+'" style="display:none">'
							for(i=0;i<data.return_array.liked_users.length;i++){
								likecontent += '<span>'+data.return_array.liked_users[i]+'</span>';
							}
							if(data.return_array.like_count>2){
								likecontent += '<span><?php echo $this->translate('More','default'); ?>..</span>';
							}
						likecontent += '</div></span>';
						$("."+system_type+"_"+content_id).html($compile(likecontent)($scope)) ;
					}else{
						$("."+system_type+"_"+content_id).html($compile('<a href="javascript:void(0);" class="post_likes" ng-click="funLikeAction(\''+system_type+'\','+content_id+')" ><i></i></a><a href="javascript:void(0);" class="post_likes" data-toggle="tooltip" data-placement="bottom" ng-click="LoadLikedUsers(\''+system_type+'\','+content_id+','+data.return_array.like_count+',1)" title="'+data.return_array.liked_users+'"> <?php echo $this->translate('likes','default'); ?></a>')($scope)) ;
					}
					if(system_type == 'Media'||system_type == 'Image'){
						$scope.medialike_ajaxloader = 0;
						$scope.media.likes_counts = data.return_array.like_count;
						$scope.media.is_liked =0;
						$scope.media.likedUsers = data.return_array.liked_users;		 
					}
					if(system_type == 'Album'){
						$scope.medialike_ajaxloader = 0;
						$scope.albumDetails.likes_counts = data.return_array.like_count;
						$scope.albumDetails.is_liked =0;
						$scope.albumDetails.likedUsers = data.return_array.liked_users;		 
					}
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();
				$("."+system_type+"_"+content_id).html($compile(holder_content)($scope));					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
			$('[data-toggle="tooltip"]').tooltip();
		}
		$scope.loadpeople = 0;
		$scope.likedpeoples = [];
		$scope.LoadLikedUsers = function(system_type,content_id,like_count,is_liked){
			 $scope.likedpeoples = [];
			 if(like_count ==1&&is_liked==1){
				return true;
			 }
			 if(like_count > 0){
				$scope.loadpeople = 1;
				$('#likes_popup').modal();				 
				url  = baseurl+'/like/userslist';				 
				$http.post(url,
				{	
					system_type:system_type,content_id:content_id,		 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$scope.loadpeople = 0;
						$scope.likedpeoples = data.return_array.liked_users;
					}else{
						$("#group_dialog").html(data.return_array.process_info);
						$("#group_dialog").dialog();
					$("#"+system_type+"_"+content_id).html($compile(holder_content)($scope));					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			 }
		}		 	
		$scope.sentFriendRequest  = function(user){				 
			url  = baseurl+'/user/sentFriendRequest/'+user;
			$http({
			  method: 'POST',
			  url: url
			}).success(function(data, status, headers, config) {		 
				if(data.return_array.process_info==''){
				 ;
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.rejectFriendRequest  = function(user){			 
			url  = baseurl+'/user/rejectFriendRequest/'+user;
			$http({
			  method: 'POST',
			  url: url
			}).success(function(data, status, headers, config) {
				 
				if(data.return_array.process_info==''){
					;
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.acceptFriendRequest  = function(user){			 
			url  = baseurl+'/user/acceptFriendRequest/'+user;
			$http({
			  method: 'POST',
			  url: url
			}).success(function(data, status, headers, config) {				 
				if(data.return_array.process_info==''){
					 ;
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.commentText='';
		$scope.commentTextArray = [];
		$scope.LoadCommentWindow = function(system_type,content_id,row_id,row_index){
			hashedUser=[];			
			var commentForm = '';
			commentForm += '<div class="post_comment-outer" id="post_reply">';
            commentForm += '<div class="header-profile_image comment_profile-img">';
			if($scope.profile.profile_photo!=''&&$scope.profile.profile_photo!=null){
               commentForm += '<img  src="<?php echo $this->basePath(); ?>/public/datagd/profile/'+$scope.profile.user_id+'/'+$scope.profile.profile_photo+'">';
			}else if(($scope.profile.profile_photo==''||$scope.profile.profile_photo==null)&&($scope.profile.user_fbid!=''&&$scope.profile.user_fbid!=null)){
				 commentForm += '<img alt="" src="https://graph.facebook.com/'+$scope.profile.user_fbid+'/picture?width=66&&height=66">';
			}else{ commentForm += '<img  src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">';}
            commentForm += '</div>';
            commentForm += '<div class="post_comment_text post_comment_reply">';
            commentForm += '<div class="commentTextArea" id="commentText_'+system_type+'_'+content_id+'"  contenteditable="true" data-text="<?php echo $this->translate('Start typing your comment here','default'); ?>.." ng-keydown="keyPress($event,\''+system_type+'\','+content_id+');"></div><div id="hashingUsers_'+system_type+'_'+content_id+'"></div>';
            commentForm += '</div>';
            commentForm += '<div class="clear"></div>';
            commentForm += '<div class="post_comment_reply-butns">';
            commentForm += '<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment(\''+system_type+'\','+content_id+','+row_id+','+row_index+')"><?php echo $this->translate('Post','default'); ?></a>';
            commentForm += '</div>';
            commentForm += '</div>';
			$("#comment_"+system_type+'_'+content_id).html($compile(commentForm)($scope));
		}
		$scope.keyPress = function(event,system_type,content_id){			
			if(event.which == 50){
				if(event.shiftKey) {					
					enableHashing = 1;
					str_search ='';
				}
			}
			if(enableHashing){ 
				if(event.which != 50){
					str_search = str_search+String.fromCharCode(event.keyCode);
				}
				$scope.getFriends(str_search,system_type,content_id);
			}
		}
		$scope.getFriends =function(str_search,system_type,content_id){
			url  = baseurl+'/user/getFriends';
			$http.post(url,
			{	
				str_search:str_search,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.arrFriends.length>0){
						var hasusers = '<ul class="hashUserList">';
						angular.forEach(data.return_array.arrFriends, function(dataset){				
							hasusers+= '<li><a href="javascript:void(0)" ng-click="addTOhashed(\''+system_type+'\','+content_id+',\''+dataset.user_profile_name+'\','+dataset.user_id+',\''+dataset.user_given_name+'\')">';
							if(dataset.profile_photo!=''&&dataset.profile_photo!=null){
							   hasusers += '<img  src="<?php echo $this->basePath(); ?>/public/datagd/profile/'+dataset.user_id+'/'+dataset.profile_photo+'">';
							 }else if((dataset.profile_photo==''||dataset.profile_photo==null)&&(dataset.user_fbid!=''&&dataset.user_fbid!=null)){
									hasusers += '<img alt="" src="https://graph.facebook.com/'+dataset.user_fbid+'/picture?width=66&&height=66">';
							 }else{ hasusers += '<img  src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">';}
							hasusers += dataset.user_given_name;
							hasusers+= '</a>';
							hasusers+= '</li>';
						});
						hasusers+= '</ul>';
						$("#hashingUsers_"+system_type+"_"+content_id).html($compile(hasusers)($scope));
					}else{
						$("#hashingUsers_"+system_type+"_"+content_id).html('');
						str_search = '';
						enableHashing=0;
					}						
				}
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.addTOhashed = function(system_type,content_id,profilename,user_id,user_given_name){ 
			if(system_type=='Comment'){
				commentText=$("#editcomment_text_"+content_id).html();
				str_search = str_search.toLowerCase();
				text = commentText.replace('@'+str_search,'<a class="hashed_user" id="hashed_user_'+user_id+'" contentEditable="false"  href="<?php echo $this->basePath(); ?>/'+profilename+'">'+user_given_name+'</a>&nbsp;'); 
				$("#editcomment_text_"+content_id).html(text);
				$("#hashingUsers_"+system_type+"_"+content_id).html('');
				$("#hashingUsers_"+system_type+"_"+content_id).focus();
				var selectedhashusers = $("#hashed_users_"+system_type+"_"+content_id).attr("data-items");
				if(selectedhashusers!=''){
					selectedhashusers=selectedhashusers+'.'+user_id;
				}else{selectedhashusers=user_id;}
				$("#hashed_users_"+system_type+"_"+content_id).attr("data-items",selectedhashusers);			 
				//hashedUser.push(user_id);
				str_search = '';
				enableHashing=0;
			}else{
				commentText=$("#commentText_"+system_type+'_'+content_id).html();
				str_search = str_search.toLowerCase();
				text = commentText.replace('@'+str_search,'<a class="hashed_user" id="hashed_user_'+user_id+'" contentEditable="false"  href="<?php echo $this->basePath(); ?>/'+profilename+'">'+user_given_name+'</a>&nbsp;'); 
				$("#commentText_"+system_type+'_'+content_id).html(text);
				$("#hashingUsers_"+system_type+"_"+content_id).html('');
				$("#hashingUsers_"+system_type+"_"+content_id).focus();
				var selectedhashusers = $("#hashed_users_"+system_type+"_"+content_id).attr("data-items");
				if(selectedhashusers!=''){
					selectedhashusers=selectedhashusers+'.'+user_id;
				}else{selectedhashusers=user_id;}
				$("#hashed_users_"+system_type+"_"+content_id).attr("data-items",selectedhashusers);			 
				//hashedUser.push(user_id);
				str_search = '';
				enableHashing=0;
			}
		}
		$scope.RemoveCommentWindow = function(system_type,content_id){
			$("#comment_"+system_type+'_'+content_id).html('');
			hashedUser=[];
			str_search = '';
			enableHashing=0;
		}		 
		$scope.SendComment = function(system_type,content_id,row_id,row_index){ 
			var buttn_content =  $("#comment_"+system_type+'_'+content_id+" .post_comment_reply-butns").html();
			$("#comment_"+system_type+'_'+content_id+" .post_comment_reply-butns").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif">');			 
			$scope.commentText=$("#commentText_"+system_type+'_'+content_id).html();
			var selectedhashusers = $("#hashed_users_"+system_type+"_"+content_id).attr("data-items");
			hashedUser = selectedhashusers.split('.');
			for(i=0;i<hashedUser.length;i++){
				var term = 'hashed_user_'+hashedUser[i];
				var index = $scope.commentText.indexOf(term);
				if(index == -1){
					hashedUser.splice( i, 1 );		
				}
			}
			if($scope.commentText!=''){
				url  = baseurl+'/comment/comments';
				$http.post(url,
				{	
					system_type:system_type,content_id:content_id,txt_comment:$scope.commentText,hashedUser:hashedUser		 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$("#commentText_"+system_type+'_'+content_id).html('');
						//$("#comment_"+system_type+'_'+content_id).html('');		
						var bt_content = '<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment(\''+system_type+'\','+content_id+','+row_id+','+row_index+')"><?php echo $this->translate('Post','default'); ?></a>';
						$("#comment_"+system_type+'_'+content_id+" .post_comment_reply-butns").html($compile(bt_content)($scope));
						//$scope.LoadCommentList(system_type,content_id,row_id,row_index,1);

						var newcomment = [];
						newcomment['comment_content'] = $scope.commentText;
						newcomment['comment_id'] = data.return_array.comment_id;
						newcomment['comment_time'] = '0m';
						newcomment['user_given_name'] = $scope.profile.user_given_name;
						newcomment['user_id'] = $scope.profile.user_id;
						newcomment['user_register_type'] = '';
						newcomment['user_fbid'] = $scope.profile.user_fbid;
						newcomment['profile_photo'] = $scope.profile.profile_photo;
						newcomment['liked_users'] = 0;
						newcomment['likes_count'] = 0;
						newcomment['islike'] = 0;						
						newcomment['user_profile_name'] = $scope.profile.user_profile_name;
						newcomment['allowedit'] = 1;
						
						if(row_id==1){
							$scope.feeds_row1[row_index].content.is_commented = 1;							
							$scope.feeds_row1[row_index].content.comment_counts = data.return_array.comment_count;						
							$scope.feeds_row1[row_index].content.comments.unshift(newcomment);
						}
						if(row_id==2){
							$scope.feeds_row2[row_index].content.is_commented = 1;
							$scope.feeds_row2[row_index].content.comment_counts = data.return_array.comment_count;
							$scope.feeds_row2[row_index].content.comments.unshift(newcomment);							 
						}
						if(row_id==3){
							$scope.feeds_row3[row_index].content.is_commented = 1;
							$scope.feeds_row3[row_index].content.comment_counts = data.return_array.comment_count;
							$scope.feeds_row3[row_index].content.comments.unshift(newcomment);							 
						}
						hashedUser=[];
					}else{
						$("#group_dialog").html(data.return_array.process_info);
						$("#group_dialog").dialog();
					}	 			     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}else{			 
				$("#group_dialog").html("<?php echo $this->translate('Please add some content before submitting','default'); ?>");
				$("#group_dialog").dialog();
				var bt_content = '<a href="javascript:void(0);" class="default_butn_violet" ng-click="SendComment(\''+system_type+'\','+content_id+','+row_id+','+row_index+')"><?php echo $this->translate('Post','default'); ?></a>';
				$("#comment_"+system_type+'_'+content_id+" .post_comment_reply-butns").html($compile(bt_content)($scope));
			}
		}
		$scope.LoadCommentList = function(system_type,content_id,rowid,rowindex,page){	
			hashedUser=[];
			 if(page=1){
				 if(rowid==1){
					 if($scope.feeds_row1[rowindex].viewComment==1){
						 $scope.feeds_row1[rowindex].viewComment = 0;
					 }else{
						 $scope.feeds_row1[rowindex].viewComment = 1;
					 }					 
				 }
				 if(rowid==2){
					 if($scope.feeds_row2[rowindex].viewComment==1){
						 $scope.feeds_row2[rowindex].viewComment = 0;
					 }else{
						 $scope.feeds_row2[rowindex].viewComment = 1;
					 }					 
				 }
				 if(rowid==3){
					 if($scope.feeds_row3[rowindex].viewComment==1){
						 $scope.feeds_row3[rowindex].viewComment = 0;
					 }else{
						 $scope.feeds_row3[rowindex].viewComment = 1;
					 }					 
				 }
			 }
			url  = baseurl+'/comment/getComments';
			 $http.post(url,
			 {	
				system_type:system_type,content_id:content_id,page:page,		 
			 },
			 {headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			 ).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$("#comment_"+system_type+"_list"+content_id).addClass("open");
					if(rowid==1){
						if(page==1){
							$scope.feeds_row1[rowindex].content.comments = data.return_array.comments;
							$scope.feeds_row1[rowindex].content.comment_page= page;
						}else{
							 
							angular.forEach(data.return_array.comments, function(dataset){	
								$scope.feeds_row1[rowindex].content.comments.push(dataset);
							});
							 
							$scope.feeds_row1[rowindex].content.comment_page= page;
						}					
					}
					if(rowid==2){
						if(page==1){
							$scope.feeds_row2[rowindex].content.comments = data.return_array.comments;
							$scope.feeds_row2[rowindex].content.comment_page= page;
						}else{
							angular.forEach(data.return_array.comments, function(dataset){	
								$scope.feeds_row2[rowindex].content.comments.push(dataset);
							});
							$scope.feeds_row2[rowindex].content.comment_page= page;
						}					
					}
					if(rowid==3){
						if(page==1){
							$scope.feeds_row3[rowindex].content.comments = data.return_array.comments;
							$scope.feeds_row3[rowindex].content.comment_page= page;
						}else{
							angular.forEach(data.return_array.comments, function(dataset){	
								$scope.feeds_row3[rowindex].content.comments.push(dataset);
							});
							$scope.feeds_row3[rowindex].content.comment_page= page;
						}					
					}
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();				 				
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.showCommentText = function(content,id){
			$("#comment_content_text_"+id).html(content);
		}
		$scope.mediaLoader = 0;
		$scope.media = '';
		$scope.media_comments = [];	
		$scope.open_id = '';
		$scope.media_view = 'Images';
		$scope.loadMedia = function(item_id){			
			$scope.media_view = 'Images';
			$scope.mediaLoader = 1;
			$scope.open_id = item_id;
			hashedUser=[];
			$scope.commenteditEnableList =[];
			$(".comment-edit").hide();
			str_search = '';
			enableHashing=0;
			$("#txtMediaComment").html('');
			$scope.medialist = 0;
			url  = baseurl+'/groups/getMedia';
			$http.post(url,
			{		
				item_id:item_id,	
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.mediaLoader = 0;
					$scope.media_comments = data.return_array.comments;
					$scope.media =  data.return_array.group_media;
					var media_content = data.return_array.group_media.allMediafiles;
					var index_element = 0;
					angular.forEach(media_content, function(dataset){ 
						if(dataset == item_id){
							if(index_element+1<media_content.length)
							$scope.media.next_id = media_content[index_element+1];
							else{
								$scope.media.next_id =media_content[0];
							}
							if(index_element==0){ 
								$scope.media.prev_id = media_content[media_content.length-1];
							}else{
								$scope.media.prev_id = media_content[index_element-1];
							}							 
						}
						index_element++;
					});
						 
					if($scope.media.media_type=='youtube'){
						var video_id = $scope.getYouTubeIdFromURL($scope.media.media_file); 
						if(video_id!=''){ 
							showYoutubeVideo(video_id);
						}
						$("#video_content").show();
						
						
						//$scope.loadVideoContent($scope.media.media_file);	
						
					}else{
						$("#video_content").html('');
						$("#video_content").hide();
					}
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();							 				
				}				     
			 }).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			 });
			 
		}
		
		$scope.enableScrollbarMedia = function(){
			 $('#media_list').slimScroll({
				color: '#00f'
			});
		}
		$scope.LoadmoreMedia = function(group_id){
			media_page = media_page+1;
			$scope.loadAllMedia(group_id,media_page);
		}
		$scope.groupAllMediaContent = [];
		$scope.medialist = 0;
		$scope.showLoadmore = 1;
		$scope.albumDetails = [];
		$scope.album_comments = [];
		$scope.LoadAlbum = function(group_id,album_id){  
			$scope.media_group_id =group_id;
			if(album_id!=0&&album_id!=''&&album_id!=null){
				album_page = 1;
				$scope.mediaLoader = 1;
				$scope.media_view = 'AlbumImages';
				url  = baseurl+'/groups/getAlbumMedia';
				$http.post(url,
				{	
					page:album_page,
					group_id:group_id,
					album_id:album_id,
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					$scope.mediaLoader = 0;
					if(data.return_array.process_status == 'success'){
						$scope.albumDetails = data.return_array.group_album;
						$scope.album_comments = data.return_array.comments;
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();	
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}else{
				$scope.loadAllMedia(group_id,1);
			}
		}
		$scope.LoadmoreAlbum = function(group_id,album_id){
			$scope.media_group_id =group_id;
			album_page = album_page+1;
			$scope.media_view = 'AlbumImages';
			url  = baseurl+'/groups/getAlbumMedia';
			$http.post(url,
			{	
				page:album_page,
				group_id:group_id,
				album_id:album_id,
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.group_album.length>0){
						if(data.return_array.group_album.media_files.length>0){
							$scope.albumDetails.media_files = $scope.albumDetails.media_files.concat(data.return_array.group_album.media_files);
							if(data.return_array.group_album.media_files.length<10){$scope.showLoadmore = 0;}
						}else{
							$scope.showLoadmore = 0;
						}
					}else{
						$scope.showLoadmore = 0;
					}
					 
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();	
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.showLoadmoreAllPhoto = 0 ;
		$scope.media_group_id = '';
		$scope.loadAllMedia = function(group_id,page){
			$scope.media_group_id =group_id;
			$scope.showLoadmoreAllPhoto =1;
			media_page = page;
			$scope.mediaLoader = 1;
			$scope.media_view = 'AllImages';
			url  = baseurl+'/groups/getAllMedia';
			$http.post(url,
				{	
					page:page,
					group_id:group_id 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					$scope.mediaLoader = 0;
					if(data.return_array.process_status == 'success'){		
						if(data.return_array.group_media.length>0){
							if(data.return_array.group_media.length<10)$scope.showLoadmoreAllPhoto = 0;
							if(media_page>1){
								$scope.groupAllMediaContent= $scope.groupAllMediaContent.concat(data.return_array.group_media);
							}else{							
								$scope.groupAllMediaContent=data.return_array.group_media;
							}
							 							  
						}							
					}else{
						$("#feed_dialog").html(data.return_array.process_info);
						$("#feed_dialog").dialog();				
						 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
		}
		$scope.GroupAlbumList = [];
		$scope.showLoadmoreGroupAlbum =1;
		$scope.loadAllGroupAlbums = function(group_id,page){
			$scope.media_group_id =group_id;
			albumList_page = page;
			$scope.media_view = 'AllAlbums';
			$scope.mediaLoader = 1;
			url  = baseurl+'/groups/getAllGroupAlbums';
			$http.post(url,
			{	
				page:page,
				group_id:group_id 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				$scope.mediaLoader = 0;
				if(data.return_array.process_status == 'success'){		
					if(data.return_array.album_content.length>0){
						if(data.return_array.album_content.length<10)$scope.showLoadmoreGroupAlbum = 0;
						if(albumList_page>1){
							$scope.GroupAlbumList= $scope.GroupAlbumList.concat(data.return_array.album_content);
						}else{							
							$scope.GroupAlbumList=data.return_array.album_content;
						}
													  
					}							
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();				
					 
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
			
		}
		$scope.LoadmoreGroupAlbum = function(group_id){
			albumList_page = albumList_page+1;
			$scope.loadAllGroupAlbums(group_id,albumList_page);
		}
		$scope.EventAlbumList = [];
		$scope.showLoadmoreEventAlbum =1;
		$scope.loadAllEventAlbums= function(group_id,page){
			$scope.media_group_id =group_id;
			eventalbumList_page = page;
			$scope.media_view = 'EventAlbums';
			$scope.mediaLoader = 1;
			url  = baseurl+'/groups/getAllEventAlbums';
			$http.post(url,
			{	
				page:page,
				group_id:group_id 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				$scope.mediaLoader = 0;
				if(data.return_array.process_status == 'success'){		
					if(data.return_array.album_content.length>0){
						if(data.return_array.album_content.length<10)$scope.showLoadmoreEventAlbum = 0;
						if(albumList_page>1){
							$scope.EventAlbumList= $scope.EventAlbumList.concat(data.return_array.album_content);
						}else{							
							$scope.EventAlbumList=data.return_array.album_content;
						}							  
					}							
				}else{
					$("#feed_dialog").html(data.return_array.process_info);
					$("#feed_dialog").dialog();				
					 
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.LoadmoreEventAlbum = function(group_id){
			eventalbumList_page = eventalbumList_page+1;
			$scope.loadAllGroupAlbums(group_id,eventalbumList_page);
		}
		$scope.loadYoutubeVideo = function(video_id){
			 $("#video_content").html('<iframe style="overflow:hidden;height:100%;width:100%" width="100%" height="100%" src="http://www.youtube.com/embed/'+video_id+'" frameborder="0" allowfullscreen></iframe>');
		}
		$scope.loadVideoContent = function(videoContent){ 
			var video_id = $scope.getYouTubeIdFromURL(videoContent);
			if(video_id!=''){ 
				$scope.loadYoutubeVideo(video_id);
			}
		}
		$scope.enableScrollbar = function(){
			$('#comment_container_outer').slimScroll({
				color: '#00f'
			});
		}
		$scope.commentPage =2;
		$scope.hideloadmore =0;
		$scope.showReply = 1;
		$scope.enableCommentReplyMedia= function(){
			if($scope.showReply ==1){
				$scope.showReply = 0;
			}else{
				$scope.showReply = 1;
			}
		}
		$scope.txtMediaComment = '';
		$scope.loadmoreCommentFromPopup = function(media_id){
			url  = baseurl+'/comment/getComments';
			$http.post(url,
			 {	
				system_type:'Media',content_id:media_id,page:$scope.commentPage,		 
			 },
			 {headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			 ).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$scope.media_comments = $scope.media_comments.concat(data.return_array.comments);
						$scope.commentPage = $scope.commentPage+1;
						if(data.return_array.comments.length<=0){
							$scope.hideloadmore =1;
						}
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();					 				
				}				     
			 }).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			 });
		}
		$scope.removeCommentBox = function(){  
			$scope.showReply = 0;
				$("#txtMediaCommenthashed").html('');
			hashedUser=[];
			str_search = '';
			enableHashing=0;
			$("#txtMediaComment").html('');
			//$("#post_reply-media").hide();
		}
		$scope.keyPressMedia = function(event,system_type,content_id){
			
			if(event.which == 50){
				if(event.shiftKey) {
					
					enableHashing = 1;
					str_search ='';
				}
			}
			if(enableHashing){ 
				if(event.which != 50){
					str_search = str_search+String.fromCharCode(event.keyCode);
				}
				$scope.getFriendsMedia(str_search,system_type,content_id);
			}
		}
		$scope.getFriendsMedia =function(str_search,system_type,content_id){
			url  = baseurl+'/user/getFriends';
			$http.post(url,
				{	
					str_search:str_search,		 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						if(data.return_array.arrFriends.length>0){
							var hasusers = '<ul class="hashUserList">';
							angular.forEach(data.return_array.arrFriends, function(dataset){				
								hasusers+= '<li><a href="javascript:void(0)" ng-click="addTOhashedMedia(\''+system_type+'\','+content_id+',\''+dataset.user_profile_name+'\','+dataset.user_id+',\''+dataset.user_given_name+'\')">';
								if(dataset.profile_photo!=''&&dataset.profile_photo!=null){
								   hasusers += '<img  src="<?php echo $this->basePath(); ?>/public/datagd/profile/'+dataset.user_id+'/'+dataset.profile_photo+'">';
								 }else if((dataset.profile_photo==''||dataset.profile_photo==null)&&(dataset.user_fbid!=''&&dataset.user_fbid!=null)){
										hasusers += '<img alt="" src="https://graph.facebook.com/'+dataset.user_fbid+'/picture?width=66&&height=66">';
								 }else{ hasusers += '<img  src="<?php echo $this->basePath(); ?>/public/images/noimg.jpg">';}
								hasusers += dataset.user_given_name;
								hasusers+= '</a>';
								hasusers+= '</li>';
							});
							hasusers+= '</ul>';
							if(system_type=='Comment'){
								$("#txtMediaEditCommenthashed_"+content_id).html($compile(hasusers)($scope));
							}else{$("#txtMediaCommenthashed").html($compile(hasusers)($scope));}
							
						}else{
							$("#txtMediaCommenthashed").html('');
							str_search = '';
							enableHashing=0;
						}						
					}
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
		}
		$scope.addTOhashedMedia = function(system_type,content_id,profilename,user_id,user_given_name){ 
			if(system_type=='Comment'){
				commentText=$("#editmediacomment_text_"+content_id).html();
				str_search = str_search.toLowerCase();
				text = commentText.replace('@'+str_search,'<a class="hashed_user" id="hashed_user_'+user_id+'" contentEditable="false"  href="<?php echo $this->basePath(); ?>/'+profilename+'">'+user_given_name+'</a>&nbsp;'); 
				$("#editmediacomment_text_"+content_id).html(text);
				$("#txtMediaEditCommenthashed_"+content_id).html('');
				var selectedhashusers = $("#media_hashed_users_"+system_type+"_"+content_id).attr("data-items");
				if(selectedhashusers!=''){
					selectedhashusers=selectedhashusers+'.'+user_id;
				}else{selectedhashusers=user_id;}
				$("#media_hashed_users_"+system_type+"_"+content_id).attr("data-items",selectedhashusers);			 
				//hashedUser.push(user_id);
				str_search = '';
				enableHashing=0;
			}else{
				commentText=$("#txtMediaComment").html();
				str_search = str_search.toLowerCase();
				text = commentText.replace('@'+str_search,'<a class="hashed_user" id="hashed_user_'+user_id+'" contentEditable="false"  href="<?php echo $this->basePath(); ?>/'+profilename+'">'+user_given_name+'</a>&nbsp;'); 
				$("#txtMediaComment").html(text);
				$("#txtMediaCommenthashed").html('');
				var selectedhashusers = $("#media_hashed_users_"+system_type+"_"+content_id).attr("data-items");
				if(selectedhashusers!=''){
					selectedhashusers=selectedhashusers+'.'+user_id;
				}else{selectedhashusers=user_id;}
				$("#media_hashed_users_"+system_type+"_"+content_id).attr("data-items",selectedhashusers);			 
				//hashedUser.push(user_id);
				str_search = '';
				enableHashing=0;
			}
		}
		$scope.loadCommmentText = function(arrayIndex,commenttext){
			 $('#comment_text_'+arrayIndex).html(commenttext);
		}
		$scope.postComment = function(type,media_id){
			$scope.txtMediaComment = $("#txtMediaComment").html();
			if($scope.txtMediaComment!=''){
			url  = baseurl+'/comment/comments';
				$http.post(url,
				{	
					system_type:type,content_id:media_id,txt_comment:$scope.txtMediaComment,hashedUser:hashedUser,	 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						hashedUser=[];
						$scope.media.is_commented = 1;
						$scope.media.comment_count = $scope.media.comment_count;
						var newcomment = [];
						newcomment['likes_count'] = 0;
						newcomment['islike'] = 0;
						newcomment['comment_content'] = $scope.txtMediaComment;						
						newcomment['comment_id'] = data.return_array.comment_id;
						newcomment['comment_time'] = 'just now';
						newcomment['user_given_name'] = $scope.profile.user_given_name;
						newcomment['user_id'] = $scope.profile.user_id;
						newcomment['user_register_type'] = '';
						newcomment['user_fbid'] = $scope.profile.user_fbid;
						newcomment['profile_photo'] = $scope.profile.profile_photo;
						newcomment['likedUsers'] = [];
						newcomment['user_profile_name'] = $scope.profile.profile_name;
						newcomment['allowedit'] = 1;						 
						if(type=='Image'){
							$scope.media_comments.unshift(newcomment);
						}else{
							$scope.album_comments.unshift(newcomment);
						}
						 
						$scope.txtMediaComment = '';	
						$scope.showReply = 0;	
						$("#txtMediaComment").val('');
						$("#txtMediaComment").html('');
						$scope.showReply=0; 
						$scope.removeCommentBox()
						$scope.media.comment_count = ($scope.media.comment_count)*1+1;						
					}else{
						$("#group_dialog").html(data.return_array.process_info);
						$("#group_dialog").dialog();						 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});
			}else{
				$("#group_dialog").html("<?php echo $this->translate('Please add some content before submitting','default'); ?>");
				$("#group_dialog").dialog();
			}
		}
		 
		$scope.QuitRSVP = function(activity_id,row_id,row_count){
			url  = baseurl+'/activity/quitactivity';
			$http.post(url,
			{	
				activity_id:activity_id,					 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){		
					if(row_id == 1){
						$scope.feeds_row1[row_count].content.is_going = 0;
					}
					if(row_id == 2){
						$scope.feeds_row2[row_count].content.is_going = 0;
					}
					if(row_id == 3){
						$scope.feeds_row3[row_count].content.is_going = 0;
					}
					var count_rsvp = $("#activityrsvpcount_"+activity_id).text();
					count_rsvp = (count_rsvp*1)-1;
					$("#map_Activity_"+activity_id).html($compile('<div class="google-map" hello-maps="" latitude="'+data.return_array.activity.group_activity_location_lat+'" longitude="'+data.return_array.activity.group_activity_location_lng+'"  location="'+data.return_array.activity.group_activity_location+'" going="'+data.return_array.activity.is_going+'"></div>')($scope));
					$("#activityrsvpcount_"+activity_id).text(count_rsvp);
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();				 
				}				     
			}).error(function(data, status, headers, config) {
			//	 alert("Error occured. Please try again");
			});
		}
		$scope.JoinRSVP = function(activity_id,row_id,row_count){
			url  = baseurl+'/activity/joinactivity';
			$http.post(url,
			{	
				activity_id:activity_id,					 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){		
					if(row_id == 1){
						$scope.feeds_row1[row_count].content.is_going = 1;
					}
					if(row_id == 2){
						$scope.feeds_row2[row_count].content.is_going = 1;
					}
					if(row_id == 3){
						$scope.feeds_row3[row_count].content.is_going = 1;
					}	
					var count_rsvp = $("#activityrsvpcount_"+activity_id).text();
					count_rsvp = (count_rsvp*1)+1;
					$("#map_Activity_"+activity_id).html($compile('<div class="google-map" hello-maps="" latitude="'+data.return_array.activity.group_activity_location_lat+'" longitude="'+data.return_array.activity.group_activity_location_lng+'"  location="'+data.return_array.activity.group_activity_location+'" going="'+data.return_array.activity.is_going+'"></div>')($scope));
					$("#activityrsvpcount_"+activity_id).text(count_rsvp);						
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();					 
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		var lastScrollPosition = 0;
		$scope.handler = function() {				 
			if($(window).scrollTop()>lastScrollPosition+50){	
				lastScrollPosition = $(window).scrollTop()
				$scope.getFeeds(1);
			}
		}
		$scope.loadPopupToolTip = function(type,id){
			$("#tooltip_popup_"+type+"_"+id).show();
		}
		$scope.unloadPopupToolTip = function(type,id){
			$("#tooltip_popup_"+type+"_"+id).hide();
		}
		$scope.rsvplist = [];
		$scope.rsvppage =1;
		$scope.selectedActivity = '';
		$scope.loadmore = 1;
		$scope.commenteditEnableList = [];
		$scope.loadRsvpList = function(activity_id,filter_by,pageselected){
			$scope.selectedActivity = activity_id;
			$('#rsvplist_outer').slimScroll({
				height: '350px',color: '#00f'
			});			
			if(pageselected==1){
				rsvppage = 1;
			}
			$scope.filter_by = filter_by;
			url  = baseurl+'/activity/rsvplist';
			var system_type = 'Activity';
			var content_id = activity_id;
			$http.post(url,
			{	
				content_id:content_id,page:rsvppage,filter_by:filter_by
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					if(data.return_array.activityrsvp_info.length>0){
						$('#rsvp_popup').modal();
						$scope.loadmore = 1;
					}else{$scope.loadmore = 0;}
					if(rsvppage==1){
						$scope.rsvplist =  data.return_array.activityrsvp_info;
					}else{						 
						$scope.rsvplist = $.merge($scope.rsvplist, data.return_array.activityrsvp_info);						 			 
					}
					rsvppage++;	
					$scope.rsvppage =rsvppage;		 
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();				 				
				}				     
			}).error(function(data, status, headers, config) {
				//alert("Error occured. Please try again");
			});
		}		
		$scope.enableCommentEdit = function(comment_index,comment){
			var array_index = $scope.getArrayIndexEdit($scope.commenteditEnableList,comment_index);
			if(array_index==-1){
				$scope.commenteditEnableList.push(comment_index);
				loadcommentEdit(comment_index,comment);
			}
		}
		$scope.MediaenableCommentEdit = function(comment_index,comment){
			var array_index = $scope.getArrayIndexEdit($scope.commenteditEnableList,comment_index);
			if(array_index==-1){
				$scope.commenteditEnableList.push(comment_index);
				loadcommentEdit(comment_index,comment);
			}			 
			loadcommentEditMedia(comment_index,comment);
		}
		
		$scope.ifexistinEditList = function(comment_index){
			var exist_flag= 0;
			angular.forEach($scope.commenteditEnableList, function(dataset){
				if(dataset == comment_index){exist_flag++;}
			});
			if(exist_flag == 0){return false;}else{return true;}
		}
		$scope.RemoveCommentEditWindow = function(comment_index){
			var array_index = $scope.getArrayIndexEdit($scope.commenteditEnableList,comment_index); 
			$scope.commenteditEnableList.splice( array_index, 1 );	
			$("#edit-comment-outer-"+comment_index).hide();
			$("#hashed_users_Comment_"+comment_index).attr("data-items",'');
			$("#edit-mediacomment-outer-"+comment_index).hide();
			$("#media_hashed_users_Comment_"+comment_index).attr("data-items",'');
			hashedUser=[];
		}		 
		$scope.getArrayIndexEdit = function(arr_elemnt,item){ 
			var incexist = -1;
			for(i=0;i<arr_elemnt.length;i++) {
				if(arr_elemnt[i] == item){incexist = i;}
			}
			return incexist;
		}
		$scope.getArrayIndex = function(arr_elemnt,key,item){ 
			var incexist = -1;
			for(i=0;i<arr_elemnt.length;i++) {
				if(arr_elemnt[i][key] == item){incexist = i;}
			}
			return incexist;
		}
		$scope.SendEditComment = function(comment_id,row_count,row_index){  
			var  system_type = 'Comment';
			var edited_comment = $("#editcomment_text_"+comment_id).html();
			var selectedhashusers = $("#hashed_users_"+system_type+"_"+comment_id).attr("data-items");
			hashedUser = selectedhashusers.split('.');
			for(i=0;i<hashedUser.length;i++){
			 var term = 'hashed_user_'+hashedUser[i];
			 var index = edited_comment.indexOf(term);
			 if(index == -1){
				hashedUser.splice( i, 1 );		
			 }
			}
			if(edited_comment==''){
				$("#group_dialog").html("<?php echo $this->translate('Please add some content before submitting','default'); ?>");
				$("#group_dialog").dialog();
			}else{
				url  = baseurl+'/comment/editComment';
				$http.post(url,
				{	
					edited_comment:edited_comment,comment_id:comment_id,hashedUser:hashedUser,	 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					
					if(data.return_array.process_status == 'success'){
					$("#edit-comment-outer-"+comment_id).hide();
					$("#hashed_users_Comment_"+comment_id).attr("data-items",'');							
						$scope.commentText[comment_id] = edited_comment;						 
						$scope.RemoveCommentEditWindow(comment_id);
						if(row_count==1){
							var array_index = $scope.getArrayIndex($scope.feeds_row1[row_index].content.comments,'comment_id',comment_id);
							$scope.feeds_row1[row_index].content.comments[array_index].comment_content = edited_comment;	
						 
						}
						if(row_count==2){
							var array_index = $scope.getArrayIndex($scope.feeds_row2[row_index].content.comments,'comment_id',comment_id);
							$scope.feeds_row2[row_index].content.comments[array_index].comment_content = edited_comment;	
						}
						if(row_count==3){
							var array_index = $scope.getArrayIndex($scope.feeds_row3[row_index].content.comments,'comment_id',comment_id);
							$scope.feeds_row3[row_index].content.comments[array_index].comment_content = edited_comment;	
						}
					}else{
						$("#group_dialog").html(data.return_array.process_info);
						$("#group_dialog").dialog();				 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});				
			}
		}
		$scope.SendMediaEditComment = function(comment_id,type){  
			var edited_comment = $("#editmediacomment_text_"+comment_id).html();
			if(edited_comment==''){
				$("#group_dialog").html("<?php echo $this->translate('Please add some content before submitting','default'); ?>");
				$("#group_dialog").dialog();
			}else{
				var selectedhashusers = $("#media_hashed_users_Comment_"+comment_id).attr("data-items");
				var hashedUser = selectedhashusers.split('.');
				for(i=0;i<hashedUser.length;i++){
				 var term = 'hashed_user_'+hashedUser[i];
				 var index = edited_comment.indexOf(term);
				 if(index == -1){
					hashedUser.splice( i, 1 );		
				 }
				}
				url  = baseurl+'/comment/editComment';
				$http.post(url,
				{	
					edited_comment:edited_comment,comment_id:comment_id,hashedUser:hashedUser,	 		 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$("#edit-mediacomment-outer-"+comment_id).hide();
						$("#media_hashed_users_Comment_"+comment_id).attr("data-items",'');
						$scope.commentText[comment_id] = edited_comment;	
						if(type == 'AlbumImages'){
							var array_index = $scope.getArrayIndex($scope.album_comments,'comment_id',comment_id);
							$scope.album_comments[array_index].comment_content = edited_comment;
						}
						if(type == 'Image'){
							var array_index = $scope.getArrayIndex($scope.media_comments,'comment_id',comment_id);
							$scope.media_comments[array_index].comment_content = edited_comment;	
						}					 
						$scope.RemoveCommentEditWindow(comment_id);
						$scope.showCommentText(edited_comment,comment_id);
						 
						 
					}else{
						$("#group_dialog").html(data.return_array.process_info);
						$("#group_dialog").dialog();
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});				
			}
		}		
		$scope.DeleteComment = function(comment_id,row_count,row_index){			 
			url  = baseurl+'/comment/deleteComment';
			$http.post(url,
			{	
				comment_id:comment_id,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){					
					$scope.RemoveCommentEditWindow(comment_id);
					$("#comment_list_"+comment_id).remove();
					if(row_count==1){
						var array_index = $scope.getArrayIndex($scope.feeds_row1[row_index].content.comments,'comment_id',comment_id);
						$scope.feeds_row1[row_index].content.comments.splice( array_index, 1 );	
						$scope.feeds_row1[row_index].content.comment_counts = ($scope.feeds_row1[row_index].content.comment_counts*1)-1;
					 
					}
					if(row_count==2){
						var array_index = $scope.getArrayIndex($scope.feeds_row2[row_index].content.comments,'comment_id',comment_id);
						$scope.feeds_row2[row_index].content.comments.splice( array_index, 1 );	
						$scope.feeds_row2[row_index].content.comment_counts = ($scope.feeds_row2[row_index].content.comment_counts*1)-1;
					}
					if(row_count==3){
						var array_index = $scope.getArrayIndex($scope.feeds_row3[row_index].content.comments,'comment_id',comment_id);
						$scope.feeds_row3[row_index].content.comments.splice( array_index, 1 );	
						$scope.feeds_row3[row_index].content.comment_counts = ($scope.feeds_row3[row_index].content.comment_counts*1)-1;
					} 					 
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();			 					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});		 
		}
		$scope.DeleteCommentMedia = function(comment_id,media_id){			 
			url  = baseurl+'/comment/deleteComment';
			$http.post(url,
			{	
				comment_id:comment_id,		 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){					
					//$scope.RemoveCommentEditWindow(comment_id);
					//$("#comment_list_"+comment_id).remove();
					var row_index = 0;	
					var array_index = $scope.getArrayIndex($scope.media_comments,'comment_id',comment_id);
					$scope.media_comments.splice( array_index, 1 );
					$scope.media.comment_count = ($scope.media.comment_count*1)-1;
					var row_index = 0;	
					angular.forEach($scope.feeds_row1, function(dataset){
						if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
							$scope.feeds_row1[row_index].content.comment_counts = ($scope.feeds_row1[row_index].content.comment_counts*1)-1;								 
							$scope.feeds_row1[row_index].content.viewComment =0;
						}
						row_index++;
					});
					var row_index = 0;	
					angular.forEach($scope.feeds_row2, function(dataset){
						if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
							$scope.feeds_row2[row_index].content.comment_counts = ($scope.feeds_row2[row_index].content.comment_counts*1)-1;								 
							$scope.feeds_row2[row_index].content.viewComment =0;								 
						}
						row_index++;
					});
					var row_index = 0;	
					angular.forEach($scope.feeds_row3, function(dataset){
						if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
							$scope.feeds_row3[row_index].content.comment_counts = ($scope.feeds_row3[row_index].content.comment_counts*1)-1;								 
							$scope.feeds_row3[row_index].content.viewComment =0;
						}
						row_index++;
					});							 
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();				 					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});		 
		}
		$scope.EditFeedActivityContent = [];
		$scope.EditFeedDiscussionContent = [];
		$scope.EditFeedMediaContent = [];
		$scope.feedEditSystemType='';
		$scope.ajax_loader_feededit = 1;
		$scope.EditFeedrow_count = '';
		$scope.EditFeedrow_index = '';
		$scope.editLocation ='';
		$scope.editFeed =function(system_type,content_id,row_count,row_index){
			$scope.ajax_loader_feededit = 1
			url  = baseurl+'/groups/getoneFeed';
			$scope.feedEditSystemType=system_type;
			$scope.EditFeedrow_count = row_count;
			$scope.EditFeedrow_index = row_index;
			$http.post(url,
			{	
				system_type:system_type,content_id:content_id
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.ajax_loader_feededit =0;
					if(system_type == 'Activity'){
						$scope.EditFeedActivityContent = data.return_array.feed_details;
						current_lat =$scope.EditFeedActivityContent.group_activity_location_lat;
						current_lng =$scope.EditFeedActivityContent.group_activity_location_lng;
						$scope.editLocation = $scope.EditFeedActivityContent.group_activity_location;
						geo_latitude = current_lat;
						geo_longitude = current_lng;
						$scope.loadDatePicker();
					}
					if(system_type == 'Discussion'){
						$scope.EditFeedDiscussionContent = data.return_array.feed_details;
					}
					if(system_type == 'Media'){
						$scope.EditFeedMediaContent = data.return_array.feed_details;
					}
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();			 					
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});
		}
		$scope.UpdateStatus = function(system_type,content_id,row_count,row_index){
			if(system_type == 'Discussion'){
				var Discussion_data = $("#editDiscussion").val();
				if(Discussion_data==''){
					$("#feed_edit_error").html("<?php echo $this->translate('Enter status to update','default'); ?>");
					$("#feed_edit_error").fadeIn("Slow");
				}else{
					$("#feed_edit_error").html("");
					$("#feed_edit_error").fadeOut("Slow");
					url  = baseurl+'/discussion/edit';
					 
					$http.post(url,
					{	
						system_type:system_type,content_id:content_id,content:Discussion_data
					},
					{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
					).success(function(data, status, headers, config) {
						if(data.return_array.process_status == 'success'){
							$("#feed_edit_success").html("<?php echo $this->translate('Sucessfully Updated your post','default'); ?>");
							$("#feed_edit_success").fadeIn("Slow");
							if(row_count == 1){
								$scope.feeds_row1[row_index].content.group_discussion_content = Discussion_data;
							}
							if(row_count == 2){
								$scope.feeds_row2[row_index].content.group_discussion_content = Discussion_data;
							}
							if(row_count == 3){
								$scope.feeds_row3[row_index].content.group_discussion_content = Discussion_data;
							}
							//$("#feed_edit").modal("hide");
						}else{
							$("#feed_edit_error").html(data.return_array.process_info);
							$("#feed_edit_error").fadeIn("Slow");				 					
						}				     
					}).error(function(data, status, headers, config) {
						// alert("Error occured. Please try again");
					});			
				}
			}else if(system_type == 'Media'){
				var caption = $("#feed_edit_caption").val();
				url  = baseurl+'/groups/editMedia';					 
				$http.post(url,
				{	
					system_type:system_type,content_id:content_id,content:caption
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$("#feed_edit_success").html("<?php echo $this->translate('Sucessfully Updated your post','default'); ?>");
						$("#feed_edit_success").fadeIn("Slow");
						if(row_count == 1){
							$scope.feeds_row1[row_index].content.media_caption = caption;
						}
						if(row_count == 2){
							$scope.feeds_row2[row_index].content.media_caption = caption;
						}
						if(row_count == 3){
							$scope.feeds_row3[row_index].content.media_caption = caption;
						}
						//$("#feed_edit").modal("hide");
					}else{
						$("#feed_edit_error").html(data.return_array.process_info);
						$("#feed_edit_error").fadeIn("Slow");		 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});		
			}else if(system_type == 'Activity'){
				var title = $("#event_title_edit").val();
				var event_date = $("#event_date_edit").val();
				var event_time = $("#event_time_edit").val();
				var event_location = $(".edit_location").val();
				var event_description = $("#event_description_edit").val();
				var event_location_lat= geo_latitude;
				var event_location_lng= geo_longitude;
				var edit_error = 0;
				if(title==''){
					$("#feed_edit_error").html("<?php echo $this->translate('Enter event title','default'); ?>");
					$("#feed_edit_error").fadeIn("Slow");
					edit_error++;
				}
				if(event_date==''){
					$("#feed_edit_error").html("<?php echo $this->translate('Enter event date','default'); ?>");
					$("#feed_edit_error").fadeIn("Slow");
					edit_error++;
				}
				if(event_location==''){
					$("#feed_edit_error").html("<?php echo $this->translate('Enter event location','default'); ?>");
					$("#feed_edit_error").fadeIn("Slow");
					edit_error++;
				}
				if(edit_error==0){
					$("#feed_edit_error").html("");
					$("#feed_edit_error").fadeOut("Slow");
				url  = baseurl+'/activity/editActivity';					 
				$http.post(url,
				{	
					system_type:system_type,
					content_id:content_id,
					title:title,
					event_date:event_date,
					event_time:event_time,
					event_location:event_location,
					event_description:event_description,
					event_location_lat:event_location_lat,
					event_location_lng:event_location_lng,
					 
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						$("#feed_edit_success").html("<?php echo $this->translate('Sucessfully Updated your post','default'); ?>");
						$("#feed_edit_success").fadeIn("Slow");
						if(row_count == 1){
							$scope.feeds_row1[row_index].content.group_activity_title = title;
							$scope.feeds_row1[row_index].content.group_activity_location = event_location;
							$scope.feeds_row1[row_index].content.group_activity_location_lat = event_location_lat;
							$scope.feeds_row1[row_index].content.group_activity_location_lng = event_location_lng;
							$scope.feeds_row1[row_index].content.group_activity_content = event_description;
							$scope.feeds_row1[row_index].content.group_activity_start_timestamp = data.return_array.group_activity_start_timestamp;
						}
						if(row_count == 2){
							$scope.feeds_row2[row_index].content.group_activity_title = title;
							$scope.feeds_row2[row_index].content.group_activity_location = event_location;
							$scope.feeds_row2[row_index].content.group_activity_location_lat = event_location_lat;
							$scope.feeds_row2[row_index].content.group_activity_location_lng = event_location_lng;
							$scope.feeds_row2[row_index].content.group_activity_content = event_description;
							$scope.feeds_row2[row_index].content.group_activity_start_timestamp = data.return_array.group_activity_start_timestamp;
						}
						if(row_count == 3){
							$scope.feeds_row3[row_index].content.group_activity_title = title;
							$scope.feeds_row3[row_index].content.group_activity_location = event_location;
							$scope.feeds_row3[row_index].content.group_activity_location_lat = event_location_lat;
							$scope.feeds_row3[row_index].content.group_activity_location_lng = event_location_lng;
							$scope.feeds_row3[row_index].content.group_activity_content = event_description;
							$scope.feeds_row3[row_index].content.group_activity_start_timestamp = data.return_array.group_activity_start_timestamp;
						}
					//	$("#feed_edit").modal("hide");
					}else{
						$("#feed_edit_error").html(data.return_array.process_info);
						$("#feed_edit_error").fadeIn("Slow");				 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});	
				}				
			}
		}
		$scope.loadDatePicker = function(){
			enableDatepicker();
			addLocationValue($scope.editLocation);
		}		 
		$scope.feedDeleteSystemType='';
		$scope.ajax_loader_feeddelte = 1;
		$scope.DeleteFeedrow_count = '';
		$scope.DeleteFeedrow_index = '';			 
		$scope.deleteFeed =function(system_type,content_id,row_count,row_index){
			$scope.ajax_loader_feeddelte = 0;			 
			$scope.feedDeleteSystemType=system_type;
			$scope.DeleteFeedrow_count = row_count;
			$scope.DeleteFeedrow_index = row_index;
			$scope.DeleteFeedrow_content_id = content_id;			 
			$("#errordeletePost").fadeOut("slow");			  
		}
		$scope.CancelRemovePost = function(){
			$scope.feedDeleteSystemType='';
			$scope.ajax_loader_feeddelte = 1;
			$scope.DeleteFeedrow_count = '';
			$scope.DeleteFeedrow_index = '';
			$("#feed_delete").modal("hide");			 
			$("#errordeletePost").fadeOut("slow");			 
		}
		$scope.RemovePost = function(system_type,content_id,row_count,row_index){
			url  = '';
			if(system_type == 'Discussion'){
				url  = baseurl+'/discussion/delete';	
			}
			if(system_type == 'Media'){
				url  = baseurl+'/groups/deleteMedia';		
			}
			if(system_type == 'Activity'){
				url  = baseurl+'/activity/deleteActivity';	
			}
			if(url != ''){				 				 
				$http.post(url,
				{	
					system_type:system_type,content_id:content_id
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){						 
						if(system_type == 'Discussion'){
							$("#group_dialog").html("<?php echo $this->translate('The post is removed successfully','default'); ?>");							
							$("#group_dialog").dialog();
						}
						if(system_type == 'Media'){
							$("#group_dialog").html("<?php echo $this->translate('The media is removed successfully','default'); ?>");
							$("#group_dialog").dialog();
						}
						if(system_type == 'Activity'){
							$("#group_dialog").html("<?php echo $this->translate('The activity is removed successfully','default'); ?>");
							$("#group_dialog").dialog();
						}
						if(row_count == 1){
							$scope.feeds_row1.splice( row_index, 1 );;
						}
						if(row_count == 2){
							$scope.feeds_row2.splice( row_index, 1 );
						}
						if(row_count == 3){
							$scope.feeds_row3.splice( row_index, 1 );
						}
						$("#feed_delete").modal("hide");
					}else{
						$("#errordeletePost").html(data.return_array.process_info);
						$("#errordeletePost").fadeIn("slow");	 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});	
			}
		}
		$scope.reasons= [];
		$scope.ajax_loader_reportpost = 1;
		$scope.reportSelectedContentId = '';
		$scope.reportSelectedContentType = '';
		$scope.selectedReasonId='';
		$scope.selectedReasonType='';
		$scope.enableReportReason=0;;		
		$scope.spam={};
		$scope.ReportPost = function(type,content_id){
			$("#report_error").html('');
			$("#report_success").html('');
			$("#report_error").fadeOut();
			$("#report_success").fadeOut();
			$scope.ajax_loader_reportpost = 1;
			$scope.reasons= [];
			$scope.reportSelectedContentId = content_id;
			$scope.reportSelectedContentType = type;
			url  = baseurl+'/spam/getreasons';
			$http.post(url,
			{	
				type:type,content_id:content_id
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {
				if(data.return_array.process_status == 'success'){
					$scope.reasons=data.return_array.reasons;
					$scope.ajax_loader_reportpost = 0;
				}else{
					$("#group_dialog").html(data.return_array.process_info);
					$("#group_dialog").dialog();
					$("#report_post").modal("hide");
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});	
		}
		$scope.selectReason = function(reason_id,reasontype){
			$scope.selectedReasonId=reason_id;
			$scope.selectedReasonType=reasontype;
			if(reasontype == 'Other'){
				$scope.enableReportReason=1;
			}else{
				$scope.enableReportReason=0;
			}
		}
		$scope.sendReport = function(frmspam){
			$("#report_success").html("");
			$("#report_success").fadeOut();
			if($scope.selectedReasonType == ''){
				$("#report_error").html("<?php echo $this->translate('Select one reason','default'); ?>");
				$("#report_error").fadeIn("slow");
			}else if($scope.selectedReasonType == 'Other'&&frmspam.otherReason=='' ){
				$("#report_error").html("<?php echo $this->translate('Add reason','default'); ?>");
				$("#report_error").fadeIn("slow");
			}else{
				$("#report_error").html('');
				$("#report_error").fadeOut('slow');
				$scope.reportAjaxLoader =1;
				url  = baseurl+'/spam/sentreport';
				$http.post(url,
				{	
					type:$scope.reportSelectedContentType,content_id:$scope.reportSelectedContentId,reason_id:frmspam.reason_id,otherReason:frmspam.otherReason
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					$scope.reportAjaxLoader =0;
					if(data.return_array.process_status == 'success'){
						$("#report_success").html("<?php echo $this->translate('The  report is successfully submited','default'); ?>");
						$("#report_success").fadeIn('slow');
						$scope.spam={};
						//$("#report_post").modal("hide");
					}else{
						$("#report_error").html(data.return_array.process_info);
						$("#report_error").fadeIn("slow");
						//$("#report_post").modal("hide");
					}				     
				}).error(function(data, status, headers, config) {
					$scope.reportAjaxLoader =0;
					// alert("Error occured. Please try again");
				});	
			}
		}
		$scope.loadmediacommentwindow = function(){
			$scope.showReply = 1;
		}
		$scope.loadToolTip =function(type,id){
			$("#tooltip_"+type+"_"+id).show();
		}
		$scope.unloadToolTip =function(type,id){
			$("#tooltip_"+type+"_"+id).hide();
		}
		$scope.popUpRemoveContent_id = 0;
		$scope.popUpRemoveType = '';
		$scope.ajax_loader_popupdelte = 0;
		$scope.deletePostFromPopup = function(type,content_id){			
			$scope.popUpRemoveContent_id = content_id;
			$scope.popUpRemoveType = type;
			$scope.ajax_loader_popupdelte = 0;
		}
		$scope.CancelRemovePopupPost = function(){		
			$scope.popUpRemoveContent_id = 0;
			$scope.popUpRemoveType = '';
			$scope.ajax_loader_popupdelte = 0;
			$("#popup_delete").modal("hide");
		}
		$scope.RemovePopupPost = function(type,content_id){ 
			$scope.ajax_loader_popupdelte = 1;
			var url  = ''; 
			if(type == 'Image'){ 
				url  = baseurl+'/groups/deleteImage';	
			}
			if(type == 'Album'){ 
				url  = baseurl+'/album/deleteAlbum';	
			}
			if(url != ''){				 				 
				$http.post(url,
				{	
					system_type:type,content_id:content_id,
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {
					if(data.return_array.process_status == 'success'){
						 
						if(type == 'Image'){
							$("#feed_dialog").html("<?php echo $this->translate('The post is removed successfully','default'); ?>");							 
							$("#feed_dialog").dialog();
							var media_id = data.return_array.media_id;
							var is_media_deleted = data.return_array.is_media_deleted;
							if(is_media_deleted==1){
								var row_index = 0;	
								angular.forEach($scope.feeds_row1, function(dataset){
									if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
										$scope.feeds_row1.splice( row_index, 1 );
									}
									row_index++;
								});
								var row_index = 0;	
								angular.forEach($scope.feeds_row2, function(dataset){
									if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
										$scope.feeds_row2.splice( row_index, 1 );
									}
									row_index++;
								});
								var row_index = 0;	
								angular.forEach($scope.feeds_row3, function(dataset){
									if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
										$scope.feeds_row3.splice( row_index, 1 );
									}
									row_index++;
								});
							}else{
								var row_index = 0;	
								angular.forEach($scope.feeds_row1, function(dataset){
									if(dataset.type == 'New Media' && dataset.content.group_media_id == media_id){
										var col_index = 0;
										angular.forEach($scope.feeds_row1[row_index].content.media_files, function(mediadataset){
											if(content_id == mediadataset.id){
												$scope.feeds_row1[row_index].content.media_files.splice( col_index, 1 );
											}												
											col_index++;
										});
										
									}
									row_index++;
								});
								var row_index = 0;	
								angular.forEach($scope.feeds_row2, function(dataset){
									var col_index = 0;
									angular.forEach($scope.feeds_row2[row_index].content.media_files, function(mediadataset){
										if(content_id == mediadataset.id){
											$scope.feeds_row2[row_index].content.media_files.splice( col_index, 1 );
										}												
										col_index++;
									});
									row_index++;
								});
								var row_index = 0;	
								angular.forEach($scope.feeds_row3, function(dataset){
									var col_index = 0;
									angular.forEach($scope.feeds_row3[row_index].content.media_files, function(mediadataset){
										if(content_id == mediadataset.id){
											$scope.feeds_row3[row_index].content.media_files.splice( col_index, 1 );
										}												
										col_index++;
									});
									row_index++;
								});
							}
						}
						if(type == 'Album'){
							var media_id = data.return_array.media_id;
							if(media_id.length>0){
								var row_index = 0;	
								angular.forEach($scope.feeds_row1, function(dataset){
									if(dataset.type == 'New Media'){
										for(i=0;i<media_id.length;i++){
											if(dataset.content.group_media_id ==media_id[i]){
												$scope.feeds_row1.splice( row_index, 1 );
											}
										}									
									}
									row_index++;
								});
								var row_index = 0;	
								angular.forEach($scope.feeds_row2, function(dataset){
									if(dataset.type == 'New Media'){
										for(i=0;i<media_id.length;i++){
											if(dataset.content.group_media_id ==media_id[i]){
												$scope.feeds_row2.splice( row_index, 1 );
											}
										}
									}
									row_index++;
								});
								var row_index = 0;	
								angular.forEach($scope.feeds_row3, function(dataset){
									if(dataset.type == 'New Media'){
										for(i=0;i<media_id.length;i++){
											if(dataset.content.group_media_id ==media_id[i]){
												$scope.feeds_row3.splice( row_index, 1 );
											}
										}
									}
									row_index++;
								});
							}
						}
						$("#popup_delete").modal("hide");
						$("#post-img_popup").modal("hide");
					}else{
						$("#errordeletePost").html(data.return_array.process_info);
						$("#errordeletePost").fadeIn("slow");										 					
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});	
			} 
		}
		$scope.AlbumEdit = 0;
		$scope.album_edit_title = '';
		$scope.album_edit_description = '';
		$scope.album_edit_event_id = '';
		$scope.album_edit_event_list = [];
		$scope.PrepareToEditAlbum = function(album_id){
			$scope.AlbumEdit =1;
			$scope.album_edit_title = $scope.albumDetails.album_name;
			$scope.album_edit_description = $scope.albumDetails.album_description;
			$scope.album_edit_event_id = $scope.albumDetails.album_event_id;
			if($scope.albumDetails.event_name!='')
				$scope.album_edit_event_title = $scope.albumDetails.event_name;
			else
				$scope.album_edit_event_title = '<?php echo $this->translate("Choose event",'default'); ?>';
			$scope.loadGroupEventList($scope.albumDetails.group_id);
		}
		$scope.loadGroupEventList = function(group_id){				 
			$scope.AlbumCreateWindowAjaxLoader = 1;
			url  = baseurl+'/activity/getAllEvents';
			$http.post(url,
			{	
				group_id:group_id,				 
			},
			{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
			).success(function(data, status, headers, config) {					
				if(data.return_array.process_status == 'success'){
					$scope.album_edit_event_list =  data.return_array.events;
				}else{
					$("#new_status_error").html(data.return_array.process_info);
					$("#new_status_error").fadeIn("slow");						 
				}				     
			}).error(function(data, status, headers, config) {
				// alert("Error occured. Please try again");
			});			 
		}
		$scope.selectAlbumEditEvent = function(event_id,title){
			$scope.album_edit_event_id = event_id;
			$scope.album_edit_event_title = title;
		}
		$scope.EditAlbum = function(album_id,title,description){
			if(title==''){
				$("#album_edit_error").html('<?php echo $this->translate("Album title required",'default'); ?>');
				$("#album_edit_error").fadeIn("slow");						 
			}else{
				url  = baseurl+'/album/editAlbum';
				$http.post(url,
				{	
					event_id:$scope.album_edit_event_id,
					title:title,
					description:description,
					album_id:album_id
				},
				{headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}	}	
				).success(function(data, status, headers, config) {					
					if(data.return_array.process_status == 'success'){
						$scope.albumDetails.album_name = title; 
						$scope.albumDetails.album_edit_description = description; 
						$scope.albumDetails.event_name = $scope.album_edit_event_title;
						$scope.albumDetails.event_id = $scope.album_edit_event_id;		
						$scope.CancelEditAlbum();
					}else{
						$(album_edit_error).html(data.return_array.process_info);
						$("#album_edit_error").fadeIn("slow");						 
					}				     
				}).error(function(data, status, headers, config) {
					// alert("Error occured. Please try again");
				});					
			}
		}
		$scope.CancelEditAlbum = function(){
			$scope.AlbumEdit = 0;
			$scope.album_edit_title = '';
			$scope.album_edit_description = '';
			$scope.album_edit_event_id = '';
			$scope.album_edit_event_list = [];
		}
	});
	feedapp.directive('removeOnClick', function() {
		return {
			link: function(scope, elt, attrs) {
				scope.remove = function() {
					elt.remove();
				};
			}
		}
	});
	feedapp.directive('ngFocus', ['$parse', function($parse) {
	  return function(scope, element, attr) {
		var fn = $parse(attr['ngFocus']);
		element.bind('focus', function(event) {
		  scope.$apply(function() {
			fn(scope, {$event:event});
		  });
		});
	  }
	}]); 
	feedapp.directive('ngBlur', ['$parse', function($parse) {
	  return function(scope, element, attr) {
		var fn = $parse(attr['ngBlur']);
		element.bind('blur', function(event) {
		  scope.$apply(function() {
			fn(scope, {$event:event});
		  });
		});
	  }
	}]);
	angular.element(document).ready(function() {	
		angular.bootstrap(document.getElementById("feedapp"), ["feed_app"]);
	}); 
function getFile(){
    document.getElementById("btnUploadImage").click();
}
$(document).on("click","#status_header_media",function(){
	var dropbox = document.getElementById("uplodbtn");
	// init event handlers
	dropbox.addEventListener("dragenter", dragEnter, false);
	dropbox.addEventListener("dragexit", dragExit, false);
	dropbox.addEventListener("dragover", dragOver, false);
	dropbox.addEventListener("drop", drop, false);
 
});
function dragEnter(evt) {
	evt.stopPropagation();
	evt.preventDefault();
}
function dragExit(evt) {
	evt.stopPropagation();
	evt.preventDefault();
}
function dragOver(evt) {
	evt.stopPropagation();
	evt.preventDefault();
}
function drop(evt) {  
	evt.stopPropagation();
	evt.preventDefault();
	var files = evt.dataTransfer.files;
	var count = files.length;
	// Only call the handler if 1 or more files was dropped.
	if (count > 0)
		handleFiles(files);
}
function handleFiles(files) {
	var file = files[0];
	
	 
	upladedFile = files[0];
	for(i=0;i<files.length;i++){
		 moveFiletoTemp(files[i]); 
	}
	//var reader = new FileReader();	 
	//reader.onloadend = handleReaderLoadEnd; 
	//reader.readAsDataURL(file);
}
function handleReaderProgress(evt) {
	if (evt.lengthComputable) {
		var loaded = (evt.loaded / evt.total);
		$("#progressbar").progressbar({ value: loaded * 100 });
	}
}
function handleReaderLoadEnd(evt) {
	var img = document.getElementById("imgUserImage");
	img.src = evt.target.result;
	$("#default_img").hide();
	$("#uploaded_img").show();	 
}
$(document).on("click","#removeUploaded",function(){
	$("#uploaded_img").hide();
	$("#default_img").show();
	upladedFile = [];
});
$(document).on('change','#btnUploadImage',function(e){
	fileInput = e.target.files; 
	for(i=0;i<fileInput.length;i++){
		moveFiletoTemp(fileInput[i]);  
	}
	upladedFile = fileInput;
});
function moveFiletoTemp(file){
	var formData = new FormData();	
	var url = baseurl+'/user/uploadhandler';
	formData.append("mediaImage",file);
	$("#ImageUploadStatus").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif" />');	
	//document.getElementById("imgUserImage").src='<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif';
	$("#progress").html('<div class="progress_status"></div>');
	$.ajax({
		type: 'POST',
		url: url,
		data: formData,
		cache: false,		 
		contentType: false,
		processData: false,	 
		success: function(response) {
			$("#progress").html('');
			$("#ImageUploadStatus").html('');
			if(response.return_array.process_status == 'success'){				
				//$("#default_img").hide();
				//$("#uploaded_img").show();				
				//document.getElementById("imgUserImage").src=response.return_array.image_url;
				post_images.push(response.return_array.filename);
				var img_uploaded = '<div class="upload_image_prev"><img src="'+response.return_array.image_url+'"    /><a href="javascript:void(0)" class="uplaod_image_prev_close" data-item="'+response.return_array.filename+'"><?php echo $this->translate("Close",'default'); ?></a></div>';
				$("#uploaded_images").append(img_uploaded);				
			}else{	
				$("#new_status_error").html(response.return_array.process_info);
				$("#new_status_error").fadeIn("slow");
				$("#default_img").show();
				$("#uploaded_img").hide();	
				 
			}	
		},
		error: function(xhr, ajaxOptions, thrownError) {		 			
			$("#new_status_error").html("<?php echo $this->translate("upload failed.Please try again",'default'); ?>");
			$("#new_status_error").fadeIn("slow");			 
		}		
	});
}
var profilepic = [];
	$(document).on('change','#profile_image_file',function(e){			  
		fileInput = e.target.files;
		profilepic = fileInput[0];
		moveProfilepictoTemp(); 	 
	});
	
function moveProfilepictoTemp(){
	var formData = new FormData();	
	var url = baseurl+'/user/uploadhandler';
	formData.append("mediaImage",profilepic);
	//$("#ImageUploadStatus").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif" />');	
	//document.getElementById("imgUserImage").src='<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif';
	$("#profilepic_process").html('<div class="progress_status"></div>');
	$.ajax({
		type: 'POST',
		url: url,
		data: formData,
		cache: false,		 
		contentType: false,
		processData: false,	 
		success: function(response) {
			//$("#ImageUploadStatus").html('');
			$("#profilepic_process").html('');
			if(response.return_array.process_status == 'success'){ 
				$('.image-editor').cropit('imageSrc', response.return_array.image_url); 
			}else{	
				$("#group_dialog").html(response.return_array.process_info);
				$( "#group_dialog" ).dialog();					 
			}	
		},
		error: function(xhr, ajaxOptions, thrownError) {		 			
			$("#group_dialog").html("<?php echo $this->translate("upload failed.Please try again",'default'); ?>");
			$( "#group_dialog" ).dialog(); 
		}		
	});
}
$(document).on("click","#loadProfileUpload",function(){
	var dropbox = document.getElementById("profile_pic_editor");
	// init event handlers
	dropbox.addEventListener("dragenter", dragEnterProfile, false);
	dropbox.addEventListener("dragexit", dragExitProfile, false);
	dropbox.addEventListener("dragover", dragOverProfile, false);
	dropbox.addEventListener("drop", dropProfile, false);
 
});

	function dragEnterProfile(evt) {
		evt.stopPropagation();
		evt.preventDefault();
	}
	function dragExitProfile(evt) {
		evt.stopPropagation();
		evt.preventDefault();
	}
	function dragOverProfile(evt) {
		evt.stopPropagation();
		evt.preventDefault();
	}
	function dropProfile(evt) {  
		evt.stopPropagation();
		evt.preventDefault();
		var files = evt.dataTransfer.files;		
		//if (navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1) {alert(1);alert(evt.target.files[0].name);$("#imgUserImage").html(files.name);}		
		var count = files.length;
		// Only call the handler if 1 or more files was dropped.
		if (count > 0)
			handleFilesProfile(files);
	}
	function handleFilesProfile(files) {
		var file = files[0];		 
		profilepic = files[0];
		 moveProfilepictoTemp(); 
		//var reader = new FileReader();	 
		//reader.onloadend = handleReaderLoadEnd; 
		//reader.readAsDataURL(file);
	}
	function handleReaderProgress(evt) {
		if (evt.lengthComputable) {
			var loaded = (evt.loaded / evt.total);
			$("#progressbar").progressbar({ value: loaded * 100 });
		}
	}
	function handleReaderLoadEnd(evt) {
		var img = document.getElementById("imgUserImage");
		img.src = evt.target.result;
		$("#default_img").hide();
		$("#uploaded_img").show();	 
	}
function enableDatepicker(){	 
	$("#enableDatepiker").trigger("click");
}
function addLocationValue(location){
	$('.edit_location').val(location);
}
$(document).on("click","#event_tab",function(){	
	$( "#event_date" ).datepicker({ changeYear: true , dateFormat: "dd-mm-yy",minDate: new Date(<?php echo date("Y");?>, <?php echo date("m");?> - 1, <?php echo date("d");?>) });
	//$('#event_time').timeEntry();
	$('#event_time').timepicker();
	//initialize();
	autocomplete_init();gmaps_init();
}); 
 $(document).on("click","#enableDatepiker",function(){
	$( "#event_date_edit" ).datepicker({ changeYear: true , dateFormat: "dd-mm-yy",minDate: new Date(<?php echo date("Y");?>, <?php echo date("m");?> - 1, <?php echo date("d");?>) });
	//$('#event_time_edit').timeEntry();
	$('#event_time_edit').timepicker();
	mapselected = 'map2';
	gmaps_init();	
	autocomplete_init();					
});
$('#post-img_popup').on('hidden.bs.modal', function (e) {
		$("#video_content").html('');
	});
</script>
<style>
[contentEditable=true]:empty:not(:focus):before{
        content:attr(data-text)
    }
#map-canvasedit, #map-canvas, #activity_map{
		height: 344px;
		width:340px;
		border: 1px solid #999;
		-moz-box-shadow:    0px 0px 5px #ccc;
		-webkit-box-shadow: 0px 0px 5px #ccc;
		box-shadow:         0px 0px 5px #ccc;
}
 .google-map{width:100%; height:100%;}
 [draggable=true] {
  -khtml-user-drag: element;
}
.scrollof{
	pointer-events: none;
}
</style>
<script type="text/javascript"> 
 
var geocoder;
var map;
var marker;
var mapselected = 'map1';
// initialise the google maps objects, and add listeners
function gmaps_init(){
  // center of the universe
  var latlng = new google.maps.LatLng(current_lat,current_lng);

  var options = {
    zoom: 5,
    center: latlng,
	panControl: false,
	zoomControl: false,
	scaleControl: false,
    mapTypeId: google.maps.MapTypeId.ROADMAP,

  };
  // create our map object   
  
	if(mapselected=='map2'){
	   map = new google.maps.Map(document.getElementById("map-canvasedit"), options);  
	}else{
	   map = new google.maps.Map(document.getElementById("map-canvas"), options);  
	} 
  
  // the geocoder object allows us to do latlng lookup based on address
  geocoder = new google.maps.Geocoder();	 
  // the marker shows us the position of the latest address
  marker = new google.maps.Marker({
    map: map,
	icon: baseurl+"/public/images/map_pin.svg",
    draggable: true
  });
marker.setPosition(latlng);
  // event triggered when marker is dragged and dropped
  google.maps.event.addListener(marker, 'dragend', function() {
    geocode_lookup( 'latLng', marker.getPosition() );
  });
  // event triggered when map is clicked
  google.maps.event.addListener(map, 'click', function(event) {
    marker.setPosition(event.latLng)
    geocode_lookup( 'latLng', event.latLng  );
  });
  $('#gmaps-error').hide();
}
// move the marker to a new position, and center the map on it
function update_map( geometry ) {
  map.fitBounds( geometry.viewport )
  marker.setPosition( geometry.location )
}
// fill in the UI elements with new position data
function update_ui( address, latLng ) { 
if(mapselected=='map2'){
	$('#edit_location').autocomplete("close");
  $('#edit_location').val(address); 
}else{
  $('#location').autocomplete("close");
  $('#location').val(address);   
}
  geo_latitude = latLng.lat(); 
  geo_longitude = latLng.lng(); 
  //$('#gmaps-output-latitude').html(latLng.lat());
  //$('#gmaps-output-longitude').html(latLng.lng());
}

// Query the Google geocode object
//
// type: 'address' for search by address
//       'latLng'  for search by latLng (reverse lookup)
//
// value: search query
//
// update: should we update the map (center map and position marker)?
function geocode_lookup( type, value, update ) {
  // default value: update = false
  update = typeof update !== 'undefined' ? update : false;
  request = {};
  request[type] = value;
  geocoder.geocode(request, function(results, status) {
    $('#gmaps-error').html('');
    $('#gmaps-error').hide();
    if (status == google.maps.GeocoderStatus.OK) {
      // Google geocoding has succeeded!
      if (results[0]) {
        // Always update the UI elements with new location data
        update_ui( results[0].formatted_address,
                   results[0].geometry.location )

        // Only update the map (position marker and center map) if requested
        if( update ) { update_map( results[0].geometry ) }
      } else {
        // Geocoder status ok but no results!?
         $('#gmaps-error').html("<?php echo $this->translate("Sorry, something went wrong. Try again!",'default'); ?>");
        $('#gmaps-error').show();
      }
    } else {
      // Google Geocoding has failed. Two common reasons:
      //   * Address not recognised (e.g. search for 'zxxzcxczxcx')
      //   * Location doesn't map to address (e.g. click in middle of Atlantic)

      if( type == 'address' ) {
        // User has typed in an address which we can't geocode to a location
         $('#gmaps-error').html("<?php echo $this->translate("Sorry! We couldn't find",'default'); ?> " + value + ".<?php echo $this->translate("Try a different search term, or click the map",'default'); ?> ." );
        $('#gmaps-error').show();
      } else {
        // User has clicked or dragged marker to somewhere that Google can't do a reverse lookup for
        // In this case we display a warning, clear the address box, but fill in LatLng
        $('#gmaps-error').html("<?php echo $this->translate("Woah... that's pretty remote! You're going to have to manually enter a place name",'default'); ?>." );
        $('#gmaps-error').show();
        update_ui('', value)
      }
    };
  });
};
// initialise the jqueryUI autocomplete element
function autocomplete_init() {	 
  $("#location").autocomplete({
    // source is the list of input options shown in the autocomplete dropdown.
    // see documentation: http://jqueryui.com/demos/autocomplete/
    source: function(request,response) {
      // the geocode method takes an address or LatLng to search for
      // and a callback function which should process the results into
      // a format accepted by jqueryUI autocomplete
      geocoder.geocode( {'address': request.term }, function(results, status) {
        response($.map(results, function(item) {
          return {
            label: item.formatted_address, // appears in dropdown box
            value: item.formatted_address, // inserted into input element when selected
            geocode: item                  // all geocode data: used in select callback event
          }
        }));
      })
    },
    // event triggered when drop-down option selected
    select: function(event,ui){
      update_ui(  ui.item.value, ui.item.geocode.geometry.location )
      update_map( ui.item.geocode.geometry )
    }
  }); 
  $("#edit_location").autocomplete({
    // source is the list of input options shown in the autocomplete dropdown.
    // see documentation: http://jqueryui.com/demos/autocomplete/
    source: function(request,response) {
      // the geocode method takes an address or LatLng to search for
      // and a callback function which should process the results into
      // a format accepted by jqueryUI autocomplete
      geocoder.geocode( {'address': request.term }, function(results, status) {
        response($.map(results, function(item) {
          return {
            label: item.formatted_address, // appears in dropdown box
            value: item.formatted_address, // inserted into input element when selected
            geocode: item                  // all geocode data: used in select callback event
          }
        }));
      })
    },
    // event triggered when drop-down option selected
    select: function(event,ui){
      update_ui(  ui.item.value, ui.item.geocode.geometry.location )
      update_map( ui.item.geocode.geometry )
    }
  }); 
  // triggered when user presses a key in the address box
  $("#location").bind('keydown', function(event) {
    if(event.keyCode == 13) {
      geocode_lookup( 'address', $('#location').val(), true );
      // ensures dropdown disappears when enter is pressed
      $('#location').autocomplete("disable")
    } else {
      // re-enable if previously disabled above
      $('#location').autocomplete("enable")
    }
  }); 
$("#edit_location").bind('keydown', function(event) {
    if(event.keyCode == 13) {
      geocode_lookup( 'address', $('#edit_location').val(), true );
      // ensures dropdown disappears when enter is pressed
      $('#edit_location').autocomplete("disable")
    } else {
      // re-enable if previously disabled above
      $('#edit_location').autocomplete("enable")
    }
  });   
};  	
</script> 						
<script type="text/javascript">  
	mapselected = 'map1';
	gmaps_init();				
	autocomplete_init();					 
</script>
<script type="text/javascript">
     
	$(document).on('click','#bannerEditor',function(e){
		if(group.group_photo_orginal!=''&&group.group_photo_orginal!=null){
			$('.image-editor-group').cropit({
			 exportZoom:1.25,
			  imageState: {
				src: '<?php echo $this->basePath(); ?>/public/datagd/group/'+group.group_id+'/avtar/'+group.group_photo_orginal
			  }
			 
			});
			}else{
				$('.image-editor-group').cropit({
					exportZoom:1.25,
					imageState: {
						src: '<?php echo $this->basePath(); ?>/public/images/group-img_def.jpg'
					}
				});
			}
	});
	function showLoader(){ 
		$("#group_banner_edit_progress").html('');
	}
	$(document).on('click','#bannerUpload',function(e){
		if(group.group_photo_orginal!=''&&group.group_photo_orginal!=null){
			$('.image-editor-group').cropit({
			 exportZoom:1.25,
			  imageState: {
				src: '<?php echo $this->basePath(); ?>/public/datagd/group/'+group.group_id+'/avtar/'+group.group_photo_orginal
			  },
			 
			});
		}else{
			$('.image-editor-group').cropit({
				exportZoom:1.25,
				imageState: {
					src: '<?php echo $this->basePath(); ?>/public/images/group-img_def.jpg'
				},
				 
			});
		}
		$("#file_bannerimage_upload").click();
	});
	 var groupbanneredit = [];
	$(document).on('change','#file_bannerimage_upload',function(e){			  
		fileInput = e.target.files;
		groupbanneredit = fileInput[0];
		if (navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1) {
			 moveGrouphpictoTemp(); 
		}
	});
	function moveGrouphpictoTemp(){
	var formData = new FormData();	
		var url = baseurl+'/user/uploadhandler';
		formData.append("mediaImage",groupbanneredit);
		//$("#ImageUploadStatus").html('<img src="<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif" />');	
		//document.getElementById("imgUserImage").src='<?php echo $this->basePath(); ?>/public/images/ajax_loader.gif';
		$("#group_banner_edit_progress").html('<div class="progress_status"></div>');
		//$('.image-editor-group').cropit('imageSrc','<?php echo $this->basePath(); ?>/public/images/ajaxloader-2.gif'); 
		//$('.image-editor-group').addClass("banner-edit-ajax");
		$('.image-editor-group').cropit('disable')
		$.ajax({
			type: 'POST',
			url: url,
			data: formData,
			cache: false,		 
			contentType: false,
			processData: false,	 
			success: function(response) {
				//$("#ImageUploadStatus").html('');				
				if(response.return_array.process_status == 'success'){ 
					$('.image-editor-group').cropit('reenable')
					$("#group_banner_edit_progress").html('');
					
					$('.image-editor-group').cropit('imageSrc',response.return_array.image_url); 
					//$('.image-editor-group').removeClass("banner-edit-ajax");
					//$('.image-editor-group').cropit('disable');
					//$('.image-editor-group').cropit('reenable');
					group_banner_new = 1;
				}else{	
					$("#group_banner_edit_progress").html('');
					$("#group_dialog").html(response.return_array.process_info);
					$( "#group_dialog" ).dialog();				 
				}	
			},
			error: function(xhr, ajaxOptions, thrownError) {	
				$("#group_banner_edit_progress").html('');
				$("#group_dialog").html("<?php echo $this->translate('upload failed.Please try again','default'); ?> ");
				$( "#group_dialog" ).dialog(); 
			}		
		});
	}
	$(document).on("click","#bannerUpload",function(){
		var dropbox = document.getElementById("group-banner-edit")

		// init event handlers
		dropbox.addEventListener("dragenter", dragEnterGroup, false);
		dropbox.addEventListener("dragexit", dragExitGroup, false);
		dropbox.addEventListener("dragover", dragOverGroup, false);
		dropbox.addEventListener("drop", dropGroup, false);
	 
	});
	$(document).on("click","#bannerEditor",function(){
		var dropbox = document.getElementById("group-banner-edit")

		// init event handlers
		dropbox.addEventListener("dragenter", dragEnterGroup, false);
		dropbox.addEventListener("dragexit", dragExitGroup, false);
		dropbox.addEventListener("dragover", dragOverGroup, false);
		dropbox.addEventListener("drop", dropGroup, false);
	 
	});
	

	function dragEnterGroup(evt) {
		evt.stopPropagation();
		evt.preventDefault();
	}

	function dragExitGroup(evt) {
		evt.stopPropagation();
		evt.preventDefault();
	}

	function dragOverGroup(evt) {
		evt.stopPropagation();
		evt.preventDefault();
	}

	function dropGroup(evt) {   
		evt.stopPropagation();
		evt.preventDefault();
		var files = evt.dataTransfer.files;
		
		//if (navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1) {alert(1);alert(evt.target.files[0].name);$("#imgUserImage").html(files.name);}
		
		var count = files.length;

		// Only call the handler if 1 or more files was dropped.
		if (count > 0)
			handleFilesGroup(files);
	}


	function handleFilesGroup(files) {
		var file = files[0];
		
		 
		groupbanneredit = files[0];
		if (navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1) {
			 moveGrouphpictoTemp(); 
		}
		
		//var reader = new FileReader();	 
		//reader.onloadend = handleReaderLoadEnd; 
		//reader.readAsDataURL(file);
	}
	function handleReaderProgress(evt) {
		if (evt.lengthComputable) {
			var loaded = (evt.loaded / evt.total);
			$("#progressbar").progressbar({ value: loaded * 100 });
		}
	}
	function handleReaderLoadEnd(evt) {
		var img = document.getElementById("imgUserImage");
		img.src = evt.target.result;
		$("#default_img").hide();
		$("#uploaded_img").show();	 
	}
	$(function() {
		 
        $('.image-editor').cropit({
          exportZoom: 1.25,
          imageBackground: true,
          imageBackgroundBorderWidth: 20,
          imageState: {
            src: '<?php echo $this->basePath();?>/public/images/profile-default-crop.jpg'
          }
        });

        $('.export').click(function() {
          var imageData = $('.image-editor').cropit('export');
           window.open(imageData);
        });
      });
	function loadToolTip(type,id){
		$("#tooltip_"+type+"_"+id).show();
	}
	function unloadToolTip(type,id){
		$("#tooltip_"+type+"_"+id).hide();
	}
	var invite_listenabled = 0;
	$(document).on('click','#invite_group',function(e){
		if(invite_listenabled==0){
			$("#listed_members_container").hide();
		}
	});
	$(document).on('mouseenter','#invite_list_friend',function(e){
		invite_listenabled = 1;
	});
	$(document).on('mouseleave','#invite_list_friend',function(e){
		invite_listenabled = 0;
	});
	$(document).on('mouseenter','#listed_members_container',function(e){
		invite_listenabled = 1;
	});
	$(document).on('mouseleave','#listed_members_container',function(e){
		invite_listenabled = 0;
	});
	$('#map-canvas').addClass('scrollof');
	$('#map-canvasedit').addClass('scrollof');
    $(document).on('click','.gmap-addevent', function() {
    	$('#map-canvas').removeClass('scrollof');		
    });
	$(document).on('mouseleave','#map-canvas', function() {
    	 $('#map-canvas').addClass('scrollof');
    });
	$(document).on('click','.event-edit-map', function() {
		$('#map-canvasedit').removeClass('scrollof');	
	});
	$(document).on('mouseleave','#map-canvasedit', function() {
    	 $('#map-canvasedit').addClass('scrollof');
    });	     	 
	$('.google-map').addClass('scrollof');
    $(document).on('click','.post_event-map', function() { 
		var map_id = $(this).attr("id");
    	$("#"+map_id+" .google-map").removeClass('scrollof');		
    });
	$(document).on('mouseleave','.post_event-map', function() {
    	var map_id = $(this).attr("id");
    	$("#"+map_id+" .google-map").addClass('scrollof');	
    });
	$(document).on("click",".uplaod_image_prev_close",function(){
		var image = $(this).attr("data-item");
		for($i=0;i<post_images.length;i++){
			if(image == post_images[i]){
				post_images.splice( i, 1 );
			}
		}	 
		$(this).parent().remove();
	
	});
	$(document).on('click','#laodGroupImages', function() { 
			$("#hid_loader").trigger( "click" );
			$("#post-img_popup").modal("show");
			
		});
	function loadcommentEdit(comment_id,comment){ 
		$("#edit-comment-outer-"+comment_id).show();
		$("#editcomment_text_"+comment_id).html(comment);
		$("#editcomment_text_"+comment_id).attr('contenteditable','true');
	}
	function loadcommentEditMedia(comment_id,comment){ 
		$("#edit-mediacomment-outer-"+comment_id).show();
		$("#editmediacomment_text_"+comment_id).html(comment);
		$("#editmediacomment_text_"+comment_id).attr('contenteditable','true');
	}
	function showYoutubeVideo(video_id){
	 
		var iframe_content = '<iframe style="overflow:hidden;height:100%;width:100%" width="100%" height="100%" src="http://www.youtube.com/embed/'+video_id+'" frameborder="0" allowfullscreen></iframe>';
		document.getElementById("video_content").innerHTML = iframe_content;
		// jQuery("#video_content").html(iframe_content);
	}
</script>